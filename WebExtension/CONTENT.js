let global=window;if(global.CONFIG={isDevMode:!1},global.METHOD=(t=>{let e,n,r=(t,e)=>{if(void 0!==n)return n(t,e)};return r.type=METHOD,e="function"==typeof t?t(r):t,void 0!==e&&(n=e.run),r}),global.MSG=METHOD(t=>{let e={};return t.addData=(t=>{EXTEND({origin:e,extend:t})}),{run:t=>{let n,r;CHECK_IS_DATA(t)!==!0?n=t:r=t,void 0!==n&&(r=e[n]);let i;return EACH(r,t=>{return i=t,!1}),void 0!==i&&CHECK_IS_DATA(i)===!0&&EACH(i,t=>{return i=t,!1}),i}}}),global.TO_DELETE=null,global._=void 0,global.BOX=METHOD(t=>{let e={};return t.getAllBoxes=(()=>{return e}),{run:t=>{let n=t=>{let e,r=t.split(".");return EACH(r,t=>{void 0===e?(void 0===n[t]&&(n[t]={}),e=n[t]):(void 0===e[t]&&(e[t]={}),e=e[t])}),e};return n.type=BOX,n.boxName=t,global[t]=e[t]=n,void 0===CONFIG[t]&&(CONFIG[t]={}),FOR_BOX.inject(n),n}}}),global.FOR_BOX=METHOD(t=>{let e=[];return t.inject=(t=>{EACH(e,e=>{e(t)})}),{run:t=>{EACH(BOX.getAllBoxes(),e=>{t(e)}),e.push(t)}}}),global.SHOW_ERROR=((t,e,n)=>{let r=CALENDAR();console.error(r.getYear()+"-"+r.getMonth(!0)+"-"+r.getDate(!0)+" "+r.getHour(!0)+":"+r.getMinute(!0)+":"+r.getSecond(!0)+" ["+t+"] 오류가 발생했습니다. 오류 메시지: "+e),void 0!==n&&(console.error("다음은 오류를 발생시킨 파라미터입니다."),console.error(JSON.stringify(n,TO_DELETE,4)))}),global.SHOW_WARNING=((t,e,n)=>{let r=CALENDAR();console.warn(r.getYear()+"-"+r.getMonth(!0)+"-"+r.getDate(!0)+" "+r.getHour(!0)+":"+r.getMinute(!0)+":"+r.getSecond(!0)+" ["+t+"] 경고가 발생했습니다. 경고 메시지: "+e),void 0!==n&&(console.warn("다음은 경고를 발생시킨 파라미터입니다."),console.warn(JSON.stringify(n,TO_DELETE,4)))}),!function(t){global.__PAPA=t()}(function(){"use strict";function t(t,e){e=e||{};var n=e.dynamicTyping||!1;if(v(n)&&(e.dynamicTypingFunction=n,n={}),e.dynamicTyping=n,e.transform=!!v(e.transform)&&e.transform,e.worker&&T.WORKERS_SUPPORTED){var u=d();return u.userStep=e.step,u.userChunk=e.chunk,u.userComplete=e.complete,u.userError=e.error,e.step=v(e.step),e.chunk=v(e.chunk),e.complete=v(e.complete),e.error=v(e.error),delete e.worker,void u.postMessage({input:t,config:e,workerId:u.id})}var c=null;return t===T.NODE_STREAM_INPUT?(c=new s(e),c.getStream()):("string"==typeof t?c=e.download?new r(e):new o(e):t.readable===!0&&v(t.read)&&v(t.on)?c=new a(e):(global.File&&t instanceof File||t instanceof Object)&&(c=new i(e)),c.stream(t))}function e(t,e){function n(){"object"==typeof e&&("string"==typeof e.delimiter&&1===e.delimiter.length&&T.BAD_DELIMITERS.indexOf(e.delimiter)===-1&&(c=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(s=e.quotes),"string"==typeof e.newline&&(l=e.newline),"string"==typeof e.quoteChar&&(d=e.quoteChar),"boolean"==typeof e.header&&(u=e.header))}function r(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function i(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var r=t instanceof Array&&t.length>0,i=!(e[0]instanceof Array);if(r&&u){for(var a=0;a<t.length;a++)a>0&&(n+=c),n+=o(t[a],a);e.length>0&&(n+=l)}for(var s=0;s<e.length;s++){for(var d=r?t.length:e[s].length,f=0;f<d;f++){f>0&&(n+=c);var h=r&&i?t[f]:f;n+=o(e[s][h],f)}s<e.length-1&&(n+=l)}return n}function o(t,e){if("undefined"==typeof t||null===t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(f,d+d);var n="boolean"==typeof s&&s||s instanceof Array&&s[e]||a(t,T.BAD_DELIMITERS)||t.indexOf(c)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1);return n?d+t+d:t}function a(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}var s=!1,u=!0,c=",",l="\r\n",d='"';n();var f=new RegExp(d,"g");if("string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return i(null,t);if("object"==typeof t[0])return i(r(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=t.data[0]instanceof Array?t.fields:r(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),i(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input"}function n(t){function e(t){var e=m(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new u(e),this._handle.streamer=this,this._config=e}this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},e.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&v(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(t);void 0!==n&&(t=n)}this.isFirstChunk=!1;var r=this._partialLine+t;this._partialLine="";var i=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var o=i.meta.cursor;this._finished||(this._partialLine=r.substring(o-this._baseIndex),this._baseIndex=o),i&&i.data&&(this._rowCount+=i.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(R)global.postMessage({results:i,workerId:T.WORKER_ID,finished:a});else if(v(this._config.chunk)&&!e){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!a||!v(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(t){v(this._config.error)?this._config.error(t):R&&this._config.error&&global.postMessage({workerId:T.WORKER_ID,error:t,finished:!1})}}function r(t){function e(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}t=t||{},t.chunkSize||(t.chunkSize=T.RemoteChunkSize),n.call(this,t);var r;_?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),_||(r.onload=p(this._chunkLoaded,this),r.onerror=p(this._chunkError,this)),r.open("GET",this._input,!_),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var e in t)r.setRequestHeader(e,t[e])}if(this._config.chunkSize){var n=this._start+this._config.chunkSize-1;r.setRequestHeader("Range","bytes="+this._start+"-"+n),r.setRequestHeader("If-None-Match","webkit-no-cache")}try{r.send()}catch(t){this._chunkError(t.message)}_&&0===r.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4===r.readyState){if(r.status<200||r.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>e(r),this.parseChunk(r.responseText)}},this._chunkError=function(t){var e=r.statusText||t;this._sendError(new Error(e))}}function i(t){t=t||{},t.chunkSize||(t.chunkSize=T.LocalChunkSize),n.call(this,t);var e,r,i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,r=t.slice||t.webkitSlice||t.mozSlice,i?(e=new FileReader,e.onload=p(this._chunkLoaded,this),e.onerror=p(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var n=Math.min(this._start+this._config.chunkSize,this._input.size);t=r.call(t,this._start,n)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function o(t){t=t||{},n.call(this,t);var e;this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function a(t){t=t||{},n.call(this,t);var e=[],r=!0,i=!1;this.pause=function(){n.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){n.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):r=!0},this._streamData=p(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=p(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=p(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=p(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function s(t){var e=require("stream").Duplex,r=m(t),i=!0,o=!1,a=[],s=null;this._onCsvData=function(t){for(var e=t.data,n=0;n<e.length;n++)s.push(e[n])||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){s.push(null)},r.step=p(this._onCsvData,this),r.complete=p(this._onCsvComplete,this),n.call(this,r),this._nextChunk=function(){o&&1===a.length&&(this._finished=!0),a.length?a.shift()():i=!0},this._addToParseQueue=function(t,e){a.push(p(function(){if(this.parseChunk("string"==typeof t?t:t.toString(r.encoding)),v(e))return e()},this)),i&&(i=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(t,e,n){this._addToParseQueue(t,n)},this._onWriteComplete=function(){o=!0,this._addToParseQueue("")},this.getStream=function(){return s},s=new e({readableObjectMode:!0,decodeStrings:!1,read:p(this._onRead,this),write:p(this._onWrite,this)}),s.once("finish",p(this._onWriteComplete,this))}function u(t){function e(){if(O&&h&&(l("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+T.DefaultDelimiter+"'"),h=!1),t.skipEmptyLines)for(var e=0;e<O.data.length;e++)1===O.data[e].length&&""===O.data[e][0]&&O.data.splice(e--,1);return n()&&r(),a()}function n(){return t.header&&0===S.length}function r(){if(O){for(var e=0;n()&&e<O.data.length;e++)for(var r=0;r<O.data[e].length;r++){var i=O.data[e][r];t.trimHeaders&&(i=i.trim()),S.push(i)}O.data.splice(0,1)}}function i(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),(t.dynamicTyping[e]||t.dynamicTyping)===!0}function o(t,e){return i(t)?"true"===e||"TRUE"===e||"false"!==e&&"FALSE"!==e&&(g.test(e)?parseFloat(e):E.test(e)?new Date(e):""===e?null:e):e}function a(){if(!O||!t.header&&!t.dynamicTyping&&!t.transform)return O;for(var e=0;e<O.data.length;e++){var n,r=t.header?{}:[];for(n=0;n<O.data[e].length;n++){var i=n,a=O.data[e][n];t.header&&(i=n>=S.length?"__parsed_extra":S[n]),t.transform&&(a=t.transform(a,i)),a=o(i,a),"__parsed_extra"===i?(r[i]=r[i]||[],r[i].push(a)):r[i]=a}O.data[e]=r,t.header&&(n>S.length?l("FieldMismatch","TooManyFields","Too many fields: expected "+S.length+" fields but parsed "+n,_+e):n<S.length&&l("FieldMismatch","TooFewFields","Too few fields: expected "+S.length+" fields but parsed "+n,_+e))}return t.header&&O.meta&&(O.meta.fields=S),_+=O.data.length,O}function s(e,n,r,i){for(var o,a,s,u=[",","\t","|",";",T.RECORD_SEP,T.UNIT_SEP],l=0;l<u.length;l++){var d=u[l],f=0,h=0,g=0;s=void 0;for(var E=new c({comments:i,delimiter:d,newline:n,preview:10}).parse(e),m=0;m<E.data.length;m++)if(r&&1===E.data[m].length&&0===E.data[m][0].length)g++;else{var p=E.data[m].length;h+=p,"undefined"!=typeof s?p>1&&(f+=Math.abs(p-s),s=p):s=p}E.data.length>0&&(h/=E.data.length-g),("undefined"==typeof a||f<a)&&h>1.99&&(a=f,o=d)}return t.delimiter=o,{successful:!!o,bestDelimiter:o}}function u(t){t=t.substr(0,1048576);var e=t.split("\r"),n=t.split("\n"),r=n.length>1&&n[0].length<e[0].length;if(1===e.length||r)return"\n";for(var i=0,o=0;o<e.length;o++)"\n"===e[o][0]&&i++;return i>=e.length/2?"\r\n":"\r"}function l(t,e,n,r){O.errors.push({type:t,code:e,message:n,row:r})}var d,f,h,g=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,E=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,p=this,A=0,_=0,R=!1,C=!1,S=[],O={data:[],errors:[],meta:{}};if(v(t.step)){var b=t.step;t.step=function(r){if(O=r,n())e();else{if(e(),0===O.data.length)return;A+=r.data.length,t.preview&&A>t.preview?f.abort():b(O,p)}}}this.parse=function(n,r,i){if(t.newline||(t.newline=u(n)),h=!1,t.delimiter)v(t.delimiter)&&(t.delimiter=t.delimiter(n),O.meta.delimiter=t.delimiter);else{var o=s(n,t.newline,t.skipEmptyLines,t.comments);o.successful?t.delimiter=o.bestDelimiter:(h=!0,t.delimiter=T.DefaultDelimiter),O.meta.delimiter=t.delimiter}var a=m(t);return t.preview&&t.header&&a.preview++,d=n,f=new c(a),O=f.parse(d,r,i),e(),R?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return R},this.pause=function(){R=!0,f.abort(),d=d.substr(f.getCharIndex())},this.resume=function(){R=!1,p.streamer.parseChunk(d,!0)},this.aborted=function(){return C},this.abort=function(){C=!0,f.abort(),O.meta.aborted=!0,v(t.complete)&&t.complete(O),d=""}}function c(t){t=t||{};var e,n=t.delimiter,r=t.newline,i=t.comments,o=t.step,a=t.preview,s=t.fastMode;e=void 0===t.quoteChar?'"':t.quoteChar;var u=e;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof n||T.BAD_DELIMITERS.indexOf(n)>-1)&&(n=","),i===n)throw"Comment character same as delimiter";i===!0?i="#":("string"!=typeof i||T.BAD_DELIMITERS.indexOf(i)>-1)&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,l=!1;this.parse=function(t,d,f){function h(t){T.push(t),H=c}function g(e){var n=0;if(e!==-1){var r=t.substring(y+1,e);r&&""===r.trim()&&(n=r.length)}return n}function E(e){return f?p():("undefined"==typeof e&&(e=t.substr(c)),I.push(e),c=_,h(I),O&&A(),p())}function m(e){c=e,h(I),I=[],w=t.indexOf(r,c)}function p(t){return{data:T,errors:b,meta:{delimiter:n,linebreak:r,aborted:l,truncated:!!t,cursor:H+(d||0)}}}function A(){o(p()),T=[],b=[]}if("string"!=typeof t)throw"Input must be a string";var _=t.length,R=n.length,C=r.length,S=i.length,O=v(o);c=0;var T=[],b=[],I=[],H=0;if(!t)return p();if(s||s!==!1&&t.indexOf(e)===-1){for(var D=t.split(r),N=0;N<D.length;N++){if(I=D[N],c+=I.length,N!==D.length-1)c+=r.length;else if(f)return p();if(!i||I.substr(0,S)!==i){if(O){if(T=[],h(I.split(n)),A(),l)return p()}else h(I.split(n));if(a&&N>=a)return T=T.slice(0,a),p(!0)}}return p()}for(var y,k=t.indexOf(n,c),w=t.indexOf(r,c),M=new RegExp(u.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&")+e,"g");;)if(t[c]!==e)if(i&&0===I.length&&t.substr(c,S)===i){if(w===-1)return p();c=w+C,w=t.indexOf(r,c),k=t.indexOf(n,c)}else if(k!==-1&&(k<w||w===-1))I.push(t.substring(c,k)),c=k+R,k=t.indexOf(n,c);else{if(w===-1)break;if(I.push(t.substring(c,w)),m(w+C),O&&(A(),l))return p();if(a&&T.length>=a)return p(!0)}else for(y=c,c++;;){if(y=t.indexOf(e,y+1),y===-1)return f||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:T.length,index:c}),E();if(y===_-1){var x=t.substring(c,y).replace(M,e);return E(x)}if(e!==u||t[y+1]!==u){if(e===u||0===y||t[y-1]!==u){var P=g(k);if(t[y+1+P]===n){I.push(t.substring(c,y).replace(M,e)),c=y+1+P+R,k=t.indexOf(n,c),w=t.indexOf(r,c);break}var L=g(w);if(t.substr(y+1+L,C)===r){if(I.push(t.substring(c,y).replace(M,e)),m(y+1+L+C),k=t.indexOf(n,c),O&&(A(),l))return p();if(a&&T.length>=a)return p(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:T.length,index:c}),y++}}else y++}return E()},this.abort=function(){l=!0},this.getCharIndex=function(){return c}}function l(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}function d(){if(!T.WORKERS_SUPPORTED)return!1;if(!C&&null===T.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=T.SCRIPT_PATH||A;t+=(t.indexOf("?")!==-1?"&":"?")+"papaworker";var e=new global.Worker(t);return e.onmessage=f,e.id=O++,S[e.id]=e,e}function f(t){var e=t.data,n=S[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i=function(){r=!0,h(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},o={abort:i,pause:g,resume:g};if(v(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:[e.results.data[a]],errors:e.results.errors,meta:e.results.meta},o),!r);a++);delete e.results}else v(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&h(e.workerId,e.results)}function h(t,e){var n=S[t];v(n.userComplete)&&n.userComplete(e),n.terminate(),delete S[t]}function g(){throw"Not implemented."}function E(t){var e=t.data;if("undefined"==typeof T.WORKER_ID&&e&&(T.WORKER_ID=e.workerId),"string"==typeof e.input)global.postMessage({workerId:T.WORKER_ID,results:T.parse(e.input,e.config),finished:!0});else if(global.File&&e.input instanceof File||e.input instanceof Object){var n=T.parse(e.input,e.config);n&&global.postMessage({workerId:T.WORKER_ID,results:n,finished:!0})}}function m(t){if("object"!=typeof t||null===t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=m(t[n]);return e}function p(t,e){return function(){t.apply(e,arguments)}}function v(t){return"function"==typeof t}var A,_=!global.document&&!!global.postMessage,R=_&&/(\?|&)papaworker(=|&|$)/.test(global.location.search),C=!1,S={},O=0,T={};if(T.parse=t,T.unparse=e,T.RECORD_SEP=String.fromCharCode(30),T.UNIT_SEP=String.fromCharCode(31),T.BYTE_ORDER_MARK="\ufeff",T.BAD_DELIMITERS=["\r","\n",'"',T.BYTE_ORDER_MARK],T.WORKERS_SUPPORTED=!_&&!!global.Worker,T.SCRIPT_PATH=null,T.NODE_STREAM_INPUT=1,T.LocalChunkSize=10485760,T.RemoteChunkSize=5242880,T.DefaultDelimiter=",",T.Parser=c,T.ParserHandle=u,T.NetworkStreamer=r,T.FileStreamer=i,T.StringStreamer=o,T.ReadableStreamStreamer=a,T.DuplexStreamStreamer=s,global.jQuery){var b=global.jQuery;b.fn.parse=function(t){function e(){if(0===o.length)return void(v(t.complete)&&t.complete());var e=o[0];if(v(t.before)){var i=t.before(e.file,e.inputElem);if("object"==typeof i){if("abort"===i.action)return void n("AbortError",e.file,e.inputElem,i.reason);if("skip"===i.action)return void r();"object"==typeof i.config&&(e.instanceConfig=b.extend(e.instanceConfig,i.config))}else if("skip"===i)return void r()}var a=e.instanceConfig.complete;e.instanceConfig.complete=function(t){v(a)&&a(t,e.file,e.inputElem),r()},T.parse(e.file,e.instanceConfig)}function n(e,n,r,i){v(t.error)&&t.error({name:e},n,r,i)}function r(){o.splice(0,1),e()}var i=t.config||{},o=[];return this.each(function(t){var e="INPUT"===b(this).prop("tagName").toUpperCase()&&"file"===b(this).attr("type").toLowerCase()&&global.FileReader;if(!e||!this.files||0===this.files.length)return!0;for(var n=0;n<this.files.length;n++)o.push({file:this.files[n],inputElem:this,instanceConfig:b.extend({},i)})}),e(),this}}return R?global.onmessage=E:T.WORKERS_SUPPORTED&&(A=l(),document.body?document.addEventListener("DOMContentLoaded",function(){C=!0},!0):C=!0),r.prototype=Object.create(n.prototype),r.prototype.constructor=r,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,o.prototype=Object.create(o.prototype),o.prototype.constructor=o,a.prototype=Object.create(n.prototype),a.prototype.constructor=a,s.prototype=Object.create(n.prototype),s.prototype.constructor=s,T}),!function(){"use strict";function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,n){var r,i=typeof t;if("string"===i){var o,a=[],s=t.length,u=0;for(r=0;r<s;++r)o=t.charCodeAt(r),o<128?a[u++]=o:o<2048?(a[u++]=192|o>>6,a[u++]=128|63&o):o<55296||o>=57344?(a[u++]=224|o>>12,a[u++]=128|o>>6&63,a[u++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++r)),a[u++]=240|o>>18,a[u++]=128|o>>12&63,a[u++]=128|o>>6&63,a[u++]=128|63&o);t=a}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var c=[],l=[];for(r=0;r<64;++r){var d=t[r]||0;c[r]=92^d,l[r]=54^d}Sha256.call(this,e,n),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(n){return new Sha256(e,!0).update(n)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null===t||void 0===t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(n,r){return new HmacSha256(n,e,!0).update(r)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createHmacOutputMethod(r,t)}return e};Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var r,i,o=0,a=t.length,s=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)for(i=this.start;o<a&&i<64;++o)s[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<a&&i<64;++o)r=t.charCodeAt(o),r<128?s[i>>2]|=r<<SHIFT[3&i++]:r<2048?(s[i>>2]|=(192|r>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(s[i>>2]|=(224|r>>12)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),s[i>>2]|=(240|r>>18)<<SHIFT[3&i++],s[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,n,r,i,o,a,s,u,c,l,d=this.h0,f=this.h1,h=this.h2,g=this.h3,E=this.h4,m=this.h5,p=this.h6,v=this.h7,A=this.blocks;for(t=16;t<64;++t)i=A[t-15],e=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,i=A[t-2],n=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,A[t]=A[t-16]+e+A[t-7]+n<<0;for(l=f&h,t=0;t<64;t+=4)this.first?(this.is224?(s=300032,i=A[0]-1413257819,v=i-150054599<<0,g=i+24177077<<0):(s=704751109,i=A[0]-210244248,v=i-1521486534<<0,g=i+143694565<<0),this.first=!1):(e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),s=d&f,r=s^d&h^l,a=E&m^~E&p,i=v+n+a+K[t]+A[t],o=e+r,v=g+i<<0,g=i+o<<0),e=(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10),n=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),u=g&d,r=u^g&f^s,a=v&E^~v&m,i=p+n+a+K[t+1]+A[t+1],o=e+r,p=h+i<<0,h=i+o<<0,e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),c=h&g,r=c^h&d^u,a=p&v^~p&E,i=m+n+a+K[t+2]+A[t+2],o=e+r,m=f+i<<0,f=i+o<<0,e=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),l=f&h,r=l^f&g^c,a=m&p^~m&v,i=E+n+a+K[t+3]+A[t+3],o=e+r,E=d+i<<0,d=i+o<<0;this.h0=this.h0+d<<0,this.h1=this.h1+f<<0,this.h2=this.h2+h<<0,this.h3=this.h3+g<<0,this.h4=this.h4+E<<0,this.h5=this.h5+m<<0,this.h6=this.h6+p<<0,this.h7=this.h7+v<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(u+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||u.push(s>>24&255,s>>16&255,s>>8&255,255&s),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),global.__SHA256_LIB=exports.sha256}(),!function(){"use strict";function t(t,e){e?(h[0]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=h[16]=h[17]=h[18]=h[19]=h[20]=h[21]=h[22]=h[23]=h[24]=h[25]=h[26]=h[27]=h[28]=h[29]=h[30]=h[31]=h[32]=0,this.blocks=h):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384==t?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):256==t?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):224==t?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,
this.h7h=1541459225,this.h7l=327033209),this.bits=t,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}function e(e,r,i){var o,a=typeof e;if("string"!==a){if("object"!==a)throw n;if(null===e)throw n;if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw n;o=!0}var u=e.length;if(!o){for(var c,l=[],u=e.length,d=0,f=0;f<u;++f)c=e.charCodeAt(f),c<128?l[d++]=c:c<2048?(l[d++]=192|c>>6,l[d++]=128|63&c):c<55296||c>=57344?(l[d++]=224|c>>12,l[d++]=128|c>>6&63,l[d++]=128|63&c):(c=65536+((1023&c)<<10|1023&e.charCodeAt(++f)),l[d++]=240|c>>18,l[d++]=128|c>>12&63,l[d++]=128|c>>6&63,l[d++]=128|63&c);e=l}e.length>128&&(e=new t(r,!0).update(e).array());for(var h=[],g=[],f=0;f<128;++f){var E=e[f]||0;h[f]=92^E,g[f]=54^E}t.call(this,r,i),this.update(g),this.oKeyPad=h,this.inner=!0,this.sharedMemory=i}var n="input is invalid type",r="object"==typeof window,i=r?window:{};i.JS_SHA512_NO_WINDOW&&(r=!1);var o=!r&&"object"==typeof self,a=!i.JS_SHA512_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;a?i=global:o&&(i=self);var s=(!i.JS_SHA512_NO_COMMON_JS&&"object"==typeof module&&module.exports,"function"==typeof define&&define.amd,!i.JS_SHA512_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer),u="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],l=[24,16,8,0],d=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],f=["hex","array","digest","arrayBuffer"],h=[];!i.JS_SHA512_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!s||!i.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var g=function(e,n){return function(r){return new t(n,!0).update(r)[e]()}},E=function(e){var n=g("hex",e);n.create=function(){return new t(e)},n.update=function(t){return n.create().update(t)};for(var r=0;r<f.length;++r){var i=f[r];n[i]=g(i,e)}return n},m=function(t,n){return function(r,i){return new e(r,n,!0).update(i)[t]()}},p=function(t){var n=m("hex",t);n.create=function(n){return new e(n,t)},n.update=function(t,e){return n.create(t).update(e)};for(var r=0;r<f.length;++r){var i=f[r];n[i]=m(i,t)}return n};t.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw n;if(null===t)throw n;if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw n;e=!0}for(var i,o,a=0,u=t.length,c=this.blocks;a<u;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=c[16]=c[17]=c[18]=c[19]=c[20]=c[21]=c[22]=c[23]=c[24]=c[25]=c[26]=c[27]=c[28]=c[29]=c[30]=c[31]=c[32]=0),e)for(o=this.start;a<u&&o<128;++a)c[o>>2]|=t[a]<<l[3&o++];else for(o=this.start;a<u&&o<128;++a)i=t.charCodeAt(a),i<128?c[o>>2]|=i<<l[3&o++]:i<2048?(c[o>>2]|=(192|i>>6)<<l[3&o++],c[o>>2]|=(128|63&i)<<l[3&o++]):i<55296||i>=57344?(c[o>>2]|=(224|i>>12)<<l[3&o++],c[o>>2]|=(128|i>>6&63)<<l[3&o++],c[o>>2]|=(128|63&i)<<l[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++a)),c[o>>2]|=(240|i>>18)<<l[3&o++],c[o>>2]|=(128|i>>12&63)<<l[3&o++],c[o>>2]|=(128|i>>6&63)<<l[3&o++],c[o>>2]|=(128|63&i)<<l[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=128?(this.block=c[32],this.start=o-128,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[32]=this.block,t[e>>2]|=c[3&e],this.block=t[32],e>=112&&(this.hashed||this.hash(),t[0]=this.block,t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=t[16]=t[17]=t[18]=t[19]=t[20]=t[21]=t[22]=t[23]=t[24]=t[25]=t[26]=t[27]=t[28]=t[29]=t[30]=t[31]=t[32]=0),t[30]=this.hBytes<<3|this.bytes>>>29,t[31]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var t,e,n,r,i,o,a,s,u,c,l,f,h,g,E,m,p,v,A,_,R,C,S,O,T,b=this.h0h,I=this.h0l,H=this.h1h,D=this.h1l,N=this.h2h,y=this.h2l,k=this.h3h,w=this.h3l,M=this.h4h,x=this.h4l,P=this.h5h,L=this.h5l,F=this.h6h,U=this.h6l,B=this.h7h,K=this.h7l,V=this.blocks;for(t=32;t<160;t+=2)_=V[t-30],R=V[t-29],e=(_>>>1|R<<31)^(_>>>8|R<<24)^_>>>7,n=(R>>>1|_<<31)^(R>>>8|_<<24)^(R>>>7|_<<25),_=V[t-4],R=V[t-3],r=(_>>>19|R<<13)^(R>>>29|_<<3)^_>>>6,i=(R>>>19|_<<13)^(_>>>29|R<<3)^(R>>>6|_<<26),_=V[t-32],R=V[t-31],C=V[t-14],S=V[t-13],o=(65535&S)+(65535&R)+(65535&n)+(65535&i),a=(S>>>16)+(R>>>16)+(n>>>16)+(i>>>16)+(o>>>16),s=(65535&C)+(65535&_)+(65535&e)+(65535&r)+(a>>>16),u=(C>>>16)+(_>>>16)+(e>>>16)+(r>>>16)+(s>>>16),V[t]=u<<16|65535&s,V[t+1]=a<<16|65535&o;var W=b,G=I,Q=H,X=D,Y=N,q=y,z=k,J=w,j=M,$=x,Z=P,tt=L,et=F,nt=U,rt=B,it=K;for(m=Q&Y,p=X&q,t=0;t<160;t+=8)e=(W>>>28|G<<4)^(G>>>2|W<<30)^(G>>>7|W<<25),n=(G>>>28|W<<4)^(W>>>2|G<<30)^(W>>>7|G<<25),r=(j>>>14|$<<18)^(j>>>18|$<<14)^($>>>9|j<<23),i=($>>>14|j<<18)^($>>>18|j<<14)^(j>>>9|$<<23),c=W&Q,l=G&X,v=c^W&Y^m,A=l^G&q^p,O=j&Z^~j&et,T=$&tt^~$&nt,_=V[t],R=V[t+1],C=d[t],S=d[t+1],o=(65535&S)+(65535&R)+(65535&T)+(65535&i)+(65535&it),a=(S>>>16)+(R>>>16)+(T>>>16)+(i>>>16)+(it>>>16)+(o>>>16),s=(65535&C)+(65535&_)+(65535&O)+(65535&r)+(65535&rt)+(a>>>16),u=(C>>>16)+(_>>>16)+(O>>>16)+(r>>>16)+(rt>>>16)+(s>>>16),_=u<<16|65535&s,R=a<<16|65535&o,o=(65535&A)+(65535&n),a=(A>>>16)+(n>>>16)+(o>>>16),s=(65535&v)+(65535&e)+(a>>>16),u=(v>>>16)+(e>>>16)+(s>>>16),C=u<<16|65535&s,S=a<<16|65535&o,o=(65535&J)+(65535&R),a=(J>>>16)+(R>>>16)+(o>>>16),s=(65535&z)+(65535&_)+(a>>>16),u=(z>>>16)+(_>>>16)+(s>>>16),rt=u<<16|65535&s,it=a<<16|65535&o,o=(65535&S)+(65535&R),a=(S>>>16)+(R>>>16)+(o>>>16),s=(65535&C)+(65535&_)+(a>>>16),u=(C>>>16)+(_>>>16)+(s>>>16),z=u<<16|65535&s,J=a<<16|65535&o,e=(z>>>28|J<<4)^(J>>>2|z<<30)^(J>>>7|z<<25),n=(J>>>28|z<<4)^(z>>>2|J<<30)^(z>>>7|J<<25),r=(rt>>>14|it<<18)^(rt>>>18|it<<14)^(it>>>9|rt<<23),i=(it>>>14|rt<<18)^(it>>>18|rt<<14)^(rt>>>9|it<<23),f=z&W,h=J&G,v=f^z&Q^c,A=h^J&X^l,O=rt&j^~rt&Z,T=it&$^~it&tt,_=V[t+2],R=V[t+3],C=d[t+2],S=d[t+3],o=(65535&S)+(65535&R)+(65535&T)+(65535&i)+(65535&nt),a=(S>>>16)+(R>>>16)+(T>>>16)+(i>>>16)+(nt>>>16)+(o>>>16),s=(65535&C)+(65535&_)+(65535&O)+(65535&r)+(65535&et)+(a>>>16),u=(C>>>16)+(_>>>16)+(O>>>16)+(r>>>16)+(et>>>16)+(s>>>16),_=u<<16|65535&s,R=a<<16|65535&o,o=(65535&A)+(65535&n),a=(A>>>16)+(n>>>16)+(o>>>16),s=(65535&v)+(65535&e)+(a>>>16),u=(v>>>16)+(e>>>16)+(s>>>16),C=u<<16|65535&s,S=a<<16|65535&o,o=(65535&q)+(65535&R),a=(q>>>16)+(R>>>16)+(o>>>16),s=(65535&Y)+(65535&_)+(a>>>16),u=(Y>>>16)+(_>>>16)+(s>>>16),et=u<<16|65535&s,nt=a<<16|65535&o,o=(65535&S)+(65535&R),a=(S>>>16)+(R>>>16)+(o>>>16),s=(65535&C)+(65535&_)+(a>>>16),u=(C>>>16)+(_>>>16)+(s>>>16),Y=u<<16|65535&s,q=a<<16|65535&o,e=(Y>>>28|q<<4)^(q>>>2|Y<<30)^(q>>>7|Y<<25),n=(q>>>28|Y<<4)^(Y>>>2|q<<30)^(Y>>>7|q<<25),r=(et>>>14|nt<<18)^(et>>>18|nt<<14)^(nt>>>9|et<<23),i=(nt>>>14|et<<18)^(nt>>>18|et<<14)^(et>>>9|nt<<23),g=Y&z,E=q&J,v=g^Y&W^f,A=E^q&G^h,O=et&rt^~et&j,T=nt&it^~nt&$,_=V[t+4],R=V[t+5],C=d[t+4],S=d[t+5],o=(65535&S)+(65535&R)+(65535&T)+(65535&i)+(65535&tt),a=(S>>>16)+(R>>>16)+(T>>>16)+(i>>>16)+(tt>>>16)+(o>>>16),s=(65535&C)+(65535&_)+(65535&O)+(65535&r)+(65535&Z)+(a>>>16),u=(C>>>16)+(_>>>16)+(O>>>16)+(r>>>16)+(Z>>>16)+(s>>>16),_=u<<16|65535&s,R=a<<16|65535&o,o=(65535&A)+(65535&n),a=(A>>>16)+(n>>>16)+(o>>>16),s=(65535&v)+(65535&e)+(a>>>16),u=(v>>>16)+(e>>>16)+(s>>>16),C=u<<16|65535&s,S=a<<16|65535&o,o=(65535&X)+(65535&R),a=(X>>>16)+(R>>>16)+(o>>>16),s=(65535&Q)+(65535&_)+(a>>>16),u=(Q>>>16)+(_>>>16)+(s>>>16),Z=u<<16|65535&s,tt=a<<16|65535&o,o=(65535&S)+(65535&R),a=(S>>>16)+(R>>>16)+(o>>>16),s=(65535&C)+(65535&_)+(a>>>16),u=(C>>>16)+(_>>>16)+(s>>>16),Q=u<<16|65535&s,X=a<<16|65535&o,e=(Q>>>28|X<<4)^(X>>>2|Q<<30)^(X>>>7|Q<<25),n=(X>>>28|Q<<4)^(Q>>>2|X<<30)^(Q>>>7|X<<25),r=(Z>>>14|tt<<18)^(Z>>>18|tt<<14)^(tt>>>9|Z<<23),i=(tt>>>14|Z<<18)^(tt>>>18|Z<<14)^(Z>>>9|tt<<23),m=Q&Y,p=X&q,v=m^Q&z^g,A=p^X&J^E,O=Z&et^~Z&rt,T=tt&nt^~tt&it,_=V[t+6],R=V[t+7],C=d[t+6],S=d[t+7],o=(65535&S)+(65535&R)+(65535&T)+(65535&i)+(65535&$),a=(S>>>16)+(R>>>16)+(T>>>16)+(i>>>16)+($>>>16)+(o>>>16),s=(65535&C)+(65535&_)+(65535&O)+(65535&r)+(65535&j)+(a>>>16),u=(C>>>16)+(_>>>16)+(O>>>16)+(r>>>16)+(j>>>16)+(s>>>16),_=u<<16|65535&s,R=a<<16|65535&o,o=(65535&A)+(65535&n),a=(A>>>16)+(n>>>16)+(o>>>16),s=(65535&v)+(65535&e)+(a>>>16),u=(v>>>16)+(e>>>16)+(s>>>16),C=u<<16|65535&s,S=a<<16|65535&o,o=(65535&G)+(65535&R),a=(G>>>16)+(R>>>16)+(o>>>16),s=(65535&W)+(65535&_)+(a>>>16),u=(W>>>16)+(_>>>16)+(s>>>16),j=u<<16|65535&s,$=a<<16|65535&o,o=(65535&S)+(65535&R),a=(S>>>16)+(R>>>16)+(o>>>16),s=(65535&C)+(65535&_)+(a>>>16),u=(C>>>16)+(_>>>16)+(s>>>16),W=u<<16|65535&s,G=a<<16|65535&o;o=(65535&I)+(65535&G),a=(I>>>16)+(G>>>16)+(o>>>16),s=(65535&b)+(65535&W)+(a>>>16),u=(b>>>16)+(W>>>16)+(s>>>16),this.h0h=u<<16|65535&s,this.h0l=a<<16|65535&o,o=(65535&D)+(65535&X),a=(D>>>16)+(X>>>16)+(o>>>16),s=(65535&H)+(65535&Q)+(a>>>16),u=(H>>>16)+(Q>>>16)+(s>>>16),this.h1h=u<<16|65535&s,this.h1l=a<<16|65535&o,o=(65535&y)+(65535&q),a=(y>>>16)+(q>>>16)+(o>>>16),s=(65535&N)+(65535&Y)+(a>>>16),u=(N>>>16)+(Y>>>16)+(s>>>16),this.h2h=u<<16|65535&s,this.h2l=a<<16|65535&o,o=(65535&w)+(65535&J),a=(w>>>16)+(J>>>16)+(o>>>16),s=(65535&k)+(65535&z)+(a>>>16),u=(k>>>16)+(z>>>16)+(s>>>16),this.h3h=u<<16|65535&s,this.h3l=a<<16|65535&o,o=(65535&x)+(65535&$),a=(x>>>16)+($>>>16)+(o>>>16),s=(65535&M)+(65535&j)+(a>>>16),u=(M>>>16)+(j>>>16)+(s>>>16),this.h4h=u<<16|65535&s,this.h4l=a<<16|65535&o,o=(65535&L)+(65535&tt),a=(L>>>16)+(tt>>>16)+(o>>>16),s=(65535&P)+(65535&Z)+(a>>>16),u=(P>>>16)+(Z>>>16)+(s>>>16),this.h5h=u<<16|65535&s,this.h5l=a<<16|65535&o,o=(65535&U)+(65535&nt),a=(U>>>16)+(nt>>>16)+(o>>>16),s=(65535&F)+(65535&et)+(a>>>16),u=(F>>>16)+(et>>>16)+(s>>>16),this.h6h=u<<16|65535&s,this.h6l=a<<16|65535&o,o=(65535&K)+(65535&it),a=(K>>>16)+(it>>>16)+(o>>>16),s=(65535&B)+(65535&rt)+(a>>>16),u=(B>>>16)+(rt>>>16)+(s>>>16),this.h7h=u<<16|65535&s,this.h7l=a<<16|65535&o},t.prototype.hex=function(){this.finalize();var t=this.h0h,e=this.h0l,n=this.h1h,r=this.h1l,i=this.h2h,o=this.h2l,a=this.h3h,s=this.h3l,c=this.h4h,l=this.h4l,d=this.h5h,f=this.h5l,h=this.h6h,g=this.h6l,E=this.h7h,m=this.h7l,p=this.bits,v=u[t>>28&15]+u[t>>24&15]+u[t>>20&15]+u[t>>16&15]+u[t>>12&15]+u[t>>8&15]+u[t>>4&15]+u[15&t]+u[e>>28&15]+u[e>>24&15]+u[e>>20&15]+u[e>>16&15]+u[e>>12&15]+u[e>>8&15]+u[e>>4&15]+u[15&e]+u[n>>28&15]+u[n>>24&15]+u[n>>20&15]+u[n>>16&15]+u[n>>12&15]+u[n>>8&15]+u[n>>4&15]+u[15&n]+u[r>>28&15]+u[r>>24&15]+u[r>>20&15]+u[r>>16&15]+u[r>>12&15]+u[r>>8&15]+u[r>>4&15]+u[15&r]+u[i>>28&15]+u[i>>24&15]+u[i>>20&15]+u[i>>16&15]+u[i>>12&15]+u[i>>8&15]+u[i>>4&15]+u[15&i]+u[o>>28&15]+u[o>>24&15]+u[o>>20&15]+u[o>>16&15]+u[o>>12&15]+u[o>>8&15]+u[o>>4&15]+u[15&o]+u[a>>28&15]+u[a>>24&15]+u[a>>20&15]+u[a>>16&15]+u[a>>12&15]+u[a>>8&15]+u[a>>4&15]+u[15&a];return p>=256&&(v+=u[s>>28&15]+u[s>>24&15]+u[s>>20&15]+u[s>>16&15]+u[s>>12&15]+u[s>>8&15]+u[s>>4&15]+u[15&s]),p>=384&&(v+=u[c>>28&15]+u[c>>24&15]+u[c>>20&15]+u[c>>16&15]+u[c>>12&15]+u[c>>8&15]+u[c>>4&15]+u[15&c]+u[l>>28&15]+u[l>>24&15]+u[l>>20&15]+u[l>>16&15]+u[l>>12&15]+u[l>>8&15]+u[l>>4&15]+u[15&l]+u[d>>28&15]+u[d>>24&15]+u[d>>20&15]+u[d>>16&15]+u[d>>12&15]+u[d>>8&15]+u[d>>4&15]+u[15&d]+u[f>>28&15]+u[f>>24&15]+u[f>>20&15]+u[f>>16&15]+u[f>>12&15]+u[f>>8&15]+u[f>>4&15]+u[15&f]),512==p&&(v+=u[h>>28&15]+u[h>>24&15]+u[h>>20&15]+u[h>>16&15]+u[h>>12&15]+u[h>>8&15]+u[h>>4&15]+u[15&h]+u[g>>28&15]+u[g>>24&15]+u[g>>20&15]+u[g>>16&15]+u[g>>12&15]+u[g>>8&15]+u[g>>4&15]+u[15&g]+u[E>>28&15]+u[E>>24&15]+u[E>>20&15]+u[E>>16&15]+u[E>>12&15]+u[E>>8&15]+u[E>>4&15]+u[15&E]+u[m>>28&15]+u[m>>24&15]+u[m>>20&15]+u[m>>16&15]+u[m>>12&15]+u[m>>8&15]+u[m>>4&15]+u[15&m]),v},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0h,e=this.h0l,n=this.h1h,r=this.h1l,i=this.h2h,o=this.h2l,a=this.h3h,s=this.h3l,u=this.h4h,c=this.h4l,l=this.h5h,d=this.h5l,f=this.h6h,h=this.h6l,g=this.h7h,E=this.h7l,m=this.bits,p=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return m>=256&&p.push(s>>24&255,s>>16&255,s>>8&255,255&s),m>=384&&p.push(u>>24&255,u>>16&255,u>>8&255,255&u,c>>24&255,c>>16&255,c>>8&255,255&c,l>>24&255,l>>16&255,l>>8&255,255&l,d>>24&255,d>>16&255,d>>8&255,255&d),512==m&&p.push(f>>24&255,f>>16&255,f>>8&255,255&f,h>>24&255,h>>16&255,h>>8&255,255&h,g>>24&255,g>>16&255,g>>8&255,255&g,E>>24&255,E>>16&255,E>>8&255,255&E),p},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=this.bits,e=new ArrayBuffer(t/8),n=new DataView(e);return n.setUint32(0,this.h0h),n.setUint32(4,this.h0l),n.setUint32(8,this.h1h),n.setUint32(12,this.h1l),n.setUint32(16,this.h2h),n.setUint32(20,this.h2l),n.setUint32(24,this.h3h),t>=256&&n.setUint32(28,this.h3l),t>=384&&(n.setUint32(32,this.h4h),n.setUint32(36,this.h4l),n.setUint32(40,this.h5h),n.setUint32(44,this.h5l)),512==t&&(n.setUint32(48,this.h6h),n.setUint32(52,this.h6l),n.setUint32(56,this.h7h),n.setUint32(60,this.h7l)),e},e.prototype=new t,e.prototype.finalize=function(){if(t.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();t.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(e),t.prototype.finalize.call(this)}};var v=E(512);v.sha512=v,v.sha384=E(384),v.sha512_256=E(256),v.sha512_224=E(224),v.sha512.hmac=p(512),v.sha384.hmac=p(384),v.sha512_256.hmac=p(256),v.sha512_224.hmac=p(224),global.__SHA512_LIB=v.sha512}(),global.CLASS=METHOD(t=>{let e=0,n=t.getNextInstanceId=(()=>{return e+=1,e-1});return{run:t=>{let e,r,i,o,a,s=(t,e)=>{let r={},i={type:s,id:n(),checkIsInstanceOf:t=>{let e=s;for(;void 0!==e;){if(e===t)return!0;e=e.mom}return!1}};return t=u(r,i,t,e),c(r,i,t,e),i};e="function"==typeof t?t(s):t,void 0!==e&&(r=e.preset,i=e.init,o=e.params,a=e.afterInit),s.type=CLASS,s.id=n();let u=s.innerInit=((t,e,n,a)=>{let u,c,l=(t,e)=>{EACH(e,(e,n)=>{void 0===t[n]?t[n]=e:CHECK_IS_DATA(t[n])===!0&&CHECK_IS_DATA(e)===!0&&l(t[n],e)})};if(void 0!==o)if(void 0===n)n=o(s);else if(CHECK_IS_DATA(n)===!0){let t=o(s);void 0!==t&&l(n,t)}else c=n,n=o(s);return void 0!==r&&(u=r(n,a),void 0!==u&&(s.mom=u,u.type===CLASS?u.innerInit(t,e,n,a):u.type.innerInit(t,e,n,a))),void 0!==i&&i(t,e,void 0===c?n:c,a),n}),c=s.innerAfterInit=((t,e,n,r)=>{let i=s.mom;void 0!==i&&(i.type===CLASS?i.innerAfterInit(t,e,n,r):i.type.innerAfterInit(t,e,n,r)),void 0!==a&&a(t,e,n,r)});return s}}}),global.INIT_OBJECTS=METHOD({run:()=>{OBJECT.initObjects()}}),global.OBJECT=METHOD(t=>{let e=[],n=!1,r=t=>{let e=t.type,n={},r={};t.id=CLASS.getNextInstanceId(),e.innerInit(n,t,r),e.innerAfterInit(n,t,r)},i=t=>{n===!0?r(t):e.push(t)};return t.removeReadyObject=(t=>{REMOVE({array:e,value:t})}),t.initObjects=(()=>{EACH(e,t=>{r(t)}),n=!0}),{run:t=>{let e=CLASS(t),n={type:e,checkIsInstanceOf:t=>{let n=e;for(;void 0!==n;){if(n===t)return!0;n=n.mom}return!1}};return i(n),n}}}),global.NEXT=METHOD({run:(t,e)=>{let n,r,i,o,a;void 0===e&&(e=t,t=void 0),void 0!==t&&(CHECK_IS_DATA(t)===!0?n=t:CHECK_IS_ARRAY(t)===!0?i=t:o=t),void 0!==n&&(r=[],EACH(n,(t,e)=>{r.push(e)}));let s;s=CHECK_IS_ARRAY(e)!==!0?[e]:e,REPEAT({start:s.length-1,end:0},t=>{let e;if(0!==t&&void 0===a)a=s[t]();else if(t>0)e=a,a=s[t](e),a.next=e;else if(e=a,void 0===e&&(e=(()=>{})),a=s[t],void 0!==o){let t=-1;RUN(n=>{t+=1,t+1<o?a(t,n):a(t,e)})}else if(void 0!==i){let t=i.length;if(0===t)e();else{let n=-1;RUN(r=>{n+=1,n+1<t?(i.length===t-1&&(n-=1,t-=1),a(i[n],r,n)):a(i[n],e,n)})}}else if(void 0!==n){let t=r.length;if(0===t)e();else{let i=-1;RUN(o=>{if(i+=1,i+1<t){r.length===t-1&&(i-=1,t-=1);let e=r[i];a(n[e],o,e)}else{let t=r[i];a(n[t],e,t)}})}}else a(e)})}}),global.OVERRIDE=METHOD({run:(t,e)=>{void 0!==t.type&&t.type.type===CLASS&&OBJECT.removeReadyObject(t),e(t)}}),global.PARALLEL=METHOD({run:(t,e)=>{let n=0;if(void 0===e){e=t;let r=e.length-1;EACH(e,(t,i)=>{i<r&&t(()=>{n+=1,n===r&&e[r]()})})}else if(void 0===t)e[1]();else if(CHECK_IS_DATA(t)===!0){let r=COUNT_PROPERTIES(t);0===r?e[1]():EACH(t,(t,i)=>{e[0](t,()=>{n+=1,n===r&&e[1]()},i)})}else CHECK_IS_ARRAY(t)===!0?0===t.length?e[1]():EACH(t,(r,i)=>{e[0](r,()=>{n+=1,n===t.length&&e[1]()},i)}):0===t?e[1]():REPEAT(t,r=>{e[0](r,()=>{n+=1,n===t&&e[1]()})})}}),global.PARSE_STR=METHOD({run:t=>{try{let e=JSON.parse(t);if(CHECK_IS_DATA(e)===!0)return UNPACK_DATA(e);if(CHECK_IS_ARRAY(e)===!0){let t=[];return EACH(e,e=>{CHECK_IS_DATA(e)===!0?t.push(UNPACK_DATA(e)):CHECK_IS_ARRAY(e)===!0?(EACH(e,(t,n)=>{CHECK_IS_DATA(t)===!0&&(e[n]=UNPACK_DATA(t))}),t.push(e)):t.push(e)}),t}return e}catch(t){return}}}),global.RANDOM_STR=METHOD(()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return{run:e=>{let n="";return REPEAT(e,()=>{n+=t.charAt(RANDOM({limit:t.length}))}),n}}}),global.STRINGIFY=METHOD({run:t=>{if(CHECK_IS_DATA(t)===!0)return JSON.stringify(PACK_DATA(t));if(CHECK_IS_ARRAY(t)===!0){let e=t=>{let n=[];return EACH(t,t=>{CHECK_IS_DATA(t)===!0?n.push(PACK_DATA(t)):CHECK_IS_ARRAY(t)===!0?n.push(e(t)):n.push(t)}),n};return JSON.stringify(e(t))}return JSON.stringify(t)}}),global.TEST=METHOD(t=>{let e=0;return{run:(t,n)=>{n(n=>{let r,i={};n===!0?console.log(MSG({ko:"["+t+" 테스트] 테스트를 통과하였습니다. 총 "+e+"개의 오류가 있습니다."})):(i.__THROW_ERROR_$$$=(()=>{try{throw Error()}catch(t){return t}}),r=i.__THROW_ERROR_$$$().stack,void 0!==r&&(r=r.substring(r.indexOf("__THROW_ERROR_$$$")),r=r.split("\n")[2],r=r.substring(r.indexOf("at "))),e+=1,console.log(MSG({ko:"["+t+" 테스트] "+r+"에서 오류가 발견되었습니다. 총 "+e+"개의 오류가 있습니다."})))})}}}),global.URI_MATCHER=CLASS({init:(t,e,n)=>{let r=CLASS({init:(t,e,r)=>{let i,o=r.split("/"),a={},s=t=>{let e=t.split("/");return EACH(o,(t,n)=>{let r=e[n];if("**"===r)return i=!0,!1;if(void 0===r)return!1;if(""!==t&&"{"===r.charAt(0)&&"}"===r.charAt(r.length-1))a[r.substring(1,r.length-1)]=t;else if("*"!==r&&r!==t)return!1;return!(n===o.length-1&&n<e.length-1&&""!==e[e.length-1])&&void 0})===!0||i===!0};i=CHECK_IS_ARRAY(n)===!0?EACH(n,t=>{return s(t)!==!0})!==!0:s(n),e.checkIsMatched=(()=>{return i}),e.getURIParams=(()=>{return a})}});e.check=(t=>{return r(t)})}}),global.UUID=METHOD({run:()=>{return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})}}),global.VALID=CLASS(t=>{let e=t.notEmpty=(t=>{let e=void 0===t||t===TO_DELETE?"":String(t);return CHECK_IS_ARRAY(t)===!0||""!==e.trim()}),n=(t.regex=(t=>{let e=String(t.value),n=t.pattern,r=e.match(n);return r!==TO_DELETE&&e===r[0]}),t.size=(t=>{let e=t.value;if(CHECK_IS_DATA(e)===!0)return!1;let n=String(e),r=t.min,i=t.max;return void 0===r&&(r=0),r<=n.trim().length&&(void 0===i||n.length<=i)}),t.integer=(t=>{let n=String(t);return e(n)===!0&&n.match(/^(?:-?(?:0|[1-9][0-9]*))$/)!==TO_DELETE}),t.real=(t=>{let n=String(t);return e(n)===!0&&n.match(/^(?:-?(?:0|[1-9][0-9]*))?(?:\.[0-9]*)?$/)!==TO_DELETE})),r=(t.bool=(t=>{let e=String(t);return"true"===e||"false"===e}),t.date=(t=>{let e=String(t),n=Date.parse(e);return isNaN(n)===!1}),t.min=(t=>{let e=t.value,r=t.min;return n(e)===!0&&r<=e}),t.max=(t=>{let e=t.value,r=t.max;return n(e)===!0&&r>=e}),t.email=(t=>{return"string"==typeof t&&e(t)===!0&&t.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)!==TO_DELETE}),t.png=(t=>{return"string"==typeof t&&e(t)===!0&&t.match(/^data:image\/png;base64,/)!==TO_DELETE}),t.url=(t=>{return"string"==typeof t&&e(t)===!0&&t.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-a-z\u0080-\uffff\d{1-3}]+\.)+(?:[a-z\u0080-\uffff]+))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\u0000-\uffff~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\u0000-\uffff~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\u0000-\uffff~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\u0000-\uffff~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\u0000-\uffff~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\u0000-\uffff~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/i)!==TO_DELETE&&t.length<=2083}),t.username=(t=>{return"string"==typeof t&&e(t)===!0&&t.match(/^[_a-zA-Z0-9\-]+$/)!==TO_DELETE}),t.mongoId=(t=>{return"string"==typeof t&&e(t)===!0&&t.match(/[0-9a-f]{24}/)!==TO_DELETE&&24===t.length}),t.one=(t=>{let e=t.value,n=t.array;return EACH(n,t=>{if(e===t)return!1})===!1})),i=(t.array=(t=>{return CHECK_IS_ARRAY(t)===!0}),t.data=(t=>{return CHECK_IS_DATA(t)===!0}),t.element=(t=>{let e=t.array,n=VALID({_:t.validData}),r=t.isToWash;return EACH(e,t=>{if((r===!0?n.checkAndWash:n.check)({_:t}).checkHasError()===!0)return!1})===!0})),o=t.property=(t=>{let e=t.data,n=VALID({_:t.validData}),r=t.isToWash;return EACH(e,t=>{if((r===!0?n.checkAndWash:n.check)({_:t}).checkHasError()===!0)return!1})===!0}),a=t.detail=(t=>{let e=t.data,n=VALID(t.validDataSet),r=t.isToWash,i=t.errors,o=(r===!0?n.checkAndWash:n.check)(e);return EXTEND({origin:i,extend:o.getErrors()}),o.checkHasError()!==!0});return t.equal=(t=>{let e=String(t.value),n=String(t.validValue);return e===n}),{init:(n,s,u)=>{let c=CLASS({init:(n,s,c)=>{let l=c.data,d=c.isToWash,f=c.isForUpdate,h=!1,g={};EACH(u,(n,s)=>{n!==!0&&EACH(n,(n,u)=>{let c=l[s];if(f===!0&&void 0===c)return!1;if(d===!0&&"notEmpty"!==u&&e(c)!==!0)return l[s]=f===!0?TO_DELETE:void 0,!0;if("one"===u){if(r({array:n,value:c})===!1)return h=!0,g[s]={type:u,array:n,value:c},!1}else if("element"===u){if(i({validData:n,array:c,isToWash:d})===!1)return h=!0,g[s]={type:u,validData:n,array:c},!1}else if("property"===u){if(o({validData:n,data:c,isToWash:d})===!1)return h=!0,g[s]={type:u,validData:n,data:c},!1}else if("detail"===u){let t={};if(a({validDataSet:n,data:c,isToWash:d,errors:t})===!1)return h=!0,g[s]={type:u,validDataSet:n,data:c},EACH(t,(t,e)=>{g[s+"."+e]=t}),!1}else if("size"===u){if(t[u](CHECK_IS_DATA(n)===!0?COMBINE([n,{value:c}]):COMBINE([{min:n,max:n},{value:c}]))===!1)return h=!0,g[s]={type:u,validParams:n,value:c},!1}else if("regex"===u){if(t[u]({pattern:n,value:c})===!1)return h=!0,g[s]={type:u,validParam:n,value:c},!1}else if("min"===u){if(t[u]({min:n,value:c})===!1)return h=!0,g[s]={type:u,validParam:n,value:c},!1}else if("max"===u){if(t[u]({max:n,value:c})===!1)return h=!0,g[s]={type:u,validParam:n,value:c},!1}else if("equal"===u){if(t[u]({value:c,validValue:n})===!1)return h=!0,g[s]={type:u,validParam:n,value:c},!1}else if(n===!0&&t["id"===u?"mongoId":u](c)===!1)return h=!0,g[s]={type:u,value:c},!1;"string"==typeof c&&(c=c.trim(),e(c)===!0?"integer"===u?l[s]=INTEGER(c):"real"===u?l[s]=REAL(c):"bool"===u?l[s]="true"===c:"date"===u?l[s]=new Date(c):"username"===u?l[s]=c.toLowerCase():l[s]=c:l[s]=c)})}),d===!0&&EACH(l,(t,e)=>{void 0===u[e]&&delete l[e]}),s.checkHasError=(()=>{return h}),s.getErrors=(()=>{return g})}});s.check=(t=>{return c({data:t})}),s.checkAndWash=(t=>{return c({data:t,isToWash:!0})}),s.checkForUpdate=(t=>{return c({data:t,isToWash:!0,isForUpdate:!0})}),s.getValidDataSet=(()=>{return u})}}}),global.CHECK_ARE_SAME=METHOD({run:t=>{let e=!1,n=(t,e)=>{return t===e||(t instanceof Date==1&&e instanceof Date==1?t.getTime()===e.getTime():t instanceof RegExp==1&&e instanceof RegExp==1?t.toString()===e.toString():CHECK_IS_DATA(t)===!0&&CHECK_IS_DATA(e)===!0?EACH(t,(t,r)=>{return n(t,e[r])}):CHECK_IS_ARRAY(t)===!0&&CHECK_IS_ARRAY(e)===!0&&EACH(t,(t,r)=>{return n(t,e[r])}))};return t.length>1&&(e=REPEAT(t.length,e=>{return e<t.length-1?n(t[e],t[e+1]):n(t[e],t[0])})),e}}),global.CHECK_IS_ARRAY=METHOD({run:t=>{return void 0!==t&&t!==TO_DELETE&&"object"==typeof t&&"[object Array]"===Object.prototype.toString.call(t)}}),global.CHECK_IS_DATA=METHOD({run:t=>{return void 0!==t&&t!==TO_DELETE&&CHECK_IS_ARRAY(t)!==!0&&t instanceof Date!=1&&t instanceof RegExp!=1&&"object"==typeof t}}),global.CHECK_IS_EMPTY_DATA=METHOD({run:t=>{return CHECK_ARE_SAME([t,{}])}}),global.COUNT_PROPERTIES=METHOD({run:t=>{let e=0;return EACH(t,()=>{e+=1}),e}}),global.PACK_DATA=METHOD({run:t=>{let e=COPY(t),n=[],r=[];return EACH(e,(t,i)=>{t instanceof Date==1?(e[i]=INTEGER(t.getTime()),n.push(i)):t instanceof RegExp==1?(e[i]=t.toString(),r.push(i)):CHECK_IS_DATA(t)===!0?e[i]=PACK_DATA(t):CHECK_IS_ARRAY(t)===!0&&EACH(t,(e,n)=>{CHECK_IS_DATA(e)===!0&&(t[n]=PACK_DATA(e))})}),e.__D=n,e.__R=r,e}}),global.UNPACK_DATA=METHOD({run:t=>{let e=COPY(t);return void 0!==e.__D&&(EACH(e.__D,(t,n)=>{e[t]=new Date(e[t])}),delete e.__D),void 0!==e.__R&&(EACH(e.__R,(t,n)=>{let r,i=e[t];for(let o=i.length-1;o>=0;o-=1)if("/"===i[o]){r=i.substring(o+1),i=i.substring(1,o);break}e[t]=new RegExp(i,r)}),delete e.__R),EACH(e,(t,n)=>{CHECK_IS_DATA(t)===!0?e[n]=UNPACK_DATA(t):CHECK_IS_ARRAY(t)===!0&&EACH(t,(e,n)=>{CHECK_IS_DATA(e)===!0&&(t[n]=UNPACK_DATA(e))})}),e}}),global.CHECK_IS_IN=METHOD({run:t=>{let e=t.data,n=t.array,r=t.value;return void 0!==e?EACH(e,(t,e)=>{if(CHECK_ARE_SAME([t,r])===!0)return!1})!==!0:void 0!==n?EACH(n,(t,e)=>{if(CHECK_ARE_SAME([t,r])===!0)return!1})!==!0:void 0}}),global.COMBINE=METHOD({run:t=>{let e;if(t.length>0){let n=t[0];CHECK_IS_DATA(n)===!0?(e={},EACH(t,t=>{EXTEND({origin:e,extend:t})})):CHECK_IS_ARRAY(n)===!0&&(e=[],EACH(t,t=>{EXTEND({origin:e,extend:t})}))}return e}}),global.COPY=METHOD({run:t=>{let e;return CHECK_IS_DATA(t)===!0?(e={},EXTEND({origin:e,extend:t})):CHECK_IS_ARRAY(t)===!0&&(e=[],EXTEND({origin:e,extend:t})),e}}),global.EXTEND=METHOD({run:t=>{let e=t.origin,n=t.extend;return CHECK_IS_DATA(e)===!0?EACH(n,(t,n)=>{if(t instanceof Date==1)e[n]=new Date(t.getTime());else if(t instanceof RegExp==1){let r,i=t.toString();for(let o=i.length-1;o>=0;o-=1)if("/"===i[o]){r=i.substring(o+1),i=i.substring(1,o);break}e[n]=new RegExp(i,r)}else CHECK_IS_DATA(t)===!0||CHECK_IS_ARRAY(t)===!0?e[n]=COPY(t):e[n]=t}):CHECK_IS_ARRAY(e)===!0&&EACH(n,t=>{if(t instanceof Date==1)e.push(new Date(t.getTime()));else if(t instanceof RegExp==1){let n,r=t.toString();for(let i=r.length-1;i>=0;i-=1)if("/"===r[i]){n=r.substring(i+1),r=r.substring(1,i);break}e.push(new RegExp(r,n))}else CHECK_IS_DATA(t)===!0||CHECK_IS_ARRAY(t)===!0?e.push(COPY(t)):e.push(t)}),e}}),global.FIND=METHOD({run:(t,e)=>{let n;if(void 0!==e)CHECK_IS_DATA(t)===!0?EACH(t,(t,r)=>{if(e(t,r)===!0)return n=t,!1}):CHECK_IS_ARRAY(t)===!0&&EACH(t,(t,r)=>{if(e(t,r)===!0)return n=t,!1});else{let e=t.data,r=t.array,i=t.value;void 0!==e&&EACH(e,(t,e)=>{if(t===i)return n=e,!1}),void 0!==r&&EACH(r,(t,e)=>{if(t===i)return n=e,!1})}return n}}),global.REMOVE=METHOD({run:(t,e)=>{if(void 0!==e)CHECK_IS_DATA(t)===!0?EACH(t,(n,r)=>{e(n,r)===!0&&REMOVE({data:t,name:r})}):CHECK_IS_ARRAY(t)===!0&&EACH(t,(n,r)=>{e(n,r)===!0&&REMOVE({array:t,key:r})});else{let e=t.data,n=t.array,r=t.name,i=t.key,o=t.value;void 0!==r&&delete e[r],void 0!==i&&n.splice(i,1),void 0!==o&&(void 0!==e&&EACH(e,(t,n)=>{CHECK_ARE_SAME([t,o])===!0&&REMOVE({data:e,name:n})}),void 0!==n&&EACH(n,(t,e)=>{CHECK_ARE_SAME([t,o])===!0&&REMOVE({array:n,key:e})}))}}}),global.CALENDAR=CLASS({init:(t,e,n)=>{void 0===n&&(n=new Date),e.getYear=(()=>{return n.getFullYear()}),e.getMonth=(t=>{let e=n.getMonth()+1;return t===!0?e<10?"0"+e:""+e:e}),e.getDate=(t=>{let e=n.getDate();return t===!0?e<10?"0"+e:""+e:e}),e.getDay=(()=>{return n.getDay()}),e.getHour=(t=>{let e=n.getHours();return t===!0?e<10?"0"+e:""+e:e}),e.getMinute=(t=>{let e=n.getMinutes();return t===!0?e<10?"0"+e:""+e:e}),e.getSecond=(t=>{let e=n.getSeconds();return t===!0?e<10?"0"+e:""+e:e})}}),global.CREATE_DATE=METHOD({run:t=>{let e=t.year,n=t.month,r=t.date,i=t.hour,o=t.minute,a=t.second,s=CALENDAR(new Date);return void 0===e&&(e=s.getYear()),void 0===n&&(n=void 0===r?0:s.getMonth()),void 0===r&&(r=void 0===i?0:s.getDate()),void 0===i&&(i=void 0===o?0:s.getHour()),void 0===o&&(o=void 0===a?0:s.getMinute()),void 0===a&&(a=0),new Date(e,n-1,r,i,o,a)}}),global.DELAY=CLASS({init:(t,e,n,r)=>{void 0===r&&(r=n,n=0);let i,o,a=Date.now(),s=i=1e3*n,u=(e.resume=RAR(()=>{void 0===o&&(o=setTimeout(()=>{r(),c()},s))}),e.pause=(()=>{s=i-(Date.now()-a),clearTimeout(o),o=void 0})),c=e.remove=(()=>{u()})}}),global.INTERVAL=CLASS({init:(t,e,n,r)=>{void 0===r&&(r=n,n=0);let i,o,a=Date.now(),s=i=0===n?1:1e3*n,u=0,c=(e.resume=RAR(()=>{void 0===o&&(o=setInterval(()=>{u+=1,r(e,u)===!1&&l(),a=Date.now()},s))}),e.pause=(()=>{s=i-(Date.now()-a),clearInterval(o),o=void 0})),l=e.remove=(()=>{c()})}}),global.LOOP=CLASS(t=>{let e,n=[],r=()=>{if(void 0===e){let t=Date.now()/1e3;e=INTERVAL(()=>{let e=Date.now()/1e3,r=e-t;if(r>0){for(let i=0;i<n.length;i+=1){let t=n[i];if(void 0!==t.fps&&t.fps>0){void 0===t.timeSigma&&(t.timeSigma=0),t.timeSigma+=r;let e=1/t.fps;t.timeSigma>=e&&(t.run(e),t.timeSigma-=e)}else t.run(r)}t=e}})}},i=()=>{n.length<=0&&(e.remove(),e=void 0)};return{init:(t,e,o,a)=>{void 0===a&&(a=o,o=void 0);let s,u=(e.resume=RAR(()=>{n.push(s={fps:o,run:a}),r()}),e.pause=(()=>{REMOVE({array:n,value:s}),i()}));e.changeFPS=(t=>{s.fps=t}),e.clearFPS=(()=>{delete s.fps}),e.getFPS=(()=>{return s.fps}),e.remove=(()=>{u()})}}}),global.ENCRYPT=METHOD({run:t=>{let e=String(t.password),n=String(t.key),r="",i=n.length,o=0;for(let a=0;a<e.length;a+=1)r+=String.fromCharCode(e.charCodeAt(a)^n.charCodeAt(o)),o+=1,o===i&&(o=0);return r}}),global.SHA256=METHOD({run:t=>{let e=String(t.password),n=String(t.key),r=__SHA256_LIB.hmac.create(n);return r.update(e),r.hex()}}),global.SHA512=METHOD({run:t=>{let e=String(t.password),n=String(t.key),r=__SHA512_LIB.hmac.create(n);return r.update(e),r.hex()}}),global.RAR=METHOD({run:(t,e)=>{return void 0===e&&(e=t,t=void 0),e(t),e}}),global.RUN=METHOD({run:t=>{let e=()=>{return t(e)};return e()}}),global.INTEGER=METHOD({run:t=>{return void 0===t?void 0:parseInt(t,10)}}),global.RANDOM=METHOD({run:t=>{let e,n,r;return CHECK_IS_DATA(t)!==!0?r=t:(e=t.min,n=t.max,r=t.limit),void 0===e&&(e=0),void 0!==r&&(n=r-1),Math.floor(Math.random()*(n-e+1)+e)}}),global.REAL=METHOD({run:t=>{return void 0===t?void 0:parseFloat(t)}}),global.EACH=METHOD({run:(t,e)=>{if(void 0===t)return!1;if(CHECK_IS_DATA(t)===!0){for(let n in t)if((void 0===t.hasOwnProperty||t.hasOwnProperty(n)===!0)&&e(t[n],n)===!1)return!1;
}else{if(void 0===e)return e=t,t=void 0,t=>{return EACH(t,e)};{let n=t.length;for(let r=0;r<n;r+=1){if(e(t[r],r)===!1)return!1;t.length<n?(r-=n-t.length,n-=n-t.length):t.length>n&&(n+=t.length-n)}}}return!0}}),global.REPEAT=METHOD({run:(t,e)=>{let n,r,i,o,a;if(void 0===e&&(e=t,t=void 0),void 0!==t&&(CHECK_IS_DATA(t)!==!0?n=t:(r=t.start,i=t.end,o=t.limit,a=t.step)),void 0===o&&void 0!==i&&(o=i+1),void 0===a&&(a=1),void 0!==n){for(let s=0;s<parseInt(n,10);s+=1)if(e(s)===!1)return!1}else if(void 0!==i&&r>i){for(let s=r;s>=i;s-=a)if(e(s)===!1)return!1}else{if(void 0===o)return t=>{return REPEAT(t,e)};for(let t=r;t<o;t+=a)if(e(t)===!1)return!1}return!0}}),global.REVERSE_EACH=METHOD({run:(t,e)=>{if(void 0===t)return!1;if(CHECK_IS_DATA(t)===!0){let n=[];for(let r in t)n.push(r);let i=n.length;for(let o=i-1;o>=0;o-=1){let r=n[o];if((void 0===t.hasOwnProperty||t.hasOwnProperty(r)===!0)&&e(t[r],r)===!1)return!1}}else{if(void 0===e)return e=t,t=void 0,t=>{return REVERSE_EACH(t,e)};{let n=t.length;for(let r=n-1;r>=0;r-=1){if(e(t[r],r)===!1)return!1;t.length<n&&(r+=n-t.length)}}}return!0}}),global.ADD_FONT=METHOD({run:t=>{let e=t.name,n=t.style,r=t.weight,i=t.woff2,o=t.woff,a=t.otf,s=t.ttf,u="";void 0!==i&&(u+="url("+i+") format('woff2'),"),void 0!==o&&(u+="url("+o+") format('woff'),"),void 0!==a&&(u+="url("+a+") format('opentype'),"),void 0!==s&&(u+="url("+s+") format('truetype'),");let c="@font-face {";c+="font-family:"+e+";",void 0!==n&&(c+="font-style:"+n+";"),void 0!==r&&(c+="font-weight:"+r+";"),c+="src:"+u.substring(0,u.length-1)+";",c+="}";let l=document.createElement("style");l.type="text/css",l.appendChild(document.createTextNode(c)),document.getElementsByTagName("head")[0].appendChild(l)}}),OVERRIDE(BOX,t=>{global.BOX=METHOD(e=>{return e.getAllBoxes=t.getAllBoxes,{run:e=>{return void 0===BROWSER_CONFIG[e]&&(BROWSER_CONFIG[e]={}),t(e)}}})}),global.BROWSER_CONFIG={isSecure:"https:"===location.protocol,host:location.hostname,port:""===location.port?"https:"===location.protocol?443:80:INTEGER(location.port)},global.CONNECT_TO_WEB_SOCKET_SERVER=METHOD({run:(t,e)=>{let n,r,i,o,a,s,u,c,l,d={},f=0;CHECK_IS_DATA(t)!==!0?i=t:(n=t.isSecure,r=t.host,i=t.port),void 0===n&&(n=BROWSER_CONFIG.isSecure),void 0===r&&(r=BROWSER_CONFIG.host),CHECK_IS_DATA(e)!==!0?o=e:(o=e.success,a=e.error);let h=(t,e,n)=>{let r=d[t];void 0!==r&&EACH(r,t=>{t(e,t=>{void 0!==l&&void 0!==n&&l({methodName:"__CALLBACK_"+n,data:t})})})},g=new WebSocket((n===!0?"wss://":"ws://")+r+":"+i);g.onopen=(()=>{s=!0,o(u=((t,e)=>{let n=d[t];void 0===n&&(n=d[t]=[]),n.push(e)}),c=((t,e)=>{let n=d[t];void 0!==n&&(void 0!==e?REMOVE({array:n,value:e}):delete d[t])}),l=((t,e)=>{let n,r,i;CHECK_IS_DATA(t)!==!0?n=t:(n=t.methodName,r=t.data),void 0!==g&&(g.send(STRINGIFY({methodName:n,data:r,sendKey:f})),void 0!==e&&(i="__CALLBACK_"+f,u(i,t=>{e(t),c(i)})),f+=1)}),()=>{void 0!==g&&(g.close(),g=void 0)})}),g.onmessage=(t=>{let e=PARSE_STR(t.data);void 0!==e&&h(e.methodName,e.data,e.sendKey)}),g.onclose=(()=>{h("__DISCONNECTED")}),g.onerror=(t=>{let e=t.toString();s!==!0?void 0!==a?a(e):SHOW_ERROR("CONNECT_TO_WEB_SOCKET_SERVER",e):h("__ERROR",e)})}}),global.COOKIE_STORE=CLASS({init:(t,e,n)=>{let r,i;CHECK_IS_DATA(n)!==!0?r=n:(r=n.storeName,i=n.domain);let o=t.genFullName=(t=>{return r+"."+t}),a=(e.save=(t=>{let e=t.name,n=t.value,r=t.isToSession,a=t.expireTime;r===!0?a=0:void 0===a&&(a=new Date,a.setDate(a.getDate()+356)),document.cookie=o(e)+"="+encodeURIComponent(JSON.stringify(n))+"; expires="+(0===a?a:a.toGMTString())+"; path=/;"+(void 0===i?"":" domain="+i+";")}),e.get=(t=>{t=o(t)+"=";let e,n=document.cookie,r=n.indexOf(t);if(n&&r>=0){let i=n.substring(r,n.length),o=i.indexOf(";");e=o>0?i.substring(t.length,o):i.substring(t.length)}return void 0===e?void 0:JSON.parse(decodeURIComponent(e))}),e.remove=(t=>{let e=new Date;e.setDate(e.getDate()-1),document.cookie=o(t)+"=; expires="+e.toGMTString()+"; path=/;"+(void 0===i?"":" domain="+i+";")}));e.all=(()=>{let t={};return EACH(document.cookie.split(";"),e=>{let n=e.indexOf("="),i=e.substring(0,n);0===i.indexOf(r+".")&&(t[i.substring(r.length+1)]=e.substring(n+1))}),t}),e.count=(()=>{let t=0;return EACH(document.cookie.split(";"),e=>{let n=e.indexOf("="),i=e.substring(0,n);0===i.indexOf(r+".")&&(t+=1)}),t}),e.clear=(()=>{EACH(document.cookie.split(";"),t=>{let e=t.indexOf("="),n=t.substring(0,e);0===n.indexOf(r+".")&&a(n.substring(r.length+1))})})}}),FOR_BOX(t=>{t.COOKIE_STORE=CLASS({init:(e,n,r)=>{let i,o;CHECK_IS_DATA(r)!==!0?i=r:(i=r.storeName,o=r.domain);let a=COOKIE_STORE({storeName:t.boxName+"."+i,domain:o});n.save=a.save,n.get=a.get,n.remove=a.remove,n.all=a.all,n.count=a.count,n.clear=a.clear}})}),global.INFO=OBJECT({init:(t,e)=>{let n="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,r=(e.getLang=(()=>{let t=STORE("__INFO").get("lang");return void 0===t&&(t=navigator.language),"zh-TW"!==t&&"zh-CN"!==t&&(t=t.substring(0,2)),t}),e.setLang=(t=>{STORE("__INFO").save({name:"lang",value:t})}));e.changeLang=(t=>{r(t),REFRESH()}),e.checkIsTouchDevice=(()=>{return n}),e.getOSName=(()=>{return bowser.osname}),e.getBrowserName=(()=>{return bowser.name}),e.getBrowserVersion=(()=>{return REAL(bowser.version)})}}),OVERRIDE(LOOP,t=>{global.LOOP=CLASS(t=>{let e,n=[],r=()=>{if(void 0===e){let t,r=performance.now()/1e3;e=requestAnimationFrame(t=(i=>{let o=i/1e3,a=o-r;if(a>0){for(let t=0;t<n.length;t+=1){let e=n[t];if(void 0!==e.fps&&e.fps>0){void 0===e.timeSigma&&(e.timeSigma=0),e.timeSigma+=a;let t=1/e.fps;e.timeSigma>=t&&(e.run(t),e.timeSigma-=t)}else e.run(a)}r=o}e=requestAnimationFrame(t)}))}},i=()=>{n.length<=0&&(cancelAnimationFrame(e),e=void 0)};return{init:(t,e,o,a)=>{void 0===a&&(a=o,o=void 0);let s,u=(e.resume=RAR(()=>{n.push(s={fps:o,run:a}),r()}),e.pause=(()=>{REMOVE({array:n,value:s}),i()}));e.changeFPS=(t=>{s.fps=t}),e.clearFPS=(()=>{delete s.fps}),e.getFPS=(()=>{return s.fps}),e.remove=(()=>{u()})}}})}),OVERRIDE(MSG,t=>{global.MSG=METHOD(t=>{let e={},n=t.addData=(t=>{EXTEND({origin:e,extend:t})}),r=t.loadCSV=((t,e)=>{CHECK_IS_ARRAY(t)===!0?NEXT(t,[(t,e)=>{r(t,e)},()=>{return e}]):GET(t,t=>{let r,i={};EACH(__PAPA.parse(t).data,(t,e)=>{if(0===e)r=t;else{let e={};EACH(t,(t,n)=>{n>0&&""!==t&&(e[r[n]]=t.replace(/\\n/,"\n"))}),i[t[0]]=e}}),n(i),e()})});return{run:t=>{let n,r;CHECK_IS_DATA(t)!==!0?n=t:r=t,void 0!==n&&(r=e[n]),void 0===r&&SHOW_ERROR("MSG",n+"에 해당하는 문자열을 찾을 수 없습니다.");let i=r[INFO.getLang()];if(void 0===i){let t,e;2==INFO.getLang().length?t=INFO.getLang().toLowerCase():(t=INFO.getLang().substring(0,2).toLowerCase(),e=INFO.getLang().substring(3).toLowerCase()),i=r[t],void 0!==i&&CHECK_IS_DATA(i)===!0&&(void 0!==i[e]?i=i[e]:EACH(i,t=>{return i=t,!1}))}return void 0===i&&(void 0!==r.en?i=r.en:EACH(r,t=>{return i=t,!1})),void 0!==i&&CHECK_IS_DATA(i)===!0&&EACH(i,t=>{return i=t,!1}),i}}})}),global.SESSION_STORE=CLASS({init:(t,e,n)=>{let r=t=>{return n+"."+t},i=(e.save=(t=>{let e=t.name,n=t.value;sessionStorage.setItem(r(e),STRINGIFY(n))}),e.get=(t=>{let e=PARSE_STR(sessionStorage.getItem(r(t)));return e===TO_DELETE&&(e=void 0),e}),e.remove=(t=>{sessionStorage.removeItem(r(t))}));e.all=(()=>{let t={};return EACH(sessionStorage,(e,r)=>{0===r.indexOf(n+".")&&(t[r.substring(n.length+1)]=PARSE_STR(e))}),t}),e.count=(()=>{let t=0;return EACH(sessionStorage,(e,r)=>{0===r.indexOf(n+".")&&(t+=1)}),t}),e.clear=(()=>{EACH(sessionStorage,(t,e)=>{0===e.indexOf(n+".")&&i(e.substring(n.length+1))})})}}),FOR_BOX(t=>{t.SESSION_STORE=CLASS({init:(e,n,r)=>{let i=SESSION_STORE(t.boxName+"."+r);n.save=i.save,n.get=i.get,n.remove=i.remove,n.all=i.all,n.count=i.count,n.clear=i.clear}})}),global.SOUND=CLASS(t=>{let e,n=""!==(new Audio).canPlayType("audio/ogg"),r={},i=(t,n)=>{if(void 0!==r[t])n(r[t]);else{let i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=(()=>{e.decodeAudioData(i.response,e=>{r[t]=e,n(e)})}),i.send()}};return{init:(t,r,o,a)=>{let s=o.ogg,u=o.mp3,c=o.wav,l=o.isLoop,d=o.volume;void 0===d&&(d=.8);let f,h,g,E,m,p,v=!1,A=0,_=0,R=!1,C={};void 0===e&&(e=new AudioContext);let S;S=void 0!==s&&n===!0?s:void 0!==u?u:c;let O=()=>{i(S,t=>{void 0===f&&(g=e.createGain(),f=t,E=f.duration,g.connect(e.destination),void 0===p?g.gain.setValueAtTime(d,0):(g.gain.setValueAtTime(0,0),g.gain.linearRampToValueAtTime(d,e.currentTime+p),p=void 0),void 0!==m&&m(),H("load"),I("load"),v=!0)})},T=r.play=(t=>{return R!==!0&&(void 0!==t&&(_=t),m=(()=>{R!==!0&&(h=e.createBufferSource(),h.buffer=f,h.connect(g),h.loop=l,A=Date.now()/1e3-_,h.start(0,_%f.duration),m=void 0,l!==!0&&(h.onended=(()=>{b(),void 0!==a&&a()})),R=!0)}),void 0===f?O():m()),r}),b=(r.checkIsPlaying=(()=>{return R}),r.getStartAt=(()=>{return A}),r.pause=(()=>{void 0!==h&&(h.stop(0),h.disconnect(),h=void 0,_=Date.now()/1e3-A),m=void 0,R=!1}),r.stop=(()=>{void 0!==h&&(h.stop(0),h.disconnect(),h=void 0,_=0),void 0!==g&&(g.disconnect(),g=void 0),f=void 0,m=void 0,R=!1})),I=(r.setVolume=(t=>{d=t,void 0!==g&&g.gain.setValueAtTime(d,0)}),r.getVolume=(()=>{return d}),r.setPlaybackRate=(t=>{void 0!==h&&h.playbackRate.setValueAtTime(t,0)}),r.fadeIn=(t=>{void 0!==g?(g.gain.setValueAtTime(0,0),g.gain.linearRampToValueAtTime(d,e.currentTime+t)):p=t,T()}),r.fadeOut=(t=>{void 0!==g&&g.gain.linearRampToValueAtTime(0,e.currentTime+t),DELAY(t,()=>{b()})}),r.getDuration=(()=>{return E}),r.on=((t,e)=>{void 0===C[t]&&(C[t]=[]),C[t].push(e),"load"===t&&v===!0&&(H("load"),I("load"))}),r.checkIsEventExists=(t=>{return void 0!==C[t]}),r.off=((t,e)=>{void 0!==C[t]&&(void 0!==e&&REMOVE({array:C[t],value:e}),void 0!==e&&0!==C[t].length||delete C[t])})),H=r.fireEvent=(t=>{let e,n;CHECK_IS_DATA(t)!==!0?e=t:(e=t.eventName,n=t.e);let i=C[e];if(void 0!==i)for(let o=0;o<i.length;o+=1)i[o](void 0===n?EMPTY_E():n,r)});O()}}}),global.SOUND_ONCE=CLASS({preset:()=>{return SOUND},init:(t,e,n,r)=>{e.play()}}),global.STORE=CLASS({init:(t,e,n)=>{let r=t=>{return n+"."+t},i=(e.save=(t=>{let e=t.name,n=t.value;localStorage.setItem(r(e),STRINGIFY(n))}),e.get=(t=>{let e=PARSE_STR(localStorage.getItem(r(t)));return e===TO_DELETE&&(e=void 0),e}),e.remove=(t=>{localStorage.removeItem(r(t))}));e.all=(()=>{let t={};return EACH(localStorage,(e,r)=>{0===r.indexOf(n+".")&&(t[r.substring(n.length+1)]=PARSE_STR(e))}),t}),e.count=(()=>{let t=0;return EACH(localStorage,(e,r)=>{0===r.indexOf(n+".")&&(t+=1)}),t}),e.clear=(()=>{EACH(localStorage,(t,e)=>{0===e.indexOf(n+".")&&i(e.substring(n.length+1))})})}}),FOR_BOX(t=>{t.STORE=CLASS({init:(e,n,r)=>{let i=STORE(t.boxName+"."+r);n.save=i.save,n.get=i.get,n.remove=i.remove,n.all=i.all,n.count=i.count,n.clear=i.clear}})}),global.WORKER=CLASS({init:(t,e,n)=>{let r={},i=0,o=new Worker(n),a=(t,e,n)=>{let i=r[t];void 0!==i&&EACH(i,t=>{t(e,t=>{void 0!==c&&void 0!==n&&c({methodName:"__CALLBACK_"+n,data:t})})})},s=e.on=((t,e)=>{let n=r[t];void 0===n&&(n=r[t]=[]),n.push(e)});o.onmessage=(t=>{a(t.data.methodName,t.data.data,t.data.sendKey)});let u=e.off=((t,e)=>{let n=r[t];void 0!==n&&(void 0!==e?REMOVE({array:n,value:e}):delete r[t])}),c=e.send=((t,e)=>{let n,r;if(CHECK_IS_DATA(t)!==!0?n=t:(n=t.methodName,r=t.data),o.postMessage({methodName:n,data:r,sendKey:i}),void 0!==e){let t="__CALLBACK_"+i;s(t,n=>{e(n),u(t)})}i+=1});e.remove=(()=>{o.terminate(),o=void 0})}}),FOR_BOX(t=>{t.SHOW_ERROR=METHOD({run:(e,n,r)=>{SHOW_ERROR(t.boxName+"."+e,n,r)}})}),FOR_BOX(t=>{t.SHOW_WARNING=METHOD({run:(e,n,r)=>{SHOW_WARNING(t.boxName+"."+e,n,r)}})}),global.ADD_STYLE=METHOD({run:t=>{let e=t.node,n=t.style,r=e.getWrapperEl();EACH(n,(t,n)=>{if(void 0!==t)if("onDisplayResize"===n){let n=EVENT({name:"resize"},RAR(()=>{ADD_STYLE({node:e,style:t(WIN_WIDTH(),WIN_HEIGHT())}),DELAY(()=>{ADD_STYLE({node:e,style:t(WIN_WIDTH(),WIN_HEIGHT())})})}));e.on("remove",()=>{n.remove()})}else void 0!==r&&("flt"===n?r.style.cssFloat=t:"number"==typeof t&&"zIndex"!==n&&"opacity"!==n?r.style[n]=t+"px":"backgroundImage"===n&&"none"!==t?r.style[n]="url("+t+")":r.style[n]=t)})}}),global.ANIMATE=METHOD(t=>{let e=0;return{run:(t,n)=>{let r,i,o=t.node,a=t.keyframes,s=void 0===t.duration?.5:t.duration,u=void 0===t.timingFunction?"ease":t.timingFunction,c=void 0===t.delay?0:t.delay,l=void 0===t.iterationCount?1:t.iterationCount,d=void 0===t.direction?"normal":t.direction,f="__KEYFRAMES_"+e,h="";e+=1,EACH(a,(t,e)=>{h+=e+"{",EACH(t,(t,e)=>{"number"==typeof t&&"zIndex"!==e&&"opacity"!==e&&(t+="px"),h+=e.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+t+";"}),h+="}","from"===e||"0%"===e?r=t:"to"!==e&&"100%"!==e||(i=t)});let g=document.createElement("style");g.type="text/css",g.appendChild(document.createTextNode("@keyframes "+f+"{"+h+"}")),document.getElementsByTagName("head")[0].appendChild(g),o.addStyle(r),o.addStyle({animation:f+" "+s+"s "+u+" "+c+"s "+l+" "+d}),o.addStyle(i),void 0!==n&&1===l&&DELAY(s,()=>{o.checkIsRemoved()!==!0&&n(o)})}}}),global.CLEAR_BOTH=CLASS({preset:()=>{return DIV},params:()=>{return{style:{clear:"both"}}}}),global.DOM=CLASS({preset:()=>{return NODE},init:(t,e,n)=>{let r=n.tag,i=n.el,o=n.id,a=n.cls,s=n.__TEXT;void 0!==r?i="body"===r?document.body:"__STRING"===r?document.createTextNode(s):document.createElement(r):i!==document.body&&i.parentNode!==TO_DELETE&&e.setParent(DOM({el:i.parentNode}));let u=(e.getEl=(()=>{return i}),t.setEl=(n=>{i=n,t.setDom(e)}));u(i);let c=t.setAttr=(t=>{let e=t.name,n=t.value;i.setAttribute(e,n)});void 0!==o&&c({name:"id",value:o}),void 0!==a&&c({name:"class",value:a})}}),global.NODE=CLASS({init:(t,e,n)=>{let r,i,o,a,s,u,c,l,d,f=[],h=!1,g=t.setWrapperDom=(t=>{r=t,o=t.getEl(),S("show",()=>{EACH(f,t=>{t.checkIsShowing()===!0&&(EVENT.fireAll({node:t,name:"show"}),EVENT.removeAll({node:t,name:"show"}))})})}),E=t.setContentDom=(t=>{i=t,a=t.getEl()}),m=(t.setDom=(t=>{g(t),E(t)}),e.getWrapperDom=(()=>{return r}),e.getContentDom=(()=>{return i}),e.getWrapperEl=(()=>{return o}),e.getContentEl=(()=>{return a}),(t,n)=>{R(t),void 0===n?c.getChildren().push(e):c.getChildren().splice(n,0,e),O("attach"),H()===!0&&(O("show"),EVENT.removeAll({node:e,name:"show"})),void 0!==s&&EACH(s,t=>{A(t)}),void 0!==u&&EACH(u,t=>{_(t)}),c.fireEvent("append")}),p=e.append=(t=>{if(CHECK_IS_DATA(t)===!0)t.appendTo(e);else if(e.type===TEXTAREA)p(DOM({tag:"__STRING",__TEXT:String(void 0===t?"":t)}));else{let e=String(void 0===t?"":t).split("\n");EACH(e,(t,n)=>{p(DOM({tag:"__STRING",__TEXT:t})),n<e.length-1&&p(BR())})}}),v=(e.appendTo=(t=>{let n=t.getContentEl();return void 0!==n&&(n.appendChild(o),m(t)),e}),e.prepend=(t=>{if(CHECK_IS_DATA(t)===!0)t.prependTo(e);else if(e.type===TEXTAREA)v(DOM({tag:"__STRING",__TEXT:String(void 0===t?"":t)}));else{let e=String(void 0===t?"":t).split("\n");REPEAT({start:e.length-1,end:0},t=>{v(DOM({tag:"__STRING",__TEXT:e[t]})),t<e.length-1&&v(BR())})}})),A=(e.prependTo=(t=>{let n=t.getContentEl();return void 0!==n&&(void 0===n.childNodes[0]?n.appendChild(o):n.insertBefore(o,n.childNodes[0]),m(t,0)),e}),e.after=(t=>{if(void 0!==o)if(o.parentNode===TO_DELETE)void 0===s&&(s=[]),s.push(t);else if(CHECK_IS_DATA(t)===!0)t.insertAfter(e);else{let e=String(void 0===t?"":t).split("\n");REPEAT({start:e.length-1,end:0},t=>{A(DOM({tag:"__STRING",__TEXT:e[t]})),t<e.length-1&&A(BR())})}})),_=(e.insertAfter=(t=>{let n=t.getWrapperEl();if(void 0!==n){n.parentNode.insertBefore(o,n.nextSibling);let r=FIND({array:t.getParent().getChildren(),value:e}),i=FIND({array:t.getParent().getChildren(),value:t})+1;m(t.getParent(),r<i?i-1:i)}return e}),e.before=(t=>{if(void 0!==o)if(o.parentNode===TO_DELETE)void 0===u&&(u=[]),u.push(t);else if(CHECK_IS_DATA(t)===!0)t.insertBefore(e);else{let e=String(void 0===t?"":t).split("\n");EACH(e,(t,n)=>{_(DOM({tag:"__STRING",__TEXT:t})),n<e.length-1&&_(BR())})}})),R=(e.insertBefore=(t=>{let n=t.getWrapperEl();return void 0!==n&&(n.parentNode.insertBefore(o,n),m(t.getParent(),FIND({array:t.getParent().getChildren(),value:t}))),e}),e.getChildren=(()=>{return f}),e.setParent=(t=>{void 0!==c&&REMOVE({array:c.getChildren(),value:e}),c=t})),C=(e.getParent=(()=>{return c}),e.empty=(()=>{EACH(f,t=>{t.remove()})})),S=(e.remove=(()=>{void 0!==o&&o.parentNode!==TO_DELETE&&(O("beforeRemove"),C(),r.empty(),o.parentNode.removeChild(o),R(void 0),O("remove")),void 0!==o&&o.remove(),void 0!==a&&a.remove(),o=void 0,a=void 0,EVENT.removeAll({node:e}),EVENT.removeAll({node:r}),d=void 0,h=!0}),e.checkIsRemoved=(()=>{return h}),e.on=((t,n)=>{EVENT({node:e,name:t},n)})),O=(e.off=((t,n)=>{void 0!==n?EVENT.remove({node:e,name:t},n):EVENT.removeAll({node:e,name:t})}),e.fireEvent=(t=>{let n,r;return CHECK_IS_DATA(t)!==!0?n=t:(n=t.name,r=t.e),EVENT.fireAll({node:e,name:n,e:r})})),T=e.addStyle=(t=>{ADD_STYLE({node:e,style:t})}),b=e.getStyle=(t=>{if(void 0!==o){let e=o.style;if(void 0!==e){let n=e[t];return""===n?void 0:"px"===n.substring(n.length-2)?REAL(n):n}}}),I=e.getWidth=(()=>{return void 0===o?0:o.offsetWidth}),H=(e.getInnerWidth=(()=>{return void 0===o?0:o.clientWidth}),e.getHeight=(()=>{return void 0===o?0:o.offsetHeight}),e.getInnerHeight=(()=>{return void 0===o?0:o.clientHeight}),e.getLeft=(()=>{let t=0,e=o;do t+=e.offsetLeft-(e===document.body?0:e.scrollLeft),e=e.offsetParent;while(e!==TO_DELETE);return t}),e.getTop=(()=>{let t=0,e=o;do t+=e.offsetTop-(e===document.body?0:e.scrollTop),e=e.offsetParent;while(e!==TO_DELETE);return t}),e.hide=(()=>{l=b("display"),"none"===l&&(l=void 0),T({display:"none"})}),e.show=(()=>{T({display:void 0===l?"":l}),H()===!0&&(EVENT.fireAll({node:e,name:"show"}),EVENT.removeAll({node:e,name:"show"}))}),e.checkIsHiding=(()=>{return H()!==!0}),e.checkIsShowing=(()=>{return o===document.body||"none"!==b("display")&&I()>0}));e.scrollTo=(t=>{let e=t.left,n=t.top;void 0!==a&&(void 0!==e&&(a.scrollLeft=e),void 0!==n&&(a.scrollTop=n))}),e.getScrollLeft=(()=>{return void 0!==a?a.scrollLeft:0}),e.getScrollTop=(()=>{return void 0!==a?a.scrollTop:0}),e.getScrollWidth=(()=>{return void 0!==a?a.scrollWidth:0}),e.getScrollHeight=(()=>{return void 0!==a?a.scrollHeight:0}),e.setData=(t=>{d=t}),e.getData=(()=>{return d})},afterInit:(t,e,n)=>{let r,i,o;void 0!==n&&(r=n.style,i=void 0===n.c||CHECK_IS_ARRAY(n.c)===!0?n.c:[n.c],o=n.on),void 0!==r&&e.addStyle(r),void 0!==o&&EACH(o,(t,n)=>{void 0!==t&&e.on(n,t)}),void 0!==i&&EACH(i,(t,n)=>{e.append(t)})}}),global.E=CLASS({init:(t,e,n)=>{let r,i=n.e,o=n.el,a=(t,e)=>{let n=e.parentNode;for(;n!==TO_DELETE;){if(n===t)return!0;n=n.parentNode}return!1},s=e.stopDefault=(()=>{i.preventDefault()}),u=e.stopBubbling=(()=>{i.stopPropagation(),r=!0});e.checkIsBubblingStoped=(()=>{return r}),e.stop=(()=>{s(),u()}),e.getLeft=(()=>{if(INFO.checkIsTouchDevice()===!0&&void 0!==i.changedTouches&&void 0!==i.changedTouches[0]){let t;if(EACH(i.changedTouches,e=>{if(void 0!==e.target&&a(o,e.target)===!0)return t=e.pageX,!1}),void 0===t&&(t=i.changedTouches[0].pageX),void 0!==t)return t}return i.pageX}),e.getTop=(()=>{if(INFO.checkIsTouchDevice()===!0&&void 0!==i.changedTouches&&void 0!==i.changedTouches[0]){let t;if(EACH(i.changedTouches,e=>{if(void 0!==e.target&&a(o,e.target)===!0)return t=e.pageY,!1}),void 0===t&&(t=i.changedTouches[0].pageY),void 0!==t)return t}return i.pageY}),e.getPositions=(()=>{if(INFO.checkIsTouchDevice()===!0&&void 0!==i.changedTouches&&void 0!==i.changedTouches[0]){let t=[];return EACH(i.changedTouches,e=>{t.push({left:e.pageX,top:e.pageY})}),t}return[{left:i.pageX,top:i.pageY}]}),e.getKey=(()=>{return i.key}),e.getWheelDelta=(()=>{return i.deltaY}),e.getGamePadData=(()=>{return i.gamepad}),e.getFiles=(()=>{return i.dataTransfer.files}),e.getClipboardItems=(()=>{return void 0===i.clipboardData||void 0===i.clipboardData.items?[]:i.clipboardData.items})}}),global.EMPTY_E=CLASS({init:(t,e)=>{e.stopDefault=(()=>{}),e.stopBubbling=(()=>{}),e.stop=(()=>{}),e.getLeft=(()=>{return-(1/0)}),e.getTop=(()=>{return-(1/0)}),e.getPositions=(()=>{return[]}),e.getKey=(()=>{return""}),e.getWheelDelta=(()=>{return 0}),e.getClipboardItems=(()=>{return[]})}}),global.EVENT=CLASS(t=>{let e={};return t.fireAll=(t=>{let n,r,i,o,a,s;if(CHECK_IS_DATA(t)!==!0?r=t:(n=t.node,r=t.name,i=t.e),o=void 0===n?"body":n.id,a=e[o],void 0!==a){let t=a[r];void 0!==t&&EACH(t,t=>{t.fire(i)===!1&&(s=!1)})}return s}),t.removeAll=(t=>{let n,r,i,o;if(CHECK_IS_DATA(t)!==!0?r=t:(n=t.node,r=t.name),i=void 0===n?"body":n.id,o=e[i],void 0!==o)if(void 0!==r){let t=o[r];void 0!==t&&EACH(t,t=>{t.remove()})}else EACH(o,t=>{EACH(t,t=>{t.remove()})})}),t.remove=((t,n)=>{let r,i,o,a;if(CHECK_IS_DATA(t)!==!0?i=t:(r=t.node,i=t.name),o=void 0===r?"body":r.id,a=e[o],void 0!==a){let t=a[i];void 0!==t&&EACH(t,t=>{t.getEventHandler()===n&&t.remove()})}}),{init:(t,n,r,i)=>{let o,a,s,u,c,l,d=[];CHECK_IS_DATA(r)!==!0?s=r:(o=r.node,a=r.lowNode,s=r.name,void 0===a&&(a=o)),u=void 0===o?"body":o.id,void 0===e[u]&&(e[u]={}),void 0===e[u][s]&&(e[u][s]=[]),e[u][s].push(n);let f=()=>{let t=e[u][s];void 0!==t&&(REMOVE({array:t,value:n}),t.length<=0&&delete e[u][s]),CHECK_IS_EMPTY_DATA(e[u])===!0&&delete e[u]};if("tap"===s)d.push(EVENT_LOW({node:o,lowNode:a,name:"click"},i));else if("doubletap"===s)INFO.checkIsTouchDevice()===!0?c=EVENT({node:o,name:"tap"},t=>{void 0!==l&&Date.now()-l<600?(i(t,o),getSelection().removeAllRanges(),l=void 0):l=Date.now()}):d.push(EVENT_LOW({node:o,lowNode:a,name:"dblclick"},i));else if("touchstart"===s)d.push(EVENT_LOW({node:o,lowNode:a,name:"touchstart"},(t,e)=>{INFO.checkIsTouchDevice()===!0&&i(t,e)})),d.push(EVENT_LOW({node:o,lowNode:a,name:"mousedown"},(t,e)=>{INFO.checkIsTouchDevice()!==!0&&i(t,e)}));else if("touchmove"===s)d.push(EVENT_LOW({node:o,lowNode:a,name:"touchmove"},(t,e)=>{INFO.checkIsTouchDevice()===!0&&i(t,e)})),d.push(EVENT_LOW({node:o,lowNode:a,name:"mousemove"},(t,e)=>{INFO.checkIsTouchDevice()!==!0&&i(t,e)}));else if("touchend"===s)d.push(EVENT_LOW({node:o,lowNode:a,name:"touchend"},(t,e)=>{INFO.checkIsTouchDevice()===!0&&i(t,e)})),d.push(EVENT_LOW({node:o,lowNode:a,name:"mouseup"},(t,e)=>{INFO.checkIsTouchDevice()!==!0&&i(t,e)}));else if("mouseover"===s)d.push(EVENT_LOW({node:o,lowNode:a,name:"touchstart"},(t,e)=>{INFO.checkIsTouchDevice()===!0&&i(t,e)})),d.push(EVENT_LOW({node:o,lowNode:a,name:"mouseover"},(t,e)=>{INFO.checkIsTouchDevice()!==!0&&i(t,e)}));else if("mouseout"===s)d.push(EVENT_LOW({node:o,lowNode:a,name:"touchend"},(t,e)=>{INFO.checkIsTouchDevice()===!0&&i(t,e)})),d.push(EVENT_LOW({node:o,lowNode:a,name:"mouseout"},(t,e)=>{INFO.checkIsTouchDevice()!==!0&&i(t,e)}));else if("keydown"===s){let t;d.push(EVENT_LOW({node:o,lowNode:a,name:"keydown"},(e,n)=>{t!==e.getKey()&&(i(e,n),t=e.getKey())})),d.push(EVENT_LOW({node:o,lowNode:a,name:"keyup"},(e,n)=>{t=void 0}))}else"attach"!==s&&"show"!==s&&"remove"!==s&&d.push(EVENT_LOW(r,i));n.remove=(()=>{EACH(d,t=>{t.remove()}),void 0!==c&&c.remove(),f()}),n.fire=(t=>{return i(void 0!==t?t:EMPTY_E(),o)}),n.getEventHandler=(()=>{return i})}}}),global.EVENT_LOW=CLASS({init:(t,e,n,r)=>{let i,o,a,s,u;CHECK_IS_DATA(n)!==!0?a=n:(i=n.node,o=n.lowNode,a=n.name,void 0===o&&(o=i)),s=void 0!==o?o.getWrapperEl():void 0===global["on"+a]&&"gamepadconnected"!==a&&"gamepaddisconnected"!==a?document:global,s.addEventListener(a,u=(t=>{let e=r(E({e:t,el:s}),i);return"beforeunload"===a&&void 0!==e&&(t.returnValue=e),e}),!1),e.remove=(()=>{s.removeEventListener(a,u,!1)})}}),global.EVENT_ONCE=CLASS({init:(t,e,n,r)=>{let i=EVENT(n,(t,e)=>{r(t,e),i.remove()});e.remove=(()=>{i.remove()}),e.fire=(()=>{i.fire()})}}),global.A=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"a"}},init:(t,e,n)=>{let r,i,o;void 0!==n&&(r=n.style,i=n.href,o=n.target);let a=e.setHref=(e=>{t.setAttr({name:"href",value:e})});void 0!==i&&a(i),void 0!==o&&t.setAttr({name:"target",value:o}),e.tap=(()=>{EVENT.fireAll({node:e,name:"tap"})}),e.getHref=(()=>{return i})},afterInit:(t,e,n)=>{let r,i,o,a,s=!1;void 0!==n&&(r=n.c,i=n.href),void 0===r&&void 0!==i&&(e.append(i),s=!0,OVERRIDE(e.append,t=>{o=e.append=(n=>{s===!0&&(e.empty(),s=!1),t(n)})}),OVERRIDE(e.prepend,t=>{a=e.prepend=(n=>{s===!0&&(e.empty(),s=!1),t(n)})}))}}),global.AUDIO=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"audio"}},init:(t,e,n)=>{let r=n.mp3,i=n.ogg,o=n.isLoop;void 0!==i&&""!==e.getEl().canPlayType("audio/ogg")?e.getEl().src=i:void 0!==r&&(e.getEl().src=r),t.setAttr({name:"controls",value:"controls"}),o===!0&&t.setAttr({name:"loop",value:"loop"});let a=(e.play=(()=>{e.getEl().play()}),e.pause=(()=>{e.getEl().pause()}));e.stop=(()=>{a(),e.getEl().currentTime=0})}}),global.BODY=OBJECT({preset:()=>{return DOM},params:()=>{return{tag:"body"}}}),global.BR=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"br"}}}),global.CANVAS=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"canvas"}},init:(t,e,n)=>{let r,i;void 0!==n&&(r=n.width,i=n.height);let o=(e.getContext=(t=>{return e.getEl().getContext(t)}),e.setSize=(t=>{let n=e.getEl();void 0!==t.width&&(r=t.width),void 0!==t.height&&(i=t.height),void 0!==r&&(n.width=r),void 0!==i&&(n.height=i)}));o({width:r,height:i}),e.getWidth=(()=>{return r}),e.getHeight=(()=>{return i}),e.getDataURL=(()=>{return e.getEl().toDataURL()})}}),global.DIV=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"div"}}}),global.FOOTER=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"footer"}}}),global.FORM=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"form"}},init:(t,e,n)=>{let r,i,o,a,s,u;void 0!==n&&(r=n.action,i=n.target,o=n.method,a=n.enctype),void 0!==r?t.setAttr({name:"action",value:r}):EVENT({node:e,name:"submit"},t=>{t.stop()}),void 0!==i&&t.setAttr({name:"target",value:i}),void 0!==o&&t.setAttr({name:"method",value:o}),void 0!==a&&t.setAttr({name:"enctype",value:a}),OVERRIDE(e.setData,t=>{s=e.getData=(()=>{let n=t(),r=t=>{EACH(t.getChildren(),t=>{if(void 0!==t.getValue&&void 0!==t.getName&&void 0!==t.getName()){let e=(n,r)=>{if(r.indexOf(".")!==-1){let t=r.substring(r.indexOf(".")+1);r=r.substring(0,r.indexOf(".")),void 0===n[r]&&(n[r]={}),e(n[r],t)}else n[r]=t.getValue()};e(n,t.getName())}r(t)})};return void 0===n&&(n={}),r(e),n})}),OVERRIDE(e.setData,t=>{u=e.setData=(n=>{let r=t=>{EACH(t.getChildren(),t=>{if(void 0!==t.setValue&&void 0!==t.getName&&void 0!==t.getName()){let e=(n,r)=>{if(r.indexOf(".")!==-1){let t=r.substring(r.indexOf(".")+1);r=r.substring(0,r.indexOf(".")),void 0===n[r]&&(n[r]={}),e(n[r],t)}else t.setValue(void 0===n[r]?"":n[r])};e(n,t.getName())}r(t)})};r(e),t(n)})}),e.submit=(()=>{EVENT.fireAll({node:e,name:"submit"}),void 0!==r&&e.getEl().submit()})}}),global.H1=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h1"}}}),global.H2=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h2"}}}),global.H3=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h3"}}}),global.H4=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h4"}}}),global.H5=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h5"}}}),global.H6=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h6"}}}),global.HEADER=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"header"}}}),global.IFRAME=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"iframe",style:{border:"none"}}},init:(t,e,n)=>{let r,i;void 0!==n&&(r=n.name,i=n.src),void 0!==r&&t.setAttr({name:"name",value:r});let o=e.setSrc=(e=>{i=e,t.setAttr({name:"src",value:i})});void 0!==i&&o(i),e.getSrc=(()=>{return i})}}),global.IMG=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"img"}},init:(t,e,n)=>{let r=n.src,i=n.width,o=n.height,a=e.getEl();a.crossOrigin="anonymous";let s=(e.getWidth=(()=>{return a.width}),e.getHeight=(()=>{return a.height}),e.setSize=(t=>{let e=t.width,n=t.height;void 0!==e&&(a.width=e),void 0!==n&&(a.height=n)}));s({width:i,height:o});let u=(e.getSrc=(()=>{return r}),e.setSrc=(e=>{r=e,t.setAttr({name:"src",value:r})}));void 0!==r&&u(r)}}),global.INPUT=CLASS(t=>{let e=[],n=t.getFocusingInputIds=(t=>{return e});return{preset:()=>{return DOM},params:()=>{return{tag:"input"}},init:(t,e,r)=>{let i,o,a,s,u,c,l,d,f,h,g,E,m,p,v,A,_,R,C;void 0!==r&&(i=r.name,o=r.type,a=r.placeholder,s=r.min,u=r.max,c=r.step,l=r.accept,d=r.isMultiple,f=r.isOffAutocomplete,h=r.isOffAutocapitalize),void 0!==o&&t.setAttr({name:"type",value:o}),"submit"!==o&&"reset"!==o&&(void 0!==i&&t.setAttr({name:"name",value:i}),void 0!==a&&t.setAttr({name:"placeholder",value:a}),void 0!==l&&t.setAttr({name:"accept",value:l}),d===!0&&t.setAttr({name:"multiple",value:d}),f===!0&&t.setAttr({name:"autocomplete",value:"off"}),h===!0&&t.setAttr({name:"autocapitalize",value:"off"}),g=e.getName=(()=>{return i}),E=e.getValue=(()=>{return"checkbox"===o||"radio"===o?e.getEl().checked:e.getEl().value}),m=e.getFiles=(()=>{return e.getEl().files}),v=e.select=(()=>{"file"===o?e.getEl().click():e.getEl().select()}),A=e.focus=(()=>{e.getEl().focus()}),_=e.blur=(()=>{e.getEl().blur()}),"checkbox"!==o&&"radio"!==o||(R=e.toggleCheck=(t=>{return e.getEl().checked===!0?e.getEl().checked=!1:e.getEl().checked=!0,EVENT.fireAll({node:e,name:"change"}),e.getEl().checked}),C=e.checkIsChecked=(()=>{return e.getEl().checked}),EVENT({node:e,name:"keyup"},t=>{void 0!==t&&"Enter"===t.getKey()&&DELAY(()=>{EVENT.fireAll({node:e,name:"change"})})}))),"range"===o&&(void 0!==s&&t.setAttr({name:"min",value:s}),void 0!==u&&t.setAttr({name:"max",value:u}),void 0!==c&&t.setAttr({name:"step",value:c})),e.setValue=p=(t=>{"checkbox"===o||"radio"===o?t===!0?e.getEl().checked!==!0?(e.getEl().checked=!0,EVENT.fireAll({node:e,name:"change"})):e.getEl().checked=!0:e.getEl().checked===!0?(e.getEl().checked=!1,EVENT.fireAll({node:e,name:"change"})):e.getEl().checked=!1:e.getEl().value!==t?(e.getEl().value=t,EVENT.fireAll({node:e,name:"change"})):e.getEl().value=t}),EVENT({node:e,name:"focus"},()=>{n().push(e.id)}),EVENT({node:e,name:"blur"},()=>{REMOVE({array:n(),value:e.id})}),e.on("remove",()=>{REMOVE({array:n(),value:e.id})}),"radio"===o&&EVENT({node:e,name:"touchstart"},()=>{C()===!0&&EVENT_ONCE({node:e,name:"touchend"},()=>{DELAY(()=>{p(!1)})})})},afterInit:(t,e,n)=>{let r,i;void 0!==n&&(r=n.type,i=n.value),void 0!==i&&("checkbox"===r||"radio"===r?i===!0?e.getEl().checked!==!0?e.getEl().checked=!0:e.getEl().checked=!0:e.getEl().checked===!0?e.getEl().checked=!1:e.getEl().checked=!1:e.getEl().value!==i?e.getEl().value=i:e.getEl().value=i)}}}),global.LI=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"li"}}}),global.OPTGROUP=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"optgroup"}},init:(t,e,n)=>{let r=n.label;t.setAttr({name:"label",value:r})}}),global.OPTION=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"option"}},init:(t,e,n)=>{e.getValue=(()=>{return e.getEl().value}),e.setValue=(t=>{e.getEl().value=t})},afterInit:(t,e,n)=>{let r,i;void 0!==n&&(r=n.value,i=n.c),void 0===r?e.setValue(""):(e.setValue(r),void 0===i&&e.append(r))}}),global.P=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"p"}}}),global.SELECT=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"select"}},init:(t,e,n)=>{let r,i=!1;void 0!==n&&(r=n.name),void 0!==r&&t.setAttr({name:"name",value:r}),e.getName=(()=>{return r}),e.getValue=(()=>{return e.getEl().value}),e.setValue=(t=>{e.getEl().value!==t?(e.getEl().value=t,EVENT.fireAll({node:e,name:"change"})):e.getEl().value=t}),e.select=(()=>{e.getEl().select()}),e.focus=(()=>{e.getEl().focus()}),e.blur=(()=>{e.getEl().blur()}),EVENT({node:e,name:"keydown"},t=>{"Control"===t.getKey()?i=!0:i!==!0&&t.stopBubbling()}),EVENT({node:e,name:"keyup"},t=>{"Control"===t.getKey()&&(i=!1)}),EVENT({node:e,name:"focus"},()=>{INPUT.getFocusingInputIds().push(e.id)}),EVENT({node:e,name:"blur"},()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:e.id})}),e.on("remove",()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:e.id})})},afterInit:(t,e,n)=>{let r;void 0!==n&&(r=n.value),void 0!==r&&(e.getEl().value!==r?e.getEl().value=r:e.getEl().value=r)}}),global.SPAN=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"span"}}}),global.TABLE=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"table"}}}),global.TD=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"td"}},init:(t,e,n)=>{let r,i;void 0!==n&&(r=n.rowspan,i=n.colspan),void 0!==r&&t.setAttr({name:"rowspan",value:r}),void 0!==i&&t.setAttr({name:"colspan",value:i})}}),global.TEXTAREA=CLASS({
preset:()=>{return DOM},params:()=>{return{tag:"textarea"}},init:(t,e,n)=>{let r,i,o=!1;void 0!==n&&(r=n.name,i=n.placeholder),void 0!==r&&t.setAttr({name:"name",value:r}),void 0!==i&&t.setAttr({name:"placeholder",value:i}),e.getName=(()=>{return r}),e.getValue=(()=>{return e.getEl().value}),e.setValue=(t=>{e.getEl().value!==t?(e.getEl().value=t,EVENT.fireAll({node:e,name:"change"})):e.getEl().value=t}),e.select=(()=>{e.getEl().select()}),e.focus=(()=>{e.getEl().focus()}),e.blur=(()=>{e.getEl().blur()}),EVENT({node:e,name:"keydown"},t=>{"Control"===t.getKey()?o=!0:o!==!0&&t.stopBubbling()}),EVENT({node:e,name:"keyup"},t=>{"Control"===t.getKey()&&(o=!1)}),EVENT({node:e,name:"focus"},()=>{INPUT.getFocusingInputIds().push(e.id)}),EVENT({node:e,name:"blur"},()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:e.id})}),e.on("remove",()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:e.id})})},afterInit:(t,e,n)=>{let r;void 0!==n&&(r=n.value),void 0!==r&&e.setValue(r)}}),global.TH=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"th"}},init:(t,e,n)=>{let r,i;void 0!==n&&(r=n.rowspan,i=n.colspan),void 0!==r&&t.setAttr({name:"rowspan",value:r}),void 0!==i&&t.setAttr({name:"colspan",value:i})}}),global.TR=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"tr"}}}),global.UL=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"ul"}}}),global.VIDEO=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"video"}},init:(t,e,n)=>{let r=n.webm,i=n.ogg,o=n.mp4,a=(n.poster,n.isNoControls),s=n.isLoop,u=n.isMuted;void 0!==r&&""!==e.getEl().canPlayType("video/webm")?e.getEl().src=r:void 0!==i&&""!==e.getEl().canPlayType("video/ogg")?e.getEl().src=i:void 0!==o&&(e.getEl().src=o),a!==!0&&t.setAttr({name:"controls",value:"controls"}),s===!0&&t.setAttr({name:"loop",value:"loop"}),u===!0&&t.setAttr({name:"muted",value:"muted"}),e.play=(()=>{e.getEl().play()}),e.pause=(()=>{e.getEl().pause()}),e.stop=(()=>{e.getEl().pause(),e.getEl().currentTime=0})}}),global.ENCRYPTION_DELETE=METHOD({run:(t,e)=>{ENCRYPTION_REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{url:t},{method:"DELETE"}]),e)}}),global.ENCRYPTION_GET=METHOD({run:(t,e)=>{ENCRYPTION_REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{url:t},{method:"GET"}]),e)}}),global.ENCRYPTION_POST=METHOD({run:(t,e)=>{ENCRYPTION_REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{url:t},{method:"POST"}]),e)}}),global.ENCRYPTION_PUT=METHOD({run:(t,e)=>{ENCRYPTION_REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{url:t},{method:"PUT"}]),e)}}),global.ENCRYPTION_REQUEST=METHOD({run:(t,e)=>{let n,r,i=t.method,o=void 0===t.isSecure?BROWSER_CONFIG.isSecure:t.isSecure,a=void 0===t.host?BROWSER_CONFIG.host:t.host,s=void 0===t.port?void 0===t.host?BROWSER_CONFIG.port:o!==!0?80:443:t.port,u=t.uri,c=t.url,l=t.paramStr,d=t.params,f=t.data,h=t.headers;i=i.toUpperCase(),void 0!==c?(c.indexOf("?")!==-1&&(l=c.substring(c.indexOf("?")+1)+(void 0===l?"":"&"+l),c=c.substring(0,c.indexOf("?"))),o=void 0,a=void 0,s=void 0):void 0!==u&&u.indexOf("?")!==-1&&(l=u.substring(u.indexOf("?")+1)+(void 0===l?"":"&"+l),u=u.substring(0,u.indexOf("?"))),void 0!==d&&EACH(d,(t,e)=>{void 0===l?l="":l+="&",l+=encodeURIComponent(e)+"="+encodeURIComponent(t)}),void 0!==f&&(l=(void 0===l?"":l+"&")+"__DATA="+encodeURIComponent(STRINGIFY(f))),l=(void 0===l?"":l+"&")+Date.now(),l+="&__SEED="+UUID(),l="__ENCRYPT="+encodeURIComponent(ENCRYPT({password:l,key:CONFIG.requestEncryptionKey})),void 0===c&&(c=(o===!0?"https://":"http://")+a+":"+s+"/"+(void 0===u?"":"/"===u[0]?u.substring(1):u)),CHECK_IS_DATA(e)!==!0?n=e:(n=e.success,r=e.error),("GET"===i||"DELETE"===i?fetch(c+"?"+l,{method:i,credentials:"file:"!==location.protocol&&a===BROWSER_CONFIG.host&&s===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)}):fetch(c,{method:i,body:l,credentials:"file:"!==location.protocol&&a===BROWSER_CONFIG.host&&s===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)})).then(e=>{if(200===e.status)return e.text();{let n="HTTP RESPONSE STATUS CODE: "+e.status;void 0!==r?r(n):SHOW_ERROR("ENCRYPTION_REQUEST",n,t)}},e=>{let i=e.toString();void 0!==r?r(i):SHOW_ERROR("ENCRYPTION_REQUEST",i,t),n=void 0}).then(t=>{void 0!==t&&void 0!==n&&n(t)})}}),!function(t,e,n){t[e]=n()}(global,"bowser",function(){function t(t){function e(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function n(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}function r(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var i,o=e(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(t),u=!s&&/android/i.test(t),c=/nexus\s*[0-6]\s*/i.test(t),l=!c&&/nexus\s*[0-9]+/i.test(t),d=/CrOS/.test(t),f=/silk/i.test(t),h=/sailfish/i.test(t),g=/tizen/i.test(t),E=/(web|hpw)os/i.test(t),m=/windows phone/i.test(t),p=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),v=!o&&!f&&/macintosh/i.test(t),A=!u&&!h&&!g&&!E&&/linux/i.test(t),_=e(/edge\/(\d+(\.\d+)?)/i),R=e(/version\/(\d+(\.\d+)?)/i),C=/tablet/i.test(t)&&!/tablet pc/i.test(t),S=!C&&/[^-]mobi/i.test(t),O=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:a,version:R||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:a,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||R}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:a,version:R||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:a,version:R||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:a,version:R||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:a,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:a,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:a,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:a,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:a,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:a,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:a},_?(i.msedge=a,i.version=_):(i.msie=a,i.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:a,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:d?i={name:"Chrome",osname:"Chrome OS",chromeos:a,chromeBook:a,chrome:a,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?i={name:"Microsoft Edge",msedge:a,version:_}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:a,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||R}:h?i={name:"Sailfish",osname:"Sailfish OS",sailfish:a,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:a,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:a,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=a,i.osname="Firefox OS")):f?i={name:"Amazon Silk",silk:a,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:a,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:a,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:a,version:R||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:E?(i={name:"WebOS",osname:"WebOS",webos:a,version:R||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=a)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:a,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:g?i={name:"Tizen",osname:"Tizen",tizen:a,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||R}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:a,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||R}:/chromium/i.test(t)?i={name:"Chromium",chromium:a,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||R}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:a,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:u?i={name:"Android",version:R}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:a},R&&(i.version=R)):o?(i={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},R&&(i.version=R)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:a,version:e(/googlebot\/(\d+(\.\d+))/i)||R}:{name:e(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=a):(i.name=i.name||"Webkit",i.webkit=a),!i.version&&R&&(i.version=R)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=a,i.version=i.version||e(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||i.msedge||!u&&!i.silk?i.windowsphone||i.msedge||!o?v?(i.mac=a,i.osname="macOS"):O?(i.xbox=a,i.osname="Xbox"):p?(i.windows=a,i.osname="Windows"):A&&(i.linux=a,i.osname="Linux"):(i[o]=a,i.ios=a,i.osname="iOS"):(i.android=a,i.osname="Android");var T="";i.windows?T=r(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?T=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?(T=e(/Mac OS X (\d+([_\.\s]\d+)*)/i),T=T.replace(/[_\s]/g,".")):o?(T=e(/os (\d+([_\s]\d+)*) like mac os x/i),T=T.replace(/[_\s]/g,".")):u?T=e(/android[ \/-](\d+(\.\d+)*)/i):i.webos?T=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?T=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?T=e(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(T=e(/tizen[\/\s](\d+(\.\d+)*)/i)),T&&(i.osversion=T);var b=!i.windows&&T.split(".")[0];return C||l||"ipad"==o||u&&(3==b||b>=4&&!S)||i.silk?i.tablet=a:(S||"iphone"==o||"ipod"==o||u||c||i.blackberry||i.webos||i.bada)&&(i.mobile=a),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=a:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=a:i.x=a,i}function e(t){return t.split(".").length}function n(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function r(t){for(var r=Math.max(e(t[0]),e(t[1])),i=n(t,function(t){var i=r-e(t);return t+=new Array(i+1).join(".0"),n(t.split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(e,n,i){var o=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(o=t(i));var a=""+o.version;for(var u in e)if(e.hasOwnProperty(u)&&o[u]){if("string"!=typeof e[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(e));return r([a,e[u]])<0}return n}function o(t,e,n){return!i(t,e,n)}var a=!0,s=t("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=o,s._detect=t,s}),window.AudioContext=window.AudioContext||window.webkitAudioContext,void 0!==window.AudioContext){window.OfflineAudioContext=window.OfflineAudioContext||window.webkitOfflineAudioContext;let t=AudioContext.prototype,e=new AudioContext,n=(t,e)=>{return void 0===t&&void 0!==e},r=e.createBufferSource().constructor.prototype;if(n(r.start,r.noteOn)||n(r.stop,r.noteOff)){let e=t.createBufferSource;t.createBufferSource=function(){let t=e.call(this);return t.start=t.start||t.noteOn,t.stop=t.stop||t.noteOff,t}}if("function"==typeof e.createOscillator){let r=e.createOscillator().constructor.prototype;if(n(r.start,r.noteOn)||n(r.stop,r.noteOff)){let e=t.createOscillator;t.createOscillator=function(){let t=e.call(this);return t.start=t.start||t.noteOn,t.stop=t.stop||t.noteOff,t}}}if(void 0===t.createGain&&void 0!==t.createGainNode&&(t.createGain=t.createGainNode),void 0===t.createDelay&&void 0!==t.createDelayNode&&(t.createDelay=t.createGainNode),void 0===t.createScriptProcessor&&void 0!==t.createJavaScriptNode&&(t.createScriptProcessor=t.createJavaScriptNode),navigator.userAgent.indexOf("like Mac OS X")!==-1){let t=AudioContext;window.AudioContext=function(){let e=new t,n=document.body,r=e.createBufferSource(),i=e.createScriptProcessor(256,1,1),o=()=>{r.start(0),r.connect(i),i.connect(e.destination)};return n.addEventListener("touchstart",o,!1),i.onaudioprocess=(()=>{r.disconnect(),i.disconnect(),n.removeEventListener("touchstart",o,!1),i.onaudioprocess=null}),e}}}global.DELETE=METHOD({run:(t,e)=>{REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{url:t},{method:"DELETE"}]),e)}}),global.GET=METHOD({run:(t,e)=>{REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{url:t},{method:"GET"}]),e)}}),global.POST=METHOD({run:(t,e)=>{REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{url:t},{method:"POST"}]),e)}}),global.PUT=METHOD({run:(t,e)=>{REQUEST(COMBINE([CHECK_IS_DATA(t)===!0?t:{url:t},{method:"PUT"}]),e)}}),global.REQUEST=METHOD({run:(t,e)=>{let n,r,i=t.method,o=void 0===t.isSecure?BROWSER_CONFIG.isSecure:t.isSecure,a=void 0===t.host?BROWSER_CONFIG.host:t.host,s=void 0===t.port?void 0===t.host?BROWSER_CONFIG.port:o!==!0?80:443:t.port,u=t.uri,c=t.url,l=t.paramStr,d=t.params,f=t.data,h=t.headers;i=i.toUpperCase(),void 0!==c?(c.indexOf("?")!==-1&&(l=c.substring(c.indexOf("?")+1)+(void 0===l?"":"&"+l),c=c.substring(0,c.indexOf("?"))),o=void 0,a=void 0,s=void 0):void 0!==u&&u.indexOf("?")!==-1&&(l=u.substring(u.indexOf("?")+1)+(void 0===l?"":"&"+l),u=u.substring(0,u.indexOf("?"))),void 0!==d&&EACH(d,(t,e)=>{void 0===l?l="":l+="&",l+=encodeURIComponent(e)+"="+encodeURIComponent(t)}),void 0!==f&&(l=(void 0===l?"":l+"&")+"__DATA="+encodeURIComponent(STRINGIFY(f))),l=(void 0===l?"":l+"&")+Date.now(),void 0===c&&(c=(o===!0?"https://":"http://")+a+":"+s+"/"+(void 0===u?"":"/"===u[0]?u.substring(1):u)),CHECK_IS_DATA(e)!==!0?n=e:(n=e.success,r=e.error),("GET"===i||"DELETE"===i?fetch("data:"===c.substring(0,5)?c:c+"?"+l,{method:i,credentials:"file:"!==location.protocol&&a===BROWSER_CONFIG.host&&s===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)}):fetch(c,{method:i,body:l,credentials:"file:"!==location.protocol&&a===BROWSER_CONFIG.host&&s===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)})).then(e=>{if(200===e.status)return e.text();{let n="HTTP RESPONSE STATUS CODE: "+e.status;void 0!==r?r(n,e.status):SHOW_ERROR("REQUEST",n,t)}},e=>{let i=e.toString();void 0!==r?r(i):SHOW_ERROR("REQUEST",i,t),n=void 0}).then(t=>{void 0!==t&&void 0!==n&&n(t)})}}),global.GO=METHOD(t=>{let e;return{run:t=>{let n,r;CHECK_IS_DATA(t)!==!0?n=t:(n=t.uri,r=t.data),void 0===e&&(e=!1,EVENT("keydown",t=>{"Control"===t.getKey()&&(e=!0)}),EVENT("keyup",t=>{"Control"===t.getKey()&&(e=!1)})),e===!0?(GO_NEW_WIN(n),e=!1):(MATCH_VIEW.setURIData(r),"file:"===location.protocol?location.href=HREF(n):history.pushState(void 0,void 0,HREF(n)),MATCH_VIEW.checkAll())}}}),FOR_BOX(t=>{t.GO=METHOD({run:e=>{let n,r;CHECK_IS_DATA(e)!==!0?n=e:(n=e.uri,r=e.data),GO({uri:(t.boxName===CONFIG.defaultBoxName?"":t.boxName+"/")+n,data:r})}})}),global.GO_NEW_WIN=METHOD({run:t=>{global.open(HREF(t))}}),FOR_BOX(t=>{t.GO_NEW_WIN=METHOD({run:e=>{GO_NEW_WIN((t.boxName===CONFIG.defaultBoxName?"":t.boxName+"/")+e)}})}),global.HREF=METHOD({run:t=>{return"file:"===location.protocol?"#!/"+t:"/"+t}}),FOR_BOX(t=>{t.HREF=METHOD({run:e=>{return HREF((t.boxName===CONFIG.defaultBoxName?"":t.boxName+"/")+(void 0===e?"":e))}})}),global.MATCH_VIEW=METHOD(t=>{let e,n=[];return t.checkAll=(()=>{EACH(n,t=>{t()})}),t.setURIData=(t=>{e=t}),{run:t=>{let r,i,o=t.uri,a=t.excludeURI,s=t.target,u=URI_MATCHER(o),c=void 0===a?void 0:URI_MATCHER(a),l=()=>{let t,n=URI();if(n===REFRESH.getRefreshingURI()||(t=u.check(n)).checkIsMatched()!==!0||void 0!==a&&c.check(n).checkIsMatched()===!0)void 0!==r&&(r.close(),r=void 0,s.lastView=void 0);else{let o=t.getURIParams();void 0===r?(r=s(e),r.changeParams(o),s.lastView=r,i=o):CHECK_ARE_SAME([i,o])!==!0&&(r.changeParams(o),i=o),r.runURIChangeHandlers(n),DELAY(()=>{e=void 0})}};n.push(l),"file:"===location.protocol?EVENT("hashchange",()=>{l()}):EVENT("popstate",()=>{l()}),l()}}}),FOR_BOX(t=>{t.MATCH_VIEW=METHOD({run:e=>{let n=e.uri,r=e.excludeURI,i=e.target,o=[],a=[],s=e=>{t.boxName===CONFIG.defaultBoxName&&o.push(e),o.push(t.boxName+"/"+e),o.push(t.boxName.toLowerCase()+"/"+e)},u=e=>{t.boxName===CONFIG.defaultBoxName&&a.push(e),a.push(t.boxName+"/"+e),a.push(t.boxName.toLowerCase()+"/"+e)};CHECK_IS_ARRAY(n)===!0?EACH(n,s):s(n),void 0!==r&&(CHECK_IS_ARRAY(r)===!0?EACH(r,u):u(r)),MATCH_VIEW({uri:o,excludeURI:a,target:i})}})}),global.REFRESH=METHOD(t=>{const e="__REFRESHING";let n=t.getRefreshingURI=(()=>{return e});return{run:t=>{if("file:"===location.protocol){let e=void 0!==t?"#!/"+t:location.hash;EVENT_ONCE({name:"hashchange"},()=>{location.replace(""===e?"#!/":e),e!=="#!/"+t&&history.back()}),location.href="#!/"+n()}else{let e=void 0!==t?t:location.pathname.substring(1);history.pushState(void 0,void 0,"/__REFRESHING"),MATCH_VIEW.checkAll(),history.replaceState(void 0,void 0,"/"+e),MATCH_VIEW.checkAll(),e!==t&&history.back()}}}}),FOR_BOX(t=>{t.REFRESH=METHOD({run:e=>{REFRESH((t.boxName===CONFIG.defaultBoxName?"":t.boxName+"/")+(void 0===e?"":e))}})}),global.URI=METHOD({run:()=>{return"file:"===location.protocol?location.hash.substring(3):decodeURIComponent(location.pathname.substring(1))}}),global.VIEW=CLASS({init:(t,e)=>{let n,r,i=!1,o=[],a=[],s=[];t.on=((t,e)=>{"paramsChange"===t&&(o.push(e),void 0!==n&&e(n)),"uriChange"===t?(a.push(e),void 0!==r&&e(r)):"close"===t&&s.push(e)}),e.changeParams=(t=>{n=t,EACH(o,e=>{e(t)})}),e.runURIChangeHandlers=(t=>{r=t,EACH(a,e=>{e(t)})}),e.close=(()=>{EACH(s,t=>{t()}),i=!0}),t.checkIsClosed=(()=>{return i}),scrollTo(0,0)}}),global.SCROLL_LEFT=METHOD({run:()=>{return global.pageXOffset}}),global.SCROLL_TOP=METHOD({run:()=>{return global.pageYOffset}}),global.TITLE=METHOD({run:t=>{return void 0===t?document.title:void(document.title=t)}}),global.WIN_HEIGHT=METHOD({run:()=>{return window.innerHeight}}),global.WIN_WIDTH=METHOD({run:()=>{return document.documentElement.clientWidth}});let inPageScript=document.createElement("script");inPageScript.textContent="(()=>{// Content Script와 연결되는 커넥터\r\nwindow.Connector = (pack) => {\r\n\t//REQUIRED: pack\r\n\t\r\n\tlet inner = {};\r\n\t\r\n\tlet methodMap = {};\r\n\tlet sendKey = 0;\r\n\t\r\n\tlet on = inner.on = (methodName, method) => {\r\n\t\t\r\n\t\tlet realMethodName = pack + '/' + methodName;\r\n\t\r\n\t\tlet methods = methodMap[realMethodName];\r\n\t\r\n\t\tif (methods === undefined) {\r\n\t\t\tmethods = methodMap[realMethodName] = [];\r\n\t\t}\r\n\t\r\n\t\tmethods.push(method);\r\n\t};\r\n\t\r\n\tlet off = inner.off = (methodName, method) => {\r\n\t\t\r\n\t\tlet realMethodName = pack + '/' + methodName;\r\n\t\t\r\n\t\tlet methods = methodMap[realMethodName];\r\n\t\r\n\t\tif (methods !== undefined) {\r\n\t\r\n\t\t\tif (method !== undefined) {\r\n\t\t\t\t\r\n\t\t\t\tlet index = methods.indexOf(method);\r\n\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\tmethods.splice(index, 1);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t} else {\r\n\t\t\t\tdelete methodMap[realMethodName];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\tlet send = inner.send = (params, callback) => {\r\n\t\t//REQUIRED: params\r\n\t\t//REQUIRED: params.methodName\r\n\t\t//OPTIONAL: params.data\r\n\t\t//OPTIONAL: callback\r\n\t\t\r\n\t\tlet methodName = params.methodName;\r\n\t\tlet data = params.data;\r\n\t\t\r\n\t\tlet callbackName;\r\n\t\t\r\n\t\twindow.postMessage({\r\n\t\t\tmethodName : pack + '/' + methodName,\r\n\t\t\tdata : data,\r\n\t\t\tsendKey : sendKey\r\n\t\t}, '*');\r\n\t\t\r\n\t\tif (callback !== undefined) {\r\n\t\t\t\r\n\t\t\tcallbackName = '__CALLBACK_' + sendKey;\r\n\t\r\n\t\t\t// on callback.\r\n\t\t\ton(callbackName, (data) => {\r\n\t\r\n\t\t\t\t// run callback.\r\n\t\t\t\tcallback(data);\r\n\t\r\n\t\t\t\t// off callback.\r\n\t\t\t\toff(callbackName);\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\t\tsendKey += 1;\r\n\t};\r\n\t\r\n\twindow.addEventListener('message', (e) => {\r\n\t\tif (e.source === window) {\r\n\t\t\t\r\n\t\t\tlet methodName = e.data.methodName;\r\n\t\t\tlet data = e.data.data;\r\n\t\t\tlet sendKey = e.data.sendKey;\r\n\t\t\t\r\n\t\t\tlet methods = methodMap[methodName];\r\n\t\t\t\r\n\t\t\tif (methods !== undefined) {\r\n\t\t\t\tmethods.forEach((method) => {\r\n\t\t\t\t\tmethod(data, (retData) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsend({\r\n\t\t\t\t\t\t\tmethodName : '__CALLBACK_' + sendKey,\r\n\t\t\t\t\t\t\tdata : retData\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}, false);\r\n\t\r\n\treturn inner;\r\n};\nwindow.DPlayInventory = (() => {\r\n\t\r\n\tlet TO_DELETE = null;\r\n\t\r\n\tlet SHOW_ERROR = (tag, errorMsg, params) => {\r\n\t\t//REQUIRED: tag\r\n\t\t//REQUIRED: errorMsg\r\n\t\t//OPTIONAL: params\r\n\t\t\r\n\t\tlet cal = CALENDAR();\r\n\t\t\t\r\n\t\tconsole.error(cal.getYear() + '-' + cal.getMonth(true) + '-' + cal.getDate(true) + ' ' + cal.getHour(true) + ':' + cal.getMinute(true) + ':' + cal.getSecond(true) + ' [' + tag + '] 오류가 발생했습니다. 오류 메시지: ' + errorMsg);\r\n\t\t\r\n\t\tif (params !== undefined) {\r\n\t\t\tconsole.error('다음은 오류를 발생시킨 파라미터입니다.');\r\n\t\t\tconsole.error(JSON.stringify(params, TO_DELETE, 4));\r\n\t\t}\r\n\t};\r\n\t\r\n\tlet CHECK_IS_DATA = (target) => {\r\n\t\t//OPTIONAL: target\r\n\r\n\t\tif (\r\n\t\ttarget !== undefined &&\r\n\t\ttarget !== TO_DELETE &&\r\n\t\tCHECK_IS_ARRAY(target) !== true &&\r\n\t\ttarget instanceof Date !== true &&\r\n\t\ttarget instanceof RegExp !== true &&\r\n\t\ttypeof target === 'object') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\t\r\n\tlet CHECK_IS_ARRAY = (target) => {\r\n\t\t//OPTIONAL: target\r\n\r\n\t\tif (\r\n\t\ttarget !== undefined &&\r\n\t\ttarget !== TO_DELETE &&\r\n\t\ttypeof target === 'object' &&\r\n\t\tObject.prototype.toString.call(target) === '[object Array]') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\t\r\n\tlet EACH = (dataOrArrayOrString, func) => {\r\n\t\t//OPTIONAL: dataOrArrayOrString\r\n\t\t//REQUIRED: func\r\n\t\t\r\n\t\tif (dataOrArrayOrString === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// when dataOrArrayOrString is data\r\n\t\telse if (CHECK_IS_DATA(dataOrArrayOrString) === true) {\r\n\r\n\t\t\tfor (let name in dataOrArrayOrString) {\r\n\t\t\t\tif (dataOrArrayOrString.hasOwnProperty === undefined || dataOrArrayOrString.hasOwnProperty(name) === true) {\r\n\t\t\t\t\tif (func(dataOrArrayOrString[name], name) === false) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// when dataOrArrayOrString is func\r\n\t\telse if (func === undefined) {\r\n\r\n\t\t\tfunc = dataOrArrayOrString;\r\n\t\t\tdataOrArrayOrString = undefined;\r\n\r\n\t\t\treturn (dataOrArrayOrString) => {\r\n\t\t\t\treturn EACH(dataOrArrayOrString, func);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// when dataOrArrayOrString is array or string\r\n\t\telse {\r\n\r\n\t\t\tlet length = dataOrArrayOrString.length;\r\n\r\n\t\t\tfor (let i = 0; i < length; i += 1) {\r\n\r\n\t\t\t\tif (func(dataOrArrayOrString[i], i) === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// when shrink\r\n\t\t\t\tif (dataOrArrayOrString.length < length) {\r\n\t\t\t\t\ti -= length - dataOrArrayOrString.length;\r\n\t\t\t\t\tlength -= length - dataOrArrayOrString.length;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// when stretch\r\n\t\t\t\telse if (dataOrArrayOrString.length > length) {\r\n\t\t\t\t\tlength += dataOrArrayOrString.length - length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t};\r\n\t\r\n\tlet PACK_DATA = (data) => {\r\n\t\t//REQUIRED: data\r\n\r\n\t\tlet result = COPY(data);\r\n\t\tlet dateNames = [];\r\n\t\tlet regexNames = [];\r\n\r\n\t\tEACH(result, (value, name) => {\r\n\r\n\t\t\tif (value instanceof Date === true) {\r\n\r\n\t\t\t\t// change to timestamp integer.\r\n\t\t\t\tresult[name] = INTEGER(value.getTime());\r\n\t\t\t\tdateNames.push(name);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (value instanceof RegExp === true) {\r\n\r\n\t\t\t\t// change to string.\r\n\t\t\t\tresult[name] = value.toString();\r\n\t\t\t\tregexNames.push(name);\r\n\t\t\t}\r\n\r\n\t\t\telse if (CHECK_IS_DATA(value) === true) {\r\n\t\t\t\tresult[name] = PACK_DATA(value);\r\n\t\t\t}\r\n\r\n\t\t\telse if (CHECK_IS_ARRAY(value) === true) {\r\n\r\n\t\t\t\tEACH(value, (v, i) => {\r\n\r\n\t\t\t\t\tif (CHECK_IS_DATA(v) === true) {\r\n\t\t\t\t\t\tvalue[i] = PACK_DATA(v);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tresult.__D = dateNames;\r\n\t\tresult.__R = regexNames;\r\n\r\n\t\treturn result;\r\n\t};\r\n\t\r\n\tlet STRINGIFY = (data) => {\r\n\t\t//REQUIRED: data\r\n\t\t\r\n\t\tif (CHECK_IS_DATA(data) === true) {\r\n\t\t\treturn JSON.stringify(PACK_DATA(data));\r\n\t\t}\r\n\t\t\r\n\t\telse if (CHECK_IS_ARRAY(data) === true) {\r\n\t\t\t\r\n\t\t\tlet f = (array) => {\r\n\t\t\t\t\r\n\t\t\t\tlet newArray = [];\r\n\t\t\t\t\r\n\t\t\t\tEACH(array, (data) => {\r\n\t\t\t\t\tif (CHECK_IS_DATA(data) === true) {\r\n\t\t\t\t\t\tnewArray.push(PACK_DATA(data));\r\n\t\t\t\t\t} else if (CHECK_IS_ARRAY(data) === true) {\r\n\t\t\t\t\t\tnewArray.push(f(data));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewArray.push(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn newArray;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\treturn JSON.stringify(f(data));\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\treturn JSON.stringify(data);\r\n\t\t}\r\n\t};\r\n\t\r\n\tlet inner = Connector('DPlayInventory');\r\n\tlet self = {};\r\n\t\r\n\t// 이더리움 네트워크 이름을 가져옵니다.\r\n\tlet getNetworkName = self.getNetworkName = (callback) => {\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getNetworkName'\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 이더리움 네트워크를 변경합니다.\r\n\tlet changeNetwork = self.changeNetwork = (networkName, callback) => {\r\n\t\t//REQUIRED: networkName\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'changeNetwork',\r\n\t\t\tdata : networkName\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\tlet login = self.login = (callback) => {\r\n\t\t//OPTIONAL: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'login'\r\n\t\t}, (result) => {\r\n\t\t\tif (callback !== undefined && result === true) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\t// 계정의 ID를 가져옵니다.\r\n\tlet getAccountId = self.getAccountId = (callback) => {\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getAccountId'\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 문자열에 서명합니다.\r\n\tlet signText = self.signText = (text, callbackOrHandlers) => {\r\n\t\t//REQUIRED: text\r\n\t\t//REQUIRED: callbackOrHandlers\r\n\t\t//OPTIONAL: callbackOrHandlers.error\r\n\t\t//REQUIRED: callbackOrHandlers.success\r\n\t\t\r\n\t\tlet errorHandler;\r\n\t\tlet callback;\r\n\t\t\r\n\t\tif (CHECK_IS_DATA(callbackOrHandlers) !== true) {\r\n\t\t\tcallback = callbackOrHandlers;\r\n\t\t} else {\r\n\t\t\terrorHandler = callbackOrHandlers.error;\r\n\t\t\tcallback = callbackOrHandlers.success;\r\n\t\t}\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'signText',\r\n\t\t\tdata : text\r\n\t\t}, (result) => {\r\n\t\t\t\r\n\t\t\t// 오류 발생\r\n\t\t\tif (result.errorMsg !== undefined) {\r\n\t\t\t\tif (errorHandler === undefined) {\r\n\t\t\t\t\tSHOW_ERROR('DPlayInventory.signText', result.errorMsg, text);\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrorHandler(result.errorMsg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\tcallback(result.signature);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\tlet signData = self.signData = (data, callbackOrHandlers) => {\r\n\t\t//REQUIRED: data\r\n\t\t//REQUIRED: callbackOrHandlers\r\n\t\t//OPTIONAL: callbackOrHandlers.error\r\n\t\t//REQUIRED: callbackOrHandlers.success\r\n\t\t\r\n\t\tlet sortedData = {};\r\n\t\tObject.keys(data).sort().forEach((key) => {\r\n\t\t\tsortedData[key] = data[key];\r\n\t\t});\r\n\t\t\r\n\t\tsignText(STRINGIFY(sortedData), callbackOrHandlers);\r\n\t};\r\n\t\r\n\t// 계정의 이더 잔고를 가져옵니다.\r\n\tlet getEtherBalance = self.getEtherBalance = (callbackOrHandlers) => {\r\n\t\t//REQUIRED: callbackOrHandlers\r\n\t\t//OPTIONAL: callbackOrHandlers.error\r\n\t\t//REQUIRED: callbackOrHandlers.success\r\n\t\t\r\n\t\tlet errorHandler;\r\n\t\tlet callback;\r\n\t\t\r\n\t\tif (CHECK_IS_DATA(callbackOrHandlers) !== true) {\r\n\t\t\tcallback = callbackOrHandlers;\r\n\t\t} else {\r\n\t\t\terrorHandler = callbackOrHandlers.error;\r\n\t\t\tcallback = callbackOrHandlers.success;\r\n\t\t}\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getEtherBalance',\r\n\t\t\tdata : text\r\n\t\t}, (result) => {\r\n\t\t\t\r\n\t\t\t// 오류 발생\r\n\t\t\tif (result.errorMsg !== undefined) {\r\n\t\t\t\tif (errorHandler === undefined) {\r\n\t\t\t\t\tSHOW_ERROR('DPlayInventory.getEtherBalance', result.errorMsg, text);\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrorHandler(result.errorMsg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\tcallback(result.balance);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\t// 스마트 계약을 배포합니다.\r\n\tlet deploySmartContract = self.deploySmartContract = () => {\r\n\t\t//TODO:\r\n\t};\r\n\t\r\n\t// DPlay 보관함의 스킨을 변경합니다.\r\n\tlet changeInventorySkin = self.changeInventorySkin = () => {\r\n\t\t//TODO:\r\n\t};\r\n\t\r\n\tlet addChangeNetworkHandler = self.addChangeNetworkHandler = (changeNetworkHandler) => {\r\n\t\t//REQUIRED: changeNetworkHandler\r\n\t\t\r\n\t\tinner.on('networkChanged', () => {\r\n\t\t\tchangeNetworkHandler();\r\n\t\t});\r\n\t};\r\n\t\r\n\tlet addChangeAccountHandler = self.addChangeAccountHandler = (changeAccountHandler) => {\r\n\t\t//REQUIRED: changeAccountHandler\r\n\t\t\r\n\t\tinner.on('accountsChanged', (accountId) => {\r\n\t\t\tchangeAccountHandler(accountId);\r\n\t\t});\r\n\t};\r\n\t\r\n\tlet eventMap = {};\r\n\t\r\n\t// 스마트 계약 인터페이스를 생성합니다.\r\n\tlet createSmartContractInterface = self.createSmartContractInterface = (params, callback) => {\r\n\t\t//REQUIRED: params\r\n\t\t//REQUIRED: params.abi\r\n\t\t//REQUIRED: params.address\r\n\t\t//OPTIONAL: params.onEvent\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tlet abi = params.abi;\r\n\t\tlet address = params.address;\r\n\t\tlet onEvent = params.onEvent;\r\n\t\t\r\n\t\tif (onEvent !== undefined) {\r\n\t\t\tif (eventMap[address] === undefined) {\r\n\t\t\t\teventMap[address] = [];\r\n\t\t\t}\r\n\t\t\teventMap[address].push(onEvent);\r\n\t\t}\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'createSmartContractInterface',\r\n\t\t\tdata : {\r\n\t\t\t\tabi : abi,\r\n\t\t\t\taddress : address\r\n\t\t\t}\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\tinner.on('__CONTRACT_EVENT', (params) => {\r\n\t\t\r\n\t\tlet address = params.address;\r\n\t\tlet eventName = params.eventName;\r\n\t\tlet args = params.args;\r\n\t\t\r\n\t\tif (eventMap[address] !== undefined) {\r\n\t\t\tEACH(eventMap[address], (onEvent) => {\r\n\t\t\t\tonEvent(eventName, args);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\t\r\n\t// 트랜잭션이 완료될 때 까지 확인합니다.\r\n\tlet watchTransaction = self.watchTransaction = (transactionHash, callbackOrHandlers) => {\r\n\t\t//REQUIRED: transactionHash\r\n\t\t//REQUIRED: callbackOrHandlers\r\n\t\t//OPTIONAL: callbackOrHandlers.error\r\n\t\t//REQUIRED: callbackOrHandlers.success\r\n\t\t\r\n\t\tlet callback;\r\n\t\tlet errorHandler;\r\n\t\t\r\n\t\t// 콜백 정리\r\n\t\tif (CHECK_IS_DATA(callbackOrHandlers) !== true) {\r\n\t\t\tcallback = callbackOrHandlers;\r\n\t\t} else {\r\n\t\t\tcallback = callbackOrHandlers.success;\r\n\t\t\terrorHandler = callbackOrHandlers.error;\r\n\t\t}\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'watchTransaction',\r\n\t\t\tdata : transactionHash\r\n\t\t}, (result) => {\r\n\t\t\t\r\n\t\t\tif (result.errorMsg !== undefined) {\r\n\t\t\t\tif (errorHandler === undefined) {\r\n\t\t\t\t\tSHOW_ERROR('DPlayInventory.watchTransaction', result.errorMsg, transactionHash);\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrorHandler(result.errorMsg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\t// 스마트 계약의 메소드를 실행합니다.\r\n\tlet runSmartContractMethod = self.runSmartContractMethod = (params, callbackOrHandlers) => {\r\n\t\t//REQUIRED: params\r\n\t\t//REQUIRED: params.address\r\n\t\t//REQUIRED: params.methodName\r\n\t\t//REQUIRED: params.params\r\n\t\t//REQUIRED: callbackOrHandlers\r\n\t\t//OPTIONAL: callbackOrHandlers.error\r\n\t\t//OPTIONAL: callbackOrHandlers.success\r\n\t\t\r\n\t\tlet errorHandler;\r\n\t\tlet transactionHashCallback;\r\n\t\tlet callback;\r\n\t\t\r\n\t\tif (CHECK_IS_DATA(callbackOrHandlers) !== true) {\r\n\t\t\tcallback = callbackOrHandlers;\r\n\t\t} else {\r\n\t\t\terrorHandler = callbackOrHandlers.error;\r\n\t\t\ttransactionHashCallback = callbackOrHandlers.transactionHash;\r\n\t\t\tcallback = callbackOrHandlers.success;\r\n\t\t}\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'runSmartContractMethod',\r\n\t\t\tdata : params\r\n\t\t}, (result) => {\r\n\t\t\t\r\n\t\t\tif (result.errorMsg !== undefined) {\r\n\t\t\t\tif (errorHandler === undefined) {\r\n\t\t\t\t\tSHOW_ERROR('DPlayInventory.runSmartContractMethod', result.errorMsg, params);\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrorHandler(result.errorMsg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (result.transactionHash !== undefined) {\r\n\t\t\t\t\r\n\t\t\t\tif (transactionHashCallback !== undefined) {\r\n\t\t\t\t\ttransactionHashCallback(result.transactionHash);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (callback !== undefined) {\r\n\t\t\t\t\twatchTransaction(result.transactionHash, {\r\n\t\t\t\t\t\terror : errorHandler,\r\n\t\t\t\t\t\tsuccess : callback\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (callback !== undefined) {\r\n\t\t\t\t\r\n\t\t\t\tif (result.value !== undefined) {\r\n\t\t\t\t\tcallback(result.value, result.str);\r\n\t\t\t\t} else if (result.array !== undefined) {\r\n\t\t\t\t\tcallback.apply(TO_DELETE, result.array);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\treturn self;\r\n})();\nwindow.DSide = (() => {\r\n\t\r\n\tlet SHOW_ERROR = (tag, errorMsg, params) => {\r\n\t\t//REQUIRED: tag\r\n\t\t//REQUIRED: errorMsg\r\n\t\t//OPTIONAL: params\r\n\t\t\r\n\t\tlet cal = CALENDAR();\r\n\t\t\t\r\n\t\tconsole.error(cal.getYear() + '-' + cal.getMonth(true) + '-' + cal.getDate(true) + ' ' + cal.getHour(true) + ':' + cal.getMinute(true) + ':' + cal.getSecond(true) + ' [' + tag + '] 오류가 발생했습니다. 오류 메시지: ' + errorMsg);\r\n\t\t\r\n\t\tif (params !== undefined) {\r\n\t\t\tconsole.error('다음은 오류를 발생시킨 파라미터입니다.');\r\n\t\t\tconsole.error(JSON.stringify(params, TO_DELETE, 4));\r\n\t\t}\r\n\t};\r\n\t\r\n\tlet inner = Connector('DSide');\r\n\tlet self = {};\r\n\t\r\n\tlet networkName = 'Unknown';\r\n\t\r\n\tlet setNetworkName = self.setNetworkName = (_networkName) => {\r\n\t\t//REQUIRED: networkName\r\n\t\t\r\n\t\tnetworkName = _networkName;\r\n\t};\r\n\t\r\n\tlet timeDiffWithNode = 0;\r\n\tinner.send({\r\n\t\tmethodName : 'getTimeDiffWithNode'\r\n\t}, (_timeDiffWithNode) => {\r\n\t\ttimeDiffWithNode = _timeDiffWithNode;\r\n\t});\r\n\t\r\n\tlet getNodeTime = self.getNodeTime = (date) => {\r\n\t\t//REQUIRED: date\r\n\t\t\r\n\t\treturn new Date(date.getTime() - timeDiffWithNode);\r\n\t};\r\n\t\r\n\tlet seperateHandler = (callbackOrHandlers) => {\r\n\t\t//REQUIRED: callbackOrHandlers\r\n\t\t//OPTIONAL: callbackOrHandlers.notValid\r\n\t\t//OPTIONAL: callbackOrHandlers.notVerified\r\n\t\t//OPTIONAL: callbackOrHandlers.notEnoughD\r\n\t\t//REQUIRED: callbackOrHandlers.success\r\n\t\t\r\n\t\tlet notValidHandler;\r\n\t\tlet notVerifiedHandler;\r\n\t\tlet notEnoughDHandler;\r\n\t\tlet callback;\r\n\t\t\r\n\t\tif (CHECK_IS_DATA(callbackOrHandlers) !== true) {\r\n\t\t\tcallback = callbackOrHandlers;\r\n\t\t} else {\r\n\t\t\tnotValidHandler = callbackOrHandlers.notValid;\r\n\t\t\tnotVerifiedHandler = callbackOrHandlers.notVerified;\r\n\t\t\tnotEnoughDHandler = callbackOrHandlers.notEnoughD;\r\n\t\t\tcallback = callbackOrHandlers.success;\r\n\t\t}\r\n\t\t\r\n\t\treturn (result) => {\r\n\t\t\t\r\n\t\t\tif (result.validErrors !== undefined) {\r\n\t\t\t\tif (notValidHandler !== undefined) {\r\n\t\t\t\t\tnotValidHandler(result.validErrors);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSHOW_ERROR('DSide.saveAccountDetail', MSG({\r\n\t\t\t\t\t\tko : '데이터가 유효하지 않습니다.'\r\n\t\t\t\t\t}), result.validErrors);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (result.isNotVerified === true) {\r\n\t\t\t\tif (notVerifiedHandler !== undefined) {\r\n\t\t\t\t\tnotVerifiedHandler();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSHOW_ERROR('DSide.saveAccountDetail', MSG({\r\n\t\t\t\t\t\tko : '데이터가 유효하지 않습니다.'\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (result.isNotEnoughD === true) {\r\n\t\t\t\tif (notEnoughDHandler !== undefined) {\r\n\t\t\t\t\tnotEnoughDHandler();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSHOW_ERROR('DSide.saveAccountDetail', MSG({\r\n\t\t\t\t\t\tko : 'd가 부족합니다.'\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\t\r\n\t// 계정의 세부 정보를 가져옵니다.\r\n\tlet getAccountDetail = self.getAccountDetail = (accountId, callback) => {\r\n\t\t//REQUIRED: accountId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getAccountDetail',\r\n\t\t\tdata : accountId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 이름으로 계정을 찾습니다.\r\n\tlet findAccounts = self.findAccounts = (nameQuery, callback) => {\r\n\t\t//REQUIRED: nameQuery\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'findAccounts',\r\n\t\t\tdata : nameQuery\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 친구 신청합니다.\r\n\tlet requestFriend = self.requestFriend = (targetAccountId, callbackOrHandlers) => {\r\n\t\t//REQUIRED: targetAccountId\r\n\t\t//REQUIRED: callbackOrHandlers\r\n\t\t//OPTIONAL: callbackOrHandlers.notValid\r\n\t\t//OPTIONAL: callbackOrHandlers.notVerified\r\n\t\t//OPTIONAL: callbackOrHandlers.notEnoughD\r\n\t\t//REQUIRED: callbackOrHandlers.success\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'requestFriend',\r\n\t\t\tdata : targetAccountId\r\n\t\t}, seperateHandler(callbackOrHandlers));\r\n\t};\r\n\t\r\n\t// 이미 친구 신청했는지 확인합니다.\r\n\tlet checkFriendRequested = self.checkFriendRequested = (params, callback) => {\r\n\t\t//REQUIRED: params\r\n\t\t//REQUIRED: params.target\r\n\t\t//REQUIRED: params.accountId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'checkFriendRequested',\r\n\t\t\tdata : params\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 친구 신청자들의 ID를 가져옵니다.\r\n\tlet getFriendRequesterIds = self.getFriendRequesterIds = (accountId, callback) => {\r\n\t\t//REQUIRED: accountId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getFriendRequesterIds',\r\n\t\t\tdata : accountId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 친구 요청을 거절합니다.\r\n\tlet denyFriendRequest = self.denyFriendRequest = (requesterId, callback) => {\r\n\t\t//REQUIRED: requesterId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'denyFriendRequest',\r\n\t\t\tdata : requesterId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 친구 요청을 수락합니다.\r\n\tlet acceptFriendRequest = self.acceptFriendRequest = (requesterId, callback) => {\r\n\t\t//REQUIRED: requesterId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'acceptFriendRequest',\r\n\t\t\tdata : requesterId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 친구들의 ID를 가져옵니다.\r\n\tlet getFriendIds = self.getFriendIds = (accountId, callback) => {\r\n\t\t//REQUIRED: accountId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getFriendIds',\r\n\t\t\tdata : accountId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 두 유저가 친구인지 확인합니다.\r\n\tlet checkIsFriend = self.checkIsFriend = (params, callback) => {\r\n\t\t//REQUIRED: params\r\n\t\t//REQUIRED: params.accountId\r\n\t\t//REQUIRED: params.account2Id\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'checkIsFriend',\r\n\t\t\tdata : params\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 친구를 삭제합니다.\r\n\tlet removeFriend = self.removeFriend = (friendId, callbackOrHandlers) => {\r\n\t\t//REQUIRED: friendId\r\n\t\t//REQUIRED: callbackOrHandlers\r\n\t\t//OPTIONAL: callbackOrHandlers.notValid\r\n\t\t//OPTIONAL: callbackOrHandlers.notVerified\r\n\t\t//REQUIRED: callbackOrHandlers.success\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'removeFriend',\r\n\t\t\tdata : friendId\r\n\t\t}, seperateHandler(callbackOrHandlers));\r\n\t};\r\n\t\r\n\t// 회원수 순으로 길드 ID들을 가져옵니다.\r\n\tlet getGuildIdsByMemberCount = self.getGuildIdsByMemberCount = (callback) => {\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getGuildIdsByMemberCount',\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 특정 유저가 가입한 길드 ID를 가져옵니다.\r\n\tlet getAccountGuildId = self.getAccountGuildId = (accountId, callback) => {\r\n\t\t//REQUIRED: accountId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getAccountGuildId',\r\n\t\t\tdata : accountId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 특정 길드 정보를 가져옵니다.\r\n\tlet getGuild = self.getGuild = (guildId, callback) => {\r\n\t\t//REQUIRED: guildId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getGuild',\r\n\t\t\tdata : guildId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 이름으로 길드를 찾습니다.\r\n\tlet findGuilds = self.findGuilds = (nameQuery, callback) => {\r\n\t\t//REQUIRED: nameQuery\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'findGuilds',\r\n\t\t\tdata : nameQuery\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 길드 가입 신청합니다.\r\n\tlet requestGuildJoin = self.requestGuildJoin = (targetGuildId, callbackOrHandlers) => {\r\n\t\t//REQUIRED: targetGuildId\r\n\t\t//REQUIRED: callbackOrHandlers\r\n\t\t//OPTIONAL: callbackOrHandlers.notValid\r\n\t\t//OPTIONAL: callbackOrHandlers.notVerified\r\n\t\t//OPTIONAL: callbackOrHandlers.notEnoughD\r\n\t\t//REQUIRED: callbackOrHandlers.success\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'requestGuildJoin',\r\n\t\t\tdata : targetGuildId\r\n\t\t}, seperateHandler(callbackOrHandlers));\r\n\t};\r\n\t\r\n\t// 이미 길드 가입 신청했는지 확인합니다.\r\n\tlet checkGuildJoinRequested = self.checkGuildJoinRequested = (params, callback) => {\r\n\t\t//REQUIRED: params\r\n\t\t//REQUIRED: params.target\r\n\t\t//REQUIRED: params.accountId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'checkGuildJoinRequested',\r\n\t\t\tdata : params\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 길드 가입 신청자들의 ID를 가져옵니다.\r\n\tlet getGuildJoinRequesterIds = self.getGuildJoinRequesterIds = (guildId, callback) => {\r\n\t\t//REQUIRED: guildId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getGuildJoinRequesterIds',\r\n\t\t\tdata : guildId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 길드원들의 ID들을 가져옵니다.\r\n\tlet getGuildMemberIds = self.getGuildMemberIds = (guildId, callback) => {\r\n\t\t//REQUIRED: guildId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getGuildMemberIds',\r\n\t\t\tdata : guildId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 길드 가입 신청을 거절합니다.\r\n\tlet denyGuildJoinRequest = self.denyGuildJoinRequest = (requesterId, callback) => {\r\n\t\t//REQUIRED: requesterId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'denyGuildJoinRequest',\r\n\t\t\tdata : requesterId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 길드 가입 신청을 수락합니다.\r\n\tlet acceptGuildJoinRequest = self.acceptGuildJoinRequest = (requesterId, callback) => {\r\n\t\t//REQUIRED: requesterId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'acceptGuildJoinRequest',\r\n\t\t\tdata : requesterId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 길드에서 탈퇴합니다.\r\n\tlet leaveGuild = self.leaveGuild = (callback) => {\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'leaveGuild'\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 길드에서 내쫒습니다.\r\n\tlet banGuildMember = self.banGuildMember = (accountId, callback) => {\r\n\t\t//REQUIRED: accountId\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'banGuildMember',\r\n\t\t\tdata : accountId\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\t// 대상에 참여합니다.\r\n\tlet joinTarget = self.joinTarget = (target) => {\r\n\t\t//REQUIRED: target\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'joinTarget',\r\n\t\t\tdata : networkName + '/' + target\r\n\t\t});\r\n\t};\r\n\t\r\n\t// 대상에서 나옵니다.\r\n\tlet exitTarget = self.exitTarget = (target) => {\r\n\t\t//REQUIRED: target\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'exitTarget',\r\n\t\t\tdata : networkName + '/' + target\r\n\t\t});\r\n\t};\r\n\t\r\n\tlet getChatMessages = self.getChatMessages = (target, callback) => {\r\n\t\t//REQUIRED: target\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getChatMessages',\r\n\t\t\tdata : networkName + '/' + target\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\tlet sendChatMessage = self.sendChatMessage = (params) => {\r\n\t\t//REQUIRED: params\r\n\t\t//REQUIRED: params.target\r\n\t\t//REQUIRED: params.message\r\n\t\t\r\n\t\tlet target = params.target;\r\n\t\tlet message = params.message;\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'sendChatMessage',\r\n\t\t\tdata : {\r\n\t\t\t\ttarget : networkName + '/' + target,\r\n\t\t\t\tmessage : message\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\tlet onNewChatMessageHandlers = {};\r\n\t\r\n\tlet onNewChatMessage = self.onNewChatMessage = (target, handler) => {\r\n\t\t//REQUIRED: target\r\n\t\t//REQUIRED: handler\r\n\t\t\r\n\t\tonNewChatMessageHandlers[networkName + '/' + target] = handler;\r\n\t};\r\n\t\r\n\tlet offNewChatMessage = self.offNewChatMessage = (target) => {\r\n\t\t//REQUIRED: target\r\n\t\t\r\n\t\tlet handler = onNewChatMessageHandlers[networkName + '/' + target];\r\n\t\t\r\n\t\tif (handler !== undefined) {\r\n\t\t\tdelete onNewChatMessageHandlers[networkName + '/' + target];\r\n\t\t}\r\n\t};\r\n\t\r\n\tinner.on('newChatMessage', (data) => {\r\n\t\tEACH(onNewChatMessageHandlers, (handler, target) => {\r\n\t\t\tif (data.target === target) {\r\n\t\t\t\thandler(data);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\t\r\n\tlet getPendingTransactions = self.getPendingTransactions = (target, callback) => {\r\n\t\t//REQUIRED: target\r\n\t\t//REQUIRED: callback\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'getPendingTransactions',\r\n\t\t\tdata : networkName + '/' + target\r\n\t\t}, callback);\r\n\t};\r\n\t\r\n\tlet sendPendingTransaction = self.sendPendingTransaction = (params) => {\r\n\t\t//REQUIRED: params\r\n\t\t//REQUIRED: params.target\r\n\t\t//REQUIRED: params.transactionHash\r\n\t\t//REQUIRED: params.message\r\n\t\t\r\n\t\tlet target = params.target;\r\n\t\tlet transactionHash = params.transactionHash;\r\n\t\tlet message = params.message;\r\n\t\t\r\n\t\tinner.send({\r\n\t\t\tmethodName : 'sendPendingTransaction',\r\n\t\t\tdata : {\r\n\t\t\t\ttarget : networkName + '/' + target,\r\n\t\t\t\tnetwork : networkName,\r\n\t\t\t\ttransactionHash : transactionHash,\r\n\t\t\t\tmessage : message\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\tlet onNewPendingTransactionHandlers = {};\r\n\t\r\n\tlet onNewPendingTransaction = self.onNewPendingTransaction = (target, handler) => {\r\n\t\t//REQUIRED: target\r\n\t\t//REQUIRED: handler\r\n\t\t\r\n\t\tonNewPendingTransactionHandlers[networkName + '/' + target] = handler;\r\n\t};\r\n\t\r\n\tlet offNewPendingTransaction = self.offNewPendingTransaction = (target) => {\r\n\t\t//REQUIRED: target\r\n\t\t\r\n\t\tlet handler = onNewPendingTransactionHandlers[networkName + '/' + target];\r\n\t\t\r\n\t\tif (handler !== undefined) {\r\n\t\t\tdelete onNewPendingTransactionHandlers[networkName + '/' + target];\r\n\t\t}\r\n\t};\r\n\t\r\n\tinner.on('newPendingTransaction', (data) => {\r\n\t\tEACH(onNewPendingTransactionHandlers, (handler, target) => {\r\n\t\t\tif (data.target === target) {\r\n\t\t\t\thandler(data);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\t\r\n\treturn self;\r\n})();\nif(window.INPAGE_MAIN!==undefined){window.INPAGE_MAIN();}})();",
document.documentElement.appendChild(inPageScript),void 0===window.browser&&(window.browser=chrome),window.Connector=(t=>{let e={},n={},r={},i=0,o=browser.runtime.connect({name:t}),a=e.onFromPage=((e,r)=>{let i=t+"/"+e,o=n[i];void 0===o&&(o=n[i]=[]),o.push(r)}),s=e.offFromPage=((e,r)=>{let i=t+"/"+e,o=n[i];if(void 0!==o)if(void 0!==r){let t=o.indexOf(r);t!==-1&&o.splice(t,1)}else delete n[i]}),u=e.onFromBackground=((e,n)=>{let i=t+"/"+e,o=r[i];void 0===o&&(o=r[i]=[]),o.push(n)}),c=e.offFromBackground=((e,n)=>{let i=t+"/"+e,o=r[i];if(void 0!==o)if(void 0!==n){let t=o.indexOf(n);t!==-1&&o.splice(t,1)}else delete r[i]}),l=e.sendToBackground=((e,n)=>{let r,a=e.methodName,s=e.data;o.postMessage({methodName:t+"/"+a,data:s,sendKey:i}),void 0!==n&&(r="__CALLBACK_"+i,u(r,t=>{n(t),c(r)})),i+=1}),d=e.sendToPage=((e,n)=>{let r,o=e.methodName,u=e.data;window.postMessage({methodName:t+"/"+o,data:u,sendKey:i},"*"),void 0!==n&&(r="__CALLBACK_"+i,a(r,t=>{n(t),s(r)})),i+=1});return o.onMessage.addListener(t=>{let e=t.methodName,n=t.data,i=t.sendKey,o=r[e];void 0!==o&&o.forEach(t=>{t(n,t=>{l({methodName:"__CALLBACK_"+i,data:t})})})}),window.addEventListener("message",t=>{if(t.source===window){let e=t.data.methodName,r=t.data.data,i=t.data.sendKey,o=n[e];void 0!==o&&o.forEach(t=>{t(r,t=>{d({methodName:"__CALLBACK_"+i,data:t})})})}},!1),e}),window.DPlayInventory=(()=>{let t=Connector("DPlayInventory"),e={};t.onFromPage("getNetworkName",(e,n)=>{t.sendToBackground({methodName:"getNetworkName"},n)}),t.onFromPage("networkChanged",()=>{t.sendToPage({methodName:"networkChanged"})}),t.onFromPage("accountsChanged",e=>{t.sendToPage({methodName:"accountsChanged",data:e})}),t.onFromPage("changeNetwork",(e,n)=>{t.sendToBackground({methodName:"changeNetwork",data:e},n)});let n=()=>{let t,e=document.getElementsByTagName("link");for(let n=0;n<e.length;n+=1){let r=e[n].getAttribute("rel");if("icon"===r||"shortcut icon"===r){t=e[n].getAttribute("href");break}}return void 0===t?void 0:"/"===t[0]?location.origin+t:location.href+"/"+t};return t.onFromPage("login",(e,r)=>{t.sendToBackground({methodName:"login",data:{url:location.host,title:document.title,favicon:n()}},r)}),t.onFromPage("getAccountId",(e,n)=>{t.sendToBackground({methodName:"getAccountId",data:location.host},n)}),t.onFromPage("signText",(e,n)=>{t.sendToBackground({methodName:"signText",data:e},n)}),t.onFromPage("getEtherBalance",(e,n)=>{t.sendToBackground({methodName:"getEtherBalance"},n)}),t.onFromPage("createSmartContractInterface",(e,n)=>{t.sendToBackground({methodName:"createSmartContractInterface",data:e},n)}),t.onFromPage("watchTransaction",(e,n)=>{t.sendToBackground({methodName:"watchTransaction",data:e},n)}),t.onFromPage("runSmartContractMethod",(e,r)=>{e.title=document.title,e.favicon=n(),t.sendToBackground({methodName:"runSmartContractMethod",data:e},r)}),browser.runtime.connect({name:"__CONTRACT_EVENT"}).onMessage.addListener(e=>{t.sendToPage({methodName:"__CONTRACT_EVENT",data:e})}),e})(),window.DSide=(()=>{let t=Connector("DSide"),e={};t.onFromPage("getTimeDiffWithNode",(e,n)=>{t.sendToBackground({methodName:"getTimeDiffWithNode"},n)}),t.onFromPage("getAccountDetail",(e,n)=>{t.sendToBackground({methodName:"getAccountDetail",data:e},n)}),t.onFromPage("findAccounts",(e,n)=>{t.sendToBackground({methodName:"findAccounts",data:e},n)}),t.onFromPage("requestFriend",(e,n)=>{t.sendToBackground({methodName:"requestFriend",data:e},n)}),t.onFromPage("checkFriendRequested",(e,n)=>{t.sendToBackground({methodName:"checkFriendRequested",data:e},n)}),t.onFromPage("getFriendRequesterIds",(e,n)=>{t.sendToBackground({methodName:"getFriendRequesterIds",data:e},n)}),t.onFromPage("denyFriendRequest",(e,n)=>{t.sendToBackground({methodName:"denyFriendRequest",data:e},n)}),t.onFromPage("acceptFriendRequest",(e,n)=>{t.sendToBackground({methodName:"acceptFriendRequest",data:e},n)}),t.onFromPage("getFriendIds",(e,n)=>{t.sendToBackground({methodName:"getFriendIds",data:e},n)}),t.onFromPage("checkIsFriend",(e,n)=>{t.sendToBackground({methodName:"checkIsFriend",data:e},n)}),t.onFromPage("removeFriend",(e,n)=>{t.sendToBackground({methodName:"removeFriend",data:e},n)}),t.onFromPage("getGuildIdsByMemberCount",(e,n)=>{t.sendToBackground({methodName:"getGuildIdsByMemberCount"},n)}),t.onFromPage("getAccountGuildId",(e,n)=>{t.sendToBackground({methodName:"getAccountGuildId",data:e},n)}),t.onFromPage("getGuild",(e,n)=>{t.sendToBackground({methodName:"getGuild",data:e},n)}),t.onFromPage("findGuilds",(e,n)=>{t.sendToBackground({methodName:"findGuilds",data:e},n)}),t.onFromPage("requestGuildJoin",(e,n)=>{t.sendToBackground({methodName:"requestGuildJoin",data:e},n)}),t.onFromPage("checkGuildJoinRequested",(e,n)=>{t.sendToBackground({methodName:"checkGuildJoinRequested",data:e},n)}),t.onFromPage("getGuildJoinRequesterIds",(e,n)=>{t.sendToBackground({methodName:"getGuildJoinRequesterIds",data:e},n)}),t.onFromPage("getGuildMemberIds",(e,n)=>{t.sendToBackground({methodName:"getGuildMemberIds",data:e},n)}),t.onFromPage("denyGuildJoinRequest",(e,n)=>{t.sendToBackground({methodName:"denyGuildJoinRequest",data:e},n)}),t.onFromPage("acceptGuildJoinRequest",(e,n)=>{t.sendToBackground({methodName:"acceptGuildJoinRequest",data:e},n)}),t.onFromPage("leaveGuild",(e,n)=>{t.sendToBackground({methodName:"leaveGuild"},n)}),t.onFromPage("banGuildMember",(e,n)=>{t.sendToBackground({methodName:"banGuildMember",data:e},n)});const n=UUID();t.onFromPage("joinTarget",e=>{t.sendToBackground({methodName:"joinTarget",data:{clientId:n,target:e}})}),t.onFromPage("exitTarget",e=>{t.sendToBackground({methodName:"exitTarget",data:{clientId:n,target:e}})}),t.onFromPage("getChatMessages",(e,n)=>{t.sendToBackground({methodName:"getChatMessages",data:e},n)}),t.onFromPage("sendChatMessage",e=>{t.sendToBackground({methodName:"sendChatMessage",data:e})}),t.onFromPage("getPendingTransactions",(e,n)=>{t.sendToBackground({methodName:"getPendingTransactions",data:e},n)}),t.onFromPage("sendPendingTransaction",e=>{t.sendToBackground({methodName:"sendPendingTransaction",data:e})});let r=browser.runtime.connect({name:"__DSIDE_EVENT"});return r.postMessage(n),r.onMessage.addListener(e=>{t.sendToPage(e)}),e})(),void 0!==window.MAIN&&window.MAIN();