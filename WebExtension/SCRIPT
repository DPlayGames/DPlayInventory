let global=window;if(global.CONFIG={isDevMode:!1},global.METHOD=(e=>{let t,n,o=(e,t)=>{if(void 0!==n)return n(e,t)};return o.type=METHOD,t="function"==typeof e?e(o):e,void 0!==t&&(n=t.run),o}),global.MSG=METHOD(e=>{let t={};return e.addData=(e=>{EXTEND({origin:t,extend:e})}),{run:e=>{let n,o;CHECK_IS_DATA(e)!==!0?n=e:o=e,void 0!==n&&(o=t[n]);let i;return EACH(o,e=>{return i=e,!1}),void 0!==i&&CHECK_IS_DATA(i)===!0&&EACH(i,e=>{return i=e,!1}),i}}}),global.TO_DELETE=null,global._=void 0,global.BOX=METHOD(e=>{let t={};return e.getAllBoxes=(()=>{return t}),{run:e=>{let n=e=>{let t,o=e.split(".");return EACH(o,e=>{void 0===t?(void 0===n[e]&&(n[e]={}),t=n[e]):(void 0===t[e]&&(t[e]={}),t=t[e])}),t};return n.type=BOX,n.boxName=e,global[e]=t[e]=n,void 0===CONFIG[e]&&(CONFIG[e]={}),FOR_BOX.inject(n),n}}}),global.FOR_BOX=METHOD(e=>{let t=[];return e.inject=(e=>{EACH(t,t=>{t(e)})}),{run:e=>{EACH(BOX.getAllBoxes(),t=>{e(t)}),t.push(e)}}}),global.SHOW_ERROR=((e,t,n)=>{let o=CALENDAR();console.error(o.getYear()+"-"+o.getMonth(!0)+"-"+o.getDate(!0)+" "+o.getHour(!0)+":"+o.getMinute(!0)+":"+o.getSecond(!0)+" ["+e+"] 오류가 발생했습니다. 오류 메시지: "+t),void 0!==n&&(console.error("다음은 오류를 발생시킨 파라미터입니다."),console.error(JSON.stringify(n,TO_DELETE,4)))}),global.SHOW_WARNING=((e,t,n)=>{let o=CALENDAR();console.warn(o.getYear()+"-"+o.getMonth(!0)+"-"+o.getDate(!0)+" "+o.getHour(!0)+":"+o.getMinute(!0)+":"+o.getSecond(!0)+" ["+e+"] 경고가 발생했습니다. 경고 메시지: "+t),void 0!==n&&(console.warn("다음은 경고를 발생시킨 파라미터입니다."),console.warn(JSON.stringify(n,TO_DELETE,4)))}),!function(e){global.__PAPA=e()}(function(){"use strict";function e(e,t){t=t||{};var n=t.dynamicTyping||!1;if(m(n)&&(t.dynamicTypingFunction=n,n={}),t.dynamicTyping=n,t.transform=!!m(t.transform)&&t.transform,t.worker&&R.WORKERS_SUPPORTED){var s=f();return s.userStep=t.step,s.userChunk=t.chunk,s.userComplete=t.complete,s.userError=t.error,t.step=m(t.step),t.chunk=m(t.chunk),t.complete=m(t.complete),t.error=m(t.error),delete t.worker,void s.postMessage({input:e,config:t,workerId:s.id})}var c=null;return e===R.NODE_STREAM_INPUT?(c=new u(t),c.getStream()):("string"==typeof e?c=t.download?new o(t):new r(t):e.readable===!0&&m(e.read)&&m(e.on)?c=new a(t):(global.File&&e instanceof File||e instanceof Object)&&(c=new i(t)),c.stream(e))}function t(e,t){function n(){"object"==typeof t&&("string"==typeof t.delimiter&&1===t.delimiter.length&&R.BAD_DELIMITERS.indexOf(t.delimiter)===-1&&(c=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(u=t.quotes),"string"==typeof t.newline&&(d=t.newline),"string"==typeof t.quoteChar&&(f=t.quoteChar),"boolean"==typeof t.header&&(s=t.header))}function o(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function i(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var o=e instanceof Array&&e.length>0,i=!(t[0]instanceof Array);if(o&&s){for(var a=0;a<e.length;a++)a>0&&(n+=c),n+=r(e[a],a);t.length>0&&(n+=d)}for(var u=0;u<t.length;u++){for(var f=o?e.length:t[u].length,l=0;l<f;l++){l>0&&(n+=c);var h=o&&i?e[l]:l;n+=r(t[u][h],l)}u<t.length-1&&(n+=d)}return n}function r(e,t){if("undefined"==typeof e||null===e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);e=e.toString().replace(l,f+f);var n="boolean"==typeof u&&u||u instanceof Array&&u[t]||a(e,R.BAD_DELIMITERS)||e.indexOf(c)>-1||" "===e.charAt(0)||" "===e.charAt(e.length-1);return n?f+e+f:e}function a(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}var u=!1,s=!0,c=",",d="\r\n",f='"';n();var l=new RegExp(f,"g");if("string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return i(null,e);if("object"==typeof e[0])return i(o(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=e.data[0]instanceof Array?e.fields:o(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),i(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function n(e){function t(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new s(t),this._handle.streamer=this,this._config=t}this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},t.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&m(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);void 0!==n&&(e=n)}this.isFirstChunk=!1;var o=this._partialLine+e;this._partialLine="";var i=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var r=i.meta.cursor;this._finished||(this._partialLine=o.substring(r-this._baseIndex),this._baseIndex=r),i&&i.data&&(this._rowCount+=i.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(_)global.postMessage({results:i,workerId:R.WORKER_ID,finished:a});else if(m(this._config.chunk)&&!t){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!a||!m(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(e){m(this._config.error)?this._config.error(e):_&&this._config.error&&global.postMessage({workerId:R.WORKER_ID,error:e,finished:!1})}}function o(e){function t(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substr(t.lastIndexOf("/")+1))}e=e||{},e.chunkSize||(e.chunkSize=R.RemoteChunkSize),n.call(this,e);var o;S?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(o=new XMLHttpRequest,this._config.withCredentials&&(o.withCredentials=this._config.withCredentials),S||(o.onload=p(this._chunkLoaded,this),o.onerror=p(this._chunkError,this)),o.open("GET",this._input,!S),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)o.setRequestHeader(t,e[t])}if(this._config.chunkSize){var n=this._start+this._config.chunkSize-1;o.setRequestHeader("Range","bytes="+this._start+"-"+n),o.setRequestHeader("If-None-Match","webkit-no-cache")}try{o.send()}catch(e){this._chunkError(e.message)}S&&0===o.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4===o.readyState){if(o.status<200||o.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>t(o),this.parseChunk(o.responseText)}},this._chunkError=function(e){var t=o.statusText||e;this._sendError(new Error(t))}}function i(e){e=e||{},e.chunkSize||(e.chunkSize=R.LocalChunkSize),n.call(this,e);var t,o,i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,o=e.slice||e.webkitSlice||e.mozSlice,i?(t=new FileReader,t.onload=p(this._chunkLoaded,this),t.onerror=p(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var n=Math.min(this._start+this._config.chunkSize,this._input.size);e=o.call(e,this._start,n)}var r=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function r(e){e=e||{},n.call(this,e);var t;this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,n=e?t.substr(0,e):t;return t=e?t.substr(e):"",this._finished=!t,this.parseChunk(n)}}}function a(e){e=e||{},n.call(this,e);var t=[],o=!0,i=!1;this.pause=function(){n.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){n.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):o=!0},this._streamData=p(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),o&&(o=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=p(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=p(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=p(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function u(e){var t=require("stream").Duplex,o=v(e),i=!0,r=!1,a=[],u=null;this._onCsvData=function(e){for(var t=e.data,n=0;n<t.length;n++)u.push(t[n])||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){u.push(null)},o.step=p(this._onCsvData,this),o.complete=p(this._onCsvComplete,this),n.call(this,o),this._nextChunk=function(){r&&1===a.length&&(this._finished=!0),a.length?a.shift()():i=!0},this._addToParseQueue=function(e,t){a.push(p(function(){if(this.parseChunk("string"==typeof e?e:e.toString(o.encoding)),m(t))return t()},this)),i&&(i=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(e,t,n){this._addToParseQueue(e,n)},this._onWriteComplete=function(){r=!0,this._addToParseQueue("")},this.getStream=function(){return u},u=new t({readableObjectMode:!0,decodeStrings:!1,read:p(this._onRead,this),write:p(this._onWrite,this)}),u.once("finish",p(this._onWriteComplete,this))}function s(e){function t(){if(O&&h&&(d("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+R.DefaultDelimiter+"'"),h=!1),e.skipEmptyLines)for(var t=0;t<O.data.length;t++)1===O.data[t].length&&""===O.data[t][0]&&O.data.splice(t--,1);return n()&&o(),a()}function n(){return e.header&&0===T.length}function o(){if(O){for(var t=0;n()&&t<O.data.length;t++)for(var o=0;o<O.data[t].length;o++){var i=O.data[t][o];e.trimHeaders&&(i=i.trim()),T.push(i)}O.data.splice(0,1)}}function i(t){return e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),(e.dynamicTyping[t]||e.dynamicTyping)===!0}function r(e,t){return i(e)?"true"===t||"TRUE"===t||"false"!==t&&"FALSE"!==t&&(E.test(t)?parseFloat(t):g.test(t)?new Date(t):""===t?null:t):t}function a(){if(!O||!e.header&&!e.dynamicTyping&&!e.transform)return O;for(var t=0;t<O.data.length;t++){var n,o=e.header?{}:[];for(n=0;n<O.data[t].length;n++){var i=n,a=O.data[t][n];e.header&&(i=n>=T.length?"__parsed_extra":T[n]),e.transform&&(a=e.transform(a,i)),a=r(i,a),"__parsed_extra"===i?(o[i]=o[i]||[],o[i].push(a)):o[i]=a}O.data[t]=o,e.header&&(n>T.length?d("FieldMismatch","TooManyFields","Too many fields: expected "+T.length+" fields but parsed "+n,S+t):n<T.length&&d("FieldMismatch","TooFewFields","Too few fields: expected "+T.length+" fields but parsed "+n,S+t))}return e.header&&O.meta&&(O.meta.fields=T),S+=O.data.length,O}function u(t,n,o,i){for(var r,a,u,s=[",","\t","|",";",R.RECORD_SEP,R.UNIT_SEP],d=0;d<s.length;d++){var f=s[d],l=0,h=0,E=0;u=void 0;for(var g=new c({comments:i,delimiter:f,newline:n,preview:10}).parse(t),v=0;v<g.data.length;v++)if(o&&1===g.data[v].length&&0===g.data[v][0].length)E++;else{var p=g.data[v].length;h+=p,"undefined"!=typeof u?p>1&&(l+=Math.abs(p-u),u=p):u=p}g.data.length>0&&(h/=g.data.length-E),("undefined"==typeof a||l<a)&&h>1.99&&(a=l,r=f)}return e.delimiter=r,{successful:!!r,bestDelimiter:r}}function s(e){e=e.substr(0,1048576);var t=e.split("\r"),n=e.split("\n"),o=n.length>1&&n[0].length<t[0].length;if(1===t.length||o)return"\n";for(var i=0,r=0;r<t.length;r++)"\n"===t[r][0]&&i++;return i>=t.length/2?"\r\n":"\r"}function d(e,t,n,o){O.errors.push({type:e,code:t,message:n,row:o})}var f,l,h,E=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,g=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,p=this,A=0,S=0,_=!1,C=!1,T=[],O={data:[],errors:[],meta:{}};if(m(e.step)){var y=e.step;e.step=function(o){if(O=o,n())t();else{if(t(),0===O.data.length)return;A+=o.data.length,e.preview&&A>e.preview?l.abort():y(O,p)}}}this.parse=function(n,o,i){if(e.newline||(e.newline=s(n)),h=!1,e.delimiter)m(e.delimiter)&&(e.delimiter=e.delimiter(n),O.meta.delimiter=e.delimiter);else{var r=u(n,e.newline,e.skipEmptyLines,e.comments);r.successful?e.delimiter=r.bestDelimiter:(h=!0,e.delimiter=R.DefaultDelimiter),O.meta.delimiter=e.delimiter}var a=v(e);return e.preview&&e.header&&a.preview++,f=n,l=new c(a),O=l.parse(f,o,i),t(),_?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return _},this.pause=function(){_=!0,l.abort(),f=f.substr(l.getCharIndex())},this.resume=function(){_=!1,p.streamer.parseChunk(f,!0)},this.aborted=function(){return C},this.abort=function(){C=!0,l.abort(),O.meta.aborted=!0,m(e.complete)&&e.complete(O),f=""}}function c(e){e=e||{};var t,n=e.delimiter,o=e.newline,i=e.comments,r=e.step,a=e.preview,u=e.fastMode;t=void 0===e.quoteChar?'"':e.quoteChar;var s=t;if(void 0!==e.escapeChar&&(s=e.escapeChar),("string"!=typeof n||R.BAD_DELIMITERS.indexOf(n)>-1)&&(n=","),i===n)throw"Comment character same as delimiter";i===!0?i="#":("string"!=typeof i||R.BAD_DELIMITERS.indexOf(i)>-1)&&(i=!1),"\n"!==o&&"\r"!==o&&"\r\n"!==o&&(o="\n");var c=0,d=!1;this.parse=function(e,f,l){function h(e){R.push(e),I=c}function E(t){var n=0;if(t!==-1){var o=e.substring(b+1,t);o&&""===o.trim()&&(n=o.length)}return n}function g(t){return l?p():("undefined"==typeof t&&(t=e.substr(c)),N.push(t),c=S,h(N),O&&A(),p())}function v(t){c=t,h(N),N=[],M=e.indexOf(o,c)}function p(e){return{data:R,errors:y,meta:{delimiter:n,linebreak:o,aborted:d,truncated:!!e,cursor:I+(f||0)}}}function A(){r(p()),R=[],y=[]}if("string"!=typeof e)throw"Input must be a string";var S=e.length,_=n.length,C=o.length,T=i.length,O=m(r);c=0;var R=[],y=[],N=[],I=0;if(!e)return p();if(u||u!==!1&&e.indexOf(t)===-1){for(var D=e.split(o),H=0;H<D.length;H++){if(N=D[H],c+=N.length,H!==D.length-1)c+=o.length;else if(l)return p();if(!i||N.substr(0,T)!==i){if(O){if(R=[],h(N.split(n)),A(),d)return p()}else h(N.split(n));if(a&&H>=a)return R=R.slice(0,a),p(!0)}}return p()}for(var b,w=e.indexOf(n,c),M=e.indexOf(o,c),k=new RegExp(s.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&")+t,"g");;)if(e[c]!==t)if(i&&0===N.length&&e.substr(c,T)===i){if(M===-1)return p();c=M+C,M=e.indexOf(o,c),w=e.indexOf(n,c)}else if(w!==-1&&(w<M||M===-1))N.push(e.substring(c,w)),c=w+_,w=e.indexOf(n,c);else{if(M===-1)break;if(N.push(e.substring(c,M)),v(M+C),O&&(A(),d))return p();if(a&&R.length>=a)return p(!0)}else for(b=c,c++;;){if(b=e.indexOf(t,b+1),b===-1)return l||y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:R.length,index:c}),g();if(b===S-1){var x=e.substring(c,b).replace(k,t);return g(x)}if(t!==s||e[b+1]!==s){if(t===s||0===b||e[b-1]!==s){var L=E(w);if(e[b+1+L]===n){N.push(e.substring(c,b).replace(k,t)),c=b+1+L+_,w=e.indexOf(n,c),M=e.indexOf(o,c);break}var V=E(M);if(e.substr(b+1+V,C)===o){if(N.push(e.substring(c,b).replace(k,t)),v(b+1+V+C),w=e.indexOf(n,c),O&&(A(),d))return p();if(a&&R.length>=a)return p(!0);break}y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:R.length,index:c}),b++}}else b++}return g()},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function d(){var e=document.getElementsByTagName("script");return e.length?e[e.length-1].src:""}function f(){if(!R.WORKERS_SUPPORTED)return!1;if(!C&&null===R.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=R.SCRIPT_PATH||A;e+=(e.indexOf("?")!==-1?"&":"?")+"papaworker";var t=new global.Worker(e);return t.onmessage=l,t.id=O++,T[t.id]=t,t}function l(e){var t=e.data,n=T[t.workerId],o=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i=function(){o=!0,h(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},r={abort:i,pause:E,resume:E};if(m(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:[t.results.data[a]],errors:t.results.errors,meta:t.results.meta},r),!o);a++);delete t.results}else m(n.userChunk)&&(n.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!o&&h(t.workerId,t.results)}function h(e,t){var n=T[e];m(n.userComplete)&&n.userComplete(t),n.terminate(),delete T[e]}function E(){throw"Not implemented."}function g(e){var t=e.data;if("undefined"==typeof R.WORKER_ID&&t&&(R.WORKER_ID=t.workerId),"string"==typeof t.input)global.postMessage({workerId:R.WORKER_ID,results:R.parse(t.input,t.config),finished:!0});else if(global.File&&t.input instanceof File||t.input instanceof Object){var n=R.parse(t.input,t.config);n&&global.postMessage({workerId:R.WORKER_ID,results:n,finished:!0})}}function v(e){if("object"!=typeof e||null===e)return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=v(e[n]);return t}function p(e,t){return function(){e.apply(t,arguments)}}function m(e){return"function"==typeof e}var A,S=!global.document&&!!global.postMessage,_=S&&/(\?|&)papaworker(=|&|$)/.test(global.location.search),C=!1,T={},O=0,R={};if(R.parse=e,R.unparse=t,R.RECORD_SEP=String.fromCharCode(30),R.UNIT_SEP=String.fromCharCode(31),R.BYTE_ORDER_MARK="\ufeff",R.BAD_DELIMITERS=["\r","\n",'"',R.BYTE_ORDER_MARK],R.WORKERS_SUPPORTED=!S&&!!global.Worker,R.SCRIPT_PATH=null,R.NODE_STREAM_INPUT=1,R.LocalChunkSize=10485760,R.RemoteChunkSize=5242880,R.DefaultDelimiter=",",R.Parser=c,R.ParserHandle=s,R.NetworkStreamer=o,R.FileStreamer=i,R.StringStreamer=r,R.ReadableStreamStreamer=a,R.DuplexStreamStreamer=u,global.jQuery){var y=global.jQuery;y.fn.parse=function(e){function t(){if(0===r.length)return void(m(e.complete)&&e.complete());var t=r[0];if(m(e.before)){var i=e.before(t.file,t.inputElem);if("object"==typeof i){if("abort"===i.action)return void n("AbortError",t.file,t.inputElem,i.reason);if("skip"===i.action)return void o();"object"==typeof i.config&&(t.instanceConfig=y.extend(t.instanceConfig,i.config))}else if("skip"===i)return void o()}var a=t.instanceConfig.complete;t.instanceConfig.complete=function(e){m(a)&&a(e,t.file,t.inputElem),o()},R.parse(t.file,t.instanceConfig)}function n(t,n,o,i){m(e.error)&&e.error({name:t},n,o,i)}function o(){r.splice(0,1),t()}var i=e.config||{},r=[];return this.each(function(e){var t="INPUT"===y(this).prop("tagName").toUpperCase()&&"file"===y(this).attr("type").toLowerCase()&&global.FileReader;if(!t||!this.files||0===this.files.length)return!0;for(var n=0;n<this.files.length;n++)r.push({file:this.files[n],inputElem:this,instanceConfig:y.extend({},i)})}),t(),this}}return _?global.onmessage=g:R.WORKERS_SUPPORTED&&(A=d(),document.body?document.addEventListener("DOMContentLoaded",function(){C=!0},!0):C=!0),o.prototype=Object.create(n.prototype),o.prototype.constructor=o,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,r.prototype=Object.create(r.prototype),r.prototype.constructor=r,a.prototype=Object.create(n.prototype),a.prototype.constructor=a,u.prototype=Object.create(n.prototype),u.prototype.constructor=u,R}),!function(){"use strict";function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var o,i=typeof e;if("string"===i){var r,a=[],u=e.length,s=0;for(o=0;o<u;++o)r=e.charCodeAt(o),r<128?a[s++]=r:r<2048?(a[s++]=192|r>>6,a[s++]=128|63&r):r<55296||r>=57344?(a[s++]=224|r>>12,a[s++]=128|r>>6&63,a[s++]=128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),a[s++]=240|r>>18,a[s++]=128|r>>12&63,a[s++]=128|r>>6&63,a[s++]=128|63&r);e=a}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],d=[];for(o=0;o<64;++o){var f=e[o]||0;c[o]=92^f,d[o]=54^f}Sha256.call(this,t,n),this.update(d),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var o=OUTPUT_TYPES[n];t[o]=createOutputMethod(o,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,o){return new HmacSha256(n,t,!0).update(o)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var o=OUTPUT_TYPES[n];t[o]=createHmacOutputMethod(o,e)}return t};Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var o,i,r=0,a=e.length,u=this.blocks;r<a;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),t)for(i=this.start;r<a&&i<64;++r)u[i>>2]|=e[r]<<SHIFT[3&i++];else for(i=this.start;r<a&&i<64;++r)o=e.charCodeAt(r),o<128?u[i>>2]|=o<<SHIFT[3&i++]:o<2048?(u[i>>2]|=(192|o>>6)<<SHIFT[3&i++],u[i>>2]|=(128|63&o)<<SHIFT[3&i++]):o<55296||o>=57344?(u[i>>2]|=(224|o>>12)<<SHIFT[3&i++],u[i>>2]|=(128|o>>6&63)<<SHIFT[3&i++],u[i>>2]|=(128|63&o)<<SHIFT[3&i++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++r)),u[i>>2]|=(240|o>>18)<<SHIFT[3&i++],u[i>>2]|=(128|o>>12&63)<<SHIFT[3&i++],u[i>>2]|=(128|o>>6&63)<<SHIFT[3&i++],u[i>>2]|=(128|63&o)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=u[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,o,i,r,a,u,s,c,d,f=this.h0,l=this.h1,h=this.h2,E=this.h3,g=this.h4,v=this.h5,p=this.h6,m=this.h7,A=this.blocks;for(e=16;e<64;++e)i=A[e-15],t=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,i=A[e-2],n=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,A[e]=A[e-16]+t+A[e-7]+n<<0;for(d=l&h,e=0;e<64;e+=4)this.first?(this.is224?(u=300032,i=A[0]-1413257819,m=i-150054599<<0,E=i+24177077<<0):(u=704751109,i=A[0]-210244248,m=i-1521486534<<0,E=i+143694565<<0),this.first=!1):(t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),u=f&l,o=u^f&h^d,a=g&v^~g&p,i=m+n+a+K[e]+A[e],r=t+o,m=E+i<<0,E=i+r<<0),t=(E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10),n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),s=E&f,o=s^E&l^u,a=m&g^~m&v,i=p+n+a+K[e+1]+A[e+1],r=t+o,p=h+i<<0,h=i+r<<0,t=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),c=h&E,o=c^h&f^s,a=p&m^~p&g,i=v+n+a+K[e+2]+A[e+2],r=t+o,v=l+i<<0,l=i+r<<0,t=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),d=l&h,o=d^l&E^c,a=v&p^~v&m,i=g+n+a+K[e+3]+A[e+3],r=t+o,g=f+i<<0,f=i+r<<0;this.h0=this.h0+f<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+E<<0,this.h4=this.h4+g<<0,this.h5=this.h5+v<<0,this.h6=this.h6+p<<0,this.h7=this.h7+m<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,o=this.h3,i=this.h4,r=this.h5,a=this.h6,u=this.h7,s=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(s+=HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[15&u]),s},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,o=this.h3,i=this.h4,r=this.h5,a=this.h6,u=this.h7,s=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||s.push(u>>24&255,u>>16&255,u>>8&255,255&u),s},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),global.__SHA256_LIB=exports.sha256}(),!function(){"use strict";function e(e,t){t?(h[0]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=h[16]=h[17]=h[18]=h[19]=h[20]=h[21]=h[22]=h[23]=h[24]=h[25]=h[26]=h[27]=h[28]=h[29]=h[30]=h[31]=h[32]=0,this.blocks=h):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384==e?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):256==e?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):224==e?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,
this.h7h=1541459225,this.h7l=327033209),this.bits=e,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}function t(t,o,i){var r,a=typeof t;if("string"!==a){if("object"!==a)throw n;if(null===t)throw n;if(u&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||u&&ArrayBuffer.isView(t)))throw n;r=!0}var s=t.length;if(!r){for(var c,d=[],s=t.length,f=0,l=0;l<s;++l)c=t.charCodeAt(l),c<128?d[f++]=c:c<2048?(d[f++]=192|c>>6,d[f++]=128|63&c):c<55296||c>=57344?(d[f++]=224|c>>12,d[f++]=128|c>>6&63,d[f++]=128|63&c):(c=65536+((1023&c)<<10|1023&t.charCodeAt(++l)),d[f++]=240|c>>18,d[f++]=128|c>>12&63,d[f++]=128|c>>6&63,d[f++]=128|63&c);t=d}t.length>128&&(t=new e(o,!0).update(t).array());for(var h=[],E=[],l=0;l<128;++l){var g=t[l]||0;h[l]=92^g,E[l]=54^g}e.call(this,o,i),this.update(E),this.oKeyPad=h,this.inner=!0,this.sharedMemory=i}var n="input is invalid type",o="object"==typeof window,i=o?window:{};i.JS_SHA512_NO_WINDOW&&(o=!1);var r=!o&&"object"==typeof self,a=!i.JS_SHA512_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;a?i=global:r&&(i=self);var u=(!i.JS_SHA512_NO_COMMON_JS&&"object"==typeof module&&module.exports,"function"==typeof define&&define.amd,!i.JS_SHA512_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer),s="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],d=[24,16,8,0],f=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=["hex","array","digest","arrayBuffer"],h=[];!i.JS_SHA512_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!u||!i.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var E=function(t,n){return function(o){return new e(n,!0).update(o)[t]()}},g=function(t){var n=E("hex",t);n.create=function(){return new e(t)},n.update=function(e){return n.create().update(e)};for(var o=0;o<l.length;++o){var i=l[o];n[i]=E(i,t)}return n},v=function(e,n){return function(o,i){return new t(o,n,!0).update(i)[e]()}},p=function(e){var n=v("hex",e);n.create=function(n){return new t(n,e)},n.update=function(e,t){return n.create(e).update(t)};for(var o=0;o<l.length;++o){var i=l[o];n[i]=v(i,e)}return n};e.prototype.update=function(e){if(!this.finalized){var t,o=typeof e;if("string"!==o){if("object"!==o)throw n;if(null===e)throw n;if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw n;t=!0}for(var i,r,a=0,s=e.length,c=this.blocks;a<s;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=c[16]=c[17]=c[18]=c[19]=c[20]=c[21]=c[22]=c[23]=c[24]=c[25]=c[26]=c[27]=c[28]=c[29]=c[30]=c[31]=c[32]=0),t)for(r=this.start;a<s&&r<128;++a)c[r>>2]|=e[a]<<d[3&r++];else for(r=this.start;a<s&&r<128;++a)i=e.charCodeAt(a),i<128?c[r>>2]|=i<<d[3&r++]:i<2048?(c[r>>2]|=(192|i>>6)<<d[3&r++],c[r>>2]|=(128|63&i)<<d[3&r++]):i<55296||i>=57344?(c[r>>2]|=(224|i>>12)<<d[3&r++],c[r>>2]|=(128|i>>6&63)<<d[3&r++],c[r>>2]|=(128|63&i)<<d[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++a)),c[r>>2]|=(240|i>>18)<<d[3&r++],c[r>>2]|=(128|i>>12&63)<<d[3&r++],c[r>>2]|=(128|i>>6&63)<<d[3&r++],c[r>>2]|=(128|63&i)<<d[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=128?(this.block=c[32],this.start=r-128,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},e.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[32]=this.block,e[t>>2]|=c[3&t],this.block=e[32],t>=112&&(this.hashed||this.hash(),e[0]=this.block,e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=e[16]=e[17]=e[18]=e[19]=e[20]=e[21]=e[22]=e[23]=e[24]=e[25]=e[26]=e[27]=e[28]=e[29]=e[30]=e[31]=e[32]=0),e[30]=this.hBytes<<3|this.bytes>>>29,e[31]=this.bytes<<3,this.hash()}},e.prototype.hash=function(){var e,t,n,o,i,r,a,u,s,c,d,l,h,E,g,v,p,m,A,S,_,C,T,O,R,y=this.h0h,N=this.h0l,I=this.h1h,D=this.h1l,H=this.h2h,b=this.h2l,w=this.h3h,M=this.h3l,k=this.h4h,x=this.h4l,L=this.h5h,V=this.h5l,U=this.h6h,B=this.h6l,P=this.h7h,W=this.h7l,F=this.blocks;for(e=32;e<160;e+=2)S=F[e-30],_=F[e-29],t=(S>>>1|_<<31)^(S>>>8|_<<24)^S>>>7,n=(_>>>1|S<<31)^(_>>>8|S<<24)^(_>>>7|S<<25),S=F[e-4],_=F[e-3],o=(S>>>19|_<<13)^(_>>>29|S<<3)^S>>>6,i=(_>>>19|S<<13)^(S>>>29|_<<3)^(_>>>6|S<<26),S=F[e-32],_=F[e-31],C=F[e-14],T=F[e-13],r=(65535&T)+(65535&_)+(65535&n)+(65535&i),a=(T>>>16)+(_>>>16)+(n>>>16)+(i>>>16)+(r>>>16),u=(65535&C)+(65535&S)+(65535&t)+(65535&o)+(a>>>16),s=(C>>>16)+(S>>>16)+(t>>>16)+(o>>>16)+(u>>>16),F[e]=s<<16|65535&u,F[e+1]=a<<16|65535&r;var K=y,G=N,X=I,Y=D,z=H,j=b,J=w,$=M,q=k,Q=x,Z=L,ee=V,te=U,ne=B,oe=P,ie=W;for(v=X&z,p=Y&j,e=0;e<160;e+=8)t=(K>>>28|G<<4)^(G>>>2|K<<30)^(G>>>7|K<<25),n=(G>>>28|K<<4)^(K>>>2|G<<30)^(K>>>7|G<<25),o=(q>>>14|Q<<18)^(q>>>18|Q<<14)^(Q>>>9|q<<23),i=(Q>>>14|q<<18)^(Q>>>18|q<<14)^(q>>>9|Q<<23),c=K&X,d=G&Y,m=c^K&z^v,A=d^G&j^p,O=q&Z^~q&te,R=Q&ee^~Q&ne,S=F[e],_=F[e+1],C=f[e],T=f[e+1],r=(65535&T)+(65535&_)+(65535&R)+(65535&i)+(65535&ie),a=(T>>>16)+(_>>>16)+(R>>>16)+(i>>>16)+(ie>>>16)+(r>>>16),u=(65535&C)+(65535&S)+(65535&O)+(65535&o)+(65535&oe)+(a>>>16),s=(C>>>16)+(S>>>16)+(O>>>16)+(o>>>16)+(oe>>>16)+(u>>>16),S=s<<16|65535&u,_=a<<16|65535&r,r=(65535&A)+(65535&n),a=(A>>>16)+(n>>>16)+(r>>>16),u=(65535&m)+(65535&t)+(a>>>16),s=(m>>>16)+(t>>>16)+(u>>>16),C=s<<16|65535&u,T=a<<16|65535&r,r=(65535&$)+(65535&_),a=($>>>16)+(_>>>16)+(r>>>16),u=(65535&J)+(65535&S)+(a>>>16),s=(J>>>16)+(S>>>16)+(u>>>16),oe=s<<16|65535&u,ie=a<<16|65535&r,r=(65535&T)+(65535&_),a=(T>>>16)+(_>>>16)+(r>>>16),u=(65535&C)+(65535&S)+(a>>>16),s=(C>>>16)+(S>>>16)+(u>>>16),J=s<<16|65535&u,$=a<<16|65535&r,t=(J>>>28|$<<4)^($>>>2|J<<30)^($>>>7|J<<25),n=($>>>28|J<<4)^(J>>>2|$<<30)^(J>>>7|$<<25),o=(oe>>>14|ie<<18)^(oe>>>18|ie<<14)^(ie>>>9|oe<<23),i=(ie>>>14|oe<<18)^(ie>>>18|oe<<14)^(oe>>>9|ie<<23),l=J&K,h=$&G,m=l^J&X^c,A=h^$&Y^d,O=oe&q^~oe&Z,R=ie&Q^~ie&ee,S=F[e+2],_=F[e+3],C=f[e+2],T=f[e+3],r=(65535&T)+(65535&_)+(65535&R)+(65535&i)+(65535&ne),a=(T>>>16)+(_>>>16)+(R>>>16)+(i>>>16)+(ne>>>16)+(r>>>16),u=(65535&C)+(65535&S)+(65535&O)+(65535&o)+(65535&te)+(a>>>16),s=(C>>>16)+(S>>>16)+(O>>>16)+(o>>>16)+(te>>>16)+(u>>>16),S=s<<16|65535&u,_=a<<16|65535&r,r=(65535&A)+(65535&n),a=(A>>>16)+(n>>>16)+(r>>>16),u=(65535&m)+(65535&t)+(a>>>16),s=(m>>>16)+(t>>>16)+(u>>>16),C=s<<16|65535&u,T=a<<16|65535&r,r=(65535&j)+(65535&_),a=(j>>>16)+(_>>>16)+(r>>>16),u=(65535&z)+(65535&S)+(a>>>16),s=(z>>>16)+(S>>>16)+(u>>>16),te=s<<16|65535&u,ne=a<<16|65535&r,r=(65535&T)+(65535&_),a=(T>>>16)+(_>>>16)+(r>>>16),u=(65535&C)+(65535&S)+(a>>>16),s=(C>>>16)+(S>>>16)+(u>>>16),z=s<<16|65535&u,j=a<<16|65535&r,t=(z>>>28|j<<4)^(j>>>2|z<<30)^(j>>>7|z<<25),n=(j>>>28|z<<4)^(z>>>2|j<<30)^(z>>>7|j<<25),o=(te>>>14|ne<<18)^(te>>>18|ne<<14)^(ne>>>9|te<<23),i=(ne>>>14|te<<18)^(ne>>>18|te<<14)^(te>>>9|ne<<23),E=z&J,g=j&$,m=E^z&K^l,A=g^j&G^h,O=te&oe^~te&q,R=ne&ie^~ne&Q,S=F[e+4],_=F[e+5],C=f[e+4],T=f[e+5],r=(65535&T)+(65535&_)+(65535&R)+(65535&i)+(65535&ee),a=(T>>>16)+(_>>>16)+(R>>>16)+(i>>>16)+(ee>>>16)+(r>>>16),u=(65535&C)+(65535&S)+(65535&O)+(65535&o)+(65535&Z)+(a>>>16),s=(C>>>16)+(S>>>16)+(O>>>16)+(o>>>16)+(Z>>>16)+(u>>>16),S=s<<16|65535&u,_=a<<16|65535&r,r=(65535&A)+(65535&n),a=(A>>>16)+(n>>>16)+(r>>>16),u=(65535&m)+(65535&t)+(a>>>16),s=(m>>>16)+(t>>>16)+(u>>>16),C=s<<16|65535&u,T=a<<16|65535&r,r=(65535&Y)+(65535&_),a=(Y>>>16)+(_>>>16)+(r>>>16),u=(65535&X)+(65535&S)+(a>>>16),s=(X>>>16)+(S>>>16)+(u>>>16),Z=s<<16|65535&u,ee=a<<16|65535&r,r=(65535&T)+(65535&_),a=(T>>>16)+(_>>>16)+(r>>>16),u=(65535&C)+(65535&S)+(a>>>16),s=(C>>>16)+(S>>>16)+(u>>>16),X=s<<16|65535&u,Y=a<<16|65535&r,t=(X>>>28|Y<<4)^(Y>>>2|X<<30)^(Y>>>7|X<<25),n=(Y>>>28|X<<4)^(X>>>2|Y<<30)^(X>>>7|Y<<25),o=(Z>>>14|ee<<18)^(Z>>>18|ee<<14)^(ee>>>9|Z<<23),i=(ee>>>14|Z<<18)^(ee>>>18|Z<<14)^(Z>>>9|ee<<23),v=X&z,p=Y&j,m=v^X&J^E,A=p^Y&$^g,O=Z&te^~Z&oe,R=ee&ne^~ee&ie,S=F[e+6],_=F[e+7],C=f[e+6],T=f[e+7],r=(65535&T)+(65535&_)+(65535&R)+(65535&i)+(65535&Q),a=(T>>>16)+(_>>>16)+(R>>>16)+(i>>>16)+(Q>>>16)+(r>>>16),u=(65535&C)+(65535&S)+(65535&O)+(65535&o)+(65535&q)+(a>>>16),s=(C>>>16)+(S>>>16)+(O>>>16)+(o>>>16)+(q>>>16)+(u>>>16),S=s<<16|65535&u,_=a<<16|65535&r,r=(65535&A)+(65535&n),a=(A>>>16)+(n>>>16)+(r>>>16),u=(65535&m)+(65535&t)+(a>>>16),s=(m>>>16)+(t>>>16)+(u>>>16),C=s<<16|65535&u,T=a<<16|65535&r,r=(65535&G)+(65535&_),a=(G>>>16)+(_>>>16)+(r>>>16),u=(65535&K)+(65535&S)+(a>>>16),s=(K>>>16)+(S>>>16)+(u>>>16),q=s<<16|65535&u,Q=a<<16|65535&r,r=(65535&T)+(65535&_),a=(T>>>16)+(_>>>16)+(r>>>16),u=(65535&C)+(65535&S)+(a>>>16),s=(C>>>16)+(S>>>16)+(u>>>16),K=s<<16|65535&u,G=a<<16|65535&r;r=(65535&N)+(65535&G),a=(N>>>16)+(G>>>16)+(r>>>16),u=(65535&y)+(65535&K)+(a>>>16),s=(y>>>16)+(K>>>16)+(u>>>16),this.h0h=s<<16|65535&u,this.h0l=a<<16|65535&r,r=(65535&D)+(65535&Y),a=(D>>>16)+(Y>>>16)+(r>>>16),u=(65535&I)+(65535&X)+(a>>>16),s=(I>>>16)+(X>>>16)+(u>>>16),this.h1h=s<<16|65535&u,this.h1l=a<<16|65535&r,r=(65535&b)+(65535&j),a=(b>>>16)+(j>>>16)+(r>>>16),u=(65535&H)+(65535&z)+(a>>>16),s=(H>>>16)+(z>>>16)+(u>>>16),this.h2h=s<<16|65535&u,this.h2l=a<<16|65535&r,r=(65535&M)+(65535&$),a=(M>>>16)+($>>>16)+(r>>>16),u=(65535&w)+(65535&J)+(a>>>16),s=(w>>>16)+(J>>>16)+(u>>>16),this.h3h=s<<16|65535&u,this.h3l=a<<16|65535&r,r=(65535&x)+(65535&Q),a=(x>>>16)+(Q>>>16)+(r>>>16),u=(65535&k)+(65535&q)+(a>>>16),s=(k>>>16)+(q>>>16)+(u>>>16),this.h4h=s<<16|65535&u,this.h4l=a<<16|65535&r,r=(65535&V)+(65535&ee),a=(V>>>16)+(ee>>>16)+(r>>>16),u=(65535&L)+(65535&Z)+(a>>>16),s=(L>>>16)+(Z>>>16)+(u>>>16),this.h5h=s<<16|65535&u,this.h5l=a<<16|65535&r,r=(65535&B)+(65535&ne),a=(B>>>16)+(ne>>>16)+(r>>>16),u=(65535&U)+(65535&te)+(a>>>16),s=(U>>>16)+(te>>>16)+(u>>>16),this.h6h=s<<16|65535&u,this.h6l=a<<16|65535&r,r=(65535&W)+(65535&ie),a=(W>>>16)+(ie>>>16)+(r>>>16),u=(65535&P)+(65535&oe)+(a>>>16),s=(P>>>16)+(oe>>>16)+(u>>>16),this.h7h=s<<16|65535&u,this.h7l=a<<16|65535&r},e.prototype.hex=function(){this.finalize();var e=this.h0h,t=this.h0l,n=this.h1h,o=this.h1l,i=this.h2h,r=this.h2l,a=this.h3h,u=this.h3l,c=this.h4h,d=this.h4l,f=this.h5h,l=this.h5l,h=this.h6h,E=this.h6l,g=this.h7h,v=this.h7l,p=this.bits,m=s[e>>28&15]+s[e>>24&15]+s[e>>20&15]+s[e>>16&15]+s[e>>12&15]+s[e>>8&15]+s[e>>4&15]+s[15&e]+s[t>>28&15]+s[t>>24&15]+s[t>>20&15]+s[t>>16&15]+s[t>>12&15]+s[t>>8&15]+s[t>>4&15]+s[15&t]+s[n>>28&15]+s[n>>24&15]+s[n>>20&15]+s[n>>16&15]+s[n>>12&15]+s[n>>8&15]+s[n>>4&15]+s[15&n]+s[o>>28&15]+s[o>>24&15]+s[o>>20&15]+s[o>>16&15]+s[o>>12&15]+s[o>>8&15]+s[o>>4&15]+s[15&o]+s[i>>28&15]+s[i>>24&15]+s[i>>20&15]+s[i>>16&15]+s[i>>12&15]+s[i>>8&15]+s[i>>4&15]+s[15&i]+s[r>>28&15]+s[r>>24&15]+s[r>>20&15]+s[r>>16&15]+s[r>>12&15]+s[r>>8&15]+s[r>>4&15]+s[15&r]+s[a>>28&15]+s[a>>24&15]+s[a>>20&15]+s[a>>16&15]+s[a>>12&15]+s[a>>8&15]+s[a>>4&15]+s[15&a];return p>=256&&(m+=s[u>>28&15]+s[u>>24&15]+s[u>>20&15]+s[u>>16&15]+s[u>>12&15]+s[u>>8&15]+s[u>>4&15]+s[15&u]),p>=384&&(m+=s[c>>28&15]+s[c>>24&15]+s[c>>20&15]+s[c>>16&15]+s[c>>12&15]+s[c>>8&15]+s[c>>4&15]+s[15&c]+s[d>>28&15]+s[d>>24&15]+s[d>>20&15]+s[d>>16&15]+s[d>>12&15]+s[d>>8&15]+s[d>>4&15]+s[15&d]+s[f>>28&15]+s[f>>24&15]+s[f>>20&15]+s[f>>16&15]+s[f>>12&15]+s[f>>8&15]+s[f>>4&15]+s[15&f]+s[l>>28&15]+s[l>>24&15]+s[l>>20&15]+s[l>>16&15]+s[l>>12&15]+s[l>>8&15]+s[l>>4&15]+s[15&l]),512==p&&(m+=s[h>>28&15]+s[h>>24&15]+s[h>>20&15]+s[h>>16&15]+s[h>>12&15]+s[h>>8&15]+s[h>>4&15]+s[15&h]+s[E>>28&15]+s[E>>24&15]+s[E>>20&15]+s[E>>16&15]+s[E>>12&15]+s[E>>8&15]+s[E>>4&15]+s[15&E]+s[g>>28&15]+s[g>>24&15]+s[g>>20&15]+s[g>>16&15]+s[g>>12&15]+s[g>>8&15]+s[g>>4&15]+s[15&g]+s[v>>28&15]+s[v>>24&15]+s[v>>20&15]+s[v>>16&15]+s[v>>12&15]+s[v>>8&15]+s[v>>4&15]+s[15&v]),m},e.prototype.toString=e.prototype.hex,e.prototype.digest=function(){this.finalize();var e=this.h0h,t=this.h0l,n=this.h1h,o=this.h1l,i=this.h2h,r=this.h2l,a=this.h3h,u=this.h3l,s=this.h4h,c=this.h4l,d=this.h5h,f=this.h5l,l=this.h6h,h=this.h6l,E=this.h7h,g=this.h7l,v=this.bits,p=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a];return v>=256&&p.push(u>>24&255,u>>16&255,u>>8&255,255&u),v>=384&&p.push(s>>24&255,s>>16&255,s>>8&255,255&s,c>>24&255,c>>16&255,c>>8&255,255&c,d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f),512==v&&p.push(l>>24&255,l>>16&255,l>>8&255,255&l,h>>24&255,h>>16&255,h>>8&255,255&h,E>>24&255,E>>16&255,E>>8&255,255&E,g>>24&255,g>>16&255,g>>8&255,255&g),p},e.prototype.array=e.prototype.digest,e.prototype.arrayBuffer=function(){this.finalize();var e=this.bits,t=new ArrayBuffer(e/8),n=new DataView(t);return n.setUint32(0,this.h0h),n.setUint32(4,this.h0l),n.setUint32(8,this.h1h),n.setUint32(12,this.h1l),n.setUint32(16,this.h2h),n.setUint32(20,this.h2l),n.setUint32(24,this.h3h),e>=256&&n.setUint32(28,this.h3l),e>=384&&(n.setUint32(32,this.h4h),n.setUint32(36,this.h4l),n.setUint32(40,this.h5h),n.setUint32(44,this.h5l)),512==e&&(n.setUint32(48,this.h6h),n.setUint32(52,this.h6l),n.setUint32(56,this.h7h),n.setUint32(60,this.h7l)),t},t.prototype=new e,t.prototype.finalize=function(){if(e.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();e.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(t),e.prototype.finalize.call(this)}};var m=g(512);m.sha512=m,m.sha384=g(384),m.sha512_256=g(256),m.sha512_224=g(224),m.sha512.hmac=p(512),m.sha384.hmac=p(384),m.sha512_256.hmac=p(256),m.sha512_224.hmac=p(224),global.__SHA512_LIB=m.sha512}(),global.CLASS=METHOD(e=>{let t=0,n=e.getNextInstanceId=(()=>{return t+=1,t-1});return{run:e=>{let t,o,i,r,a,u=(e,t)=>{let o={},i={type:u,id:n(),checkIsInstanceOf:e=>{let t=u;for(;void 0!==t;){if(t===e)return!0;t=t.mom}return!1}};return e=s(o,i,e,t),c(o,i,e,t),i};t="function"==typeof e?e(u):e,void 0!==t&&(o=t.preset,i=t.init,r=t.params,a=t.afterInit),u.type=CLASS,u.id=n();let s=u.innerInit=((e,t,n,a)=>{let s,c,d=(e,t)=>{EACH(t,(t,n)=>{void 0===e[n]?e[n]=t:CHECK_IS_DATA(e[n])===!0&&CHECK_IS_DATA(t)===!0&&d(e[n],t)})};if(void 0!==r)if(void 0===n)n=r(u);else if(CHECK_IS_DATA(n)===!0){let e=r(u);void 0!==e&&d(n,e)}else c=n,n=r(u);return void 0!==o&&(s=o(n,a),void 0!==s&&(u.mom=s,s.type===CLASS?s.innerInit(e,t,n,a):s.type.innerInit(e,t,n,a))),void 0!==i&&i(e,t,void 0===c?n:c,a),n}),c=u.innerAfterInit=((e,t,n,o)=>{let i=u.mom;void 0!==i&&(i.type===CLASS?i.innerAfterInit(e,t,n,o):i.type.innerAfterInit(e,t,n,o)),void 0!==a&&a(e,t,n,o)});return u}}}),global.INIT_OBJECTS=METHOD({run:()=>{OBJECT.initObjects()}}),global.OBJECT=METHOD(e=>{let t=[],n=!1,o=e=>{let t=e.type,n={},o={};e.id=CLASS.getNextInstanceId(),t.innerInit(n,e,o),t.innerAfterInit(n,e,o)},i=e=>{n===!0?o(e):t.push(e)};return e.removeReadyObject=(e=>{REMOVE({array:t,value:e})}),e.initObjects=(()=>{EACH(t,e=>{o(e)}),n=!0}),{run:e=>{let t=CLASS(e),n={type:t,checkIsInstanceOf:e=>{let n=t;for(;void 0!==n;){if(n===e)return!0;n=n.mom}return!1}};return i(n),n}}}),global.NEXT=METHOD({run:(e,t)=>{let n,o,i,r,a;void 0===t&&(t=e,e=void 0),void 0!==e&&(CHECK_IS_DATA(e)===!0?n=e:CHECK_IS_ARRAY(e)===!0?i=e:r=e),void 0!==n&&(o=[],EACH(n,(e,t)=>{o.push(t)}));let u;u=CHECK_IS_ARRAY(t)!==!0?[t]:t,REPEAT({start:u.length-1,end:0},e=>{let t;if(0!==e&&void 0===a)a=u[e]();else if(e>0)t=a,a=u[e](t),a.next=t;else if(t=a,void 0===t&&(t=(()=>{})),a=u[e],void 0!==r){let e=-1;RUN(n=>{e+=1,e+1<r?a(e,n):a(e,t)})}else if(void 0!==i){let e=i.length;if(0===e)t();else{let n=-1;RUN(o=>{n+=1,n+1<e?(i.length===e-1&&(n-=1,e-=1),a(i[n],o,n)):a(i[n],t,n)})}}else if(void 0!==n){let e=o.length;if(0===e)t();else{let i=-1;RUN(r=>{if(i+=1,i+1<e){o.length===e-1&&(i-=1,e-=1);let t=o[i];a(n[t],r,t)}else{let e=o[i];a(n[e],t,e)}})}}else a(t)})}}),global.OVERRIDE=METHOD({run:(e,t)=>{void 0!==e.type&&e.type.type===CLASS&&OBJECT.removeReadyObject(e),t(e)}}),global.PARALLEL=METHOD({run:(e,t)=>{let n=0;if(void 0===t){t=e;let o=t.length-1;EACH(t,(e,i)=>{i<o&&e(()=>{n+=1,n===o&&t[o]()})})}else if(void 0===e)t[1]();else if(CHECK_IS_DATA(e)===!0){let o=COUNT_PROPERTIES(e);0===o?t[1]():EACH(e,(e,i)=>{t[0](e,()=>{n+=1,n===o&&t[1]()},i)})}else CHECK_IS_ARRAY(e)===!0?0===e.length?t[1]():EACH(e,(o,i)=>{t[0](o,()=>{n+=1,n===e.length&&t[1]()},i)}):0===e?t[1]():REPEAT(e,o=>{t[0](o,()=>{n+=1,n===e&&t[1]()})})}}),global.PARSE_STR=METHOD({run:e=>{try{let t=JSON.parse(e);if(CHECK_IS_DATA(t)===!0)return UNPACK_DATA(t);if(CHECK_IS_ARRAY(t)===!0){let e=[];return EACH(t,t=>{CHECK_IS_DATA(t)===!0?e.push(UNPACK_DATA(t)):CHECK_IS_ARRAY(t)===!0?(EACH(t,(e,n)=>{CHECK_IS_DATA(e)===!0&&(t[n]=UNPACK_DATA(e))}),e.push(t)):e.push(t)}),e}return t}catch(e){return}}}),global.RANDOM_STR=METHOD(()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return{run:t=>{let n="";return REPEAT(t,()=>{n+=e.charAt(RANDOM({limit:e.length}))}),n}}}),global.STRINGIFY=METHOD({run:e=>{if(CHECK_IS_DATA(e)===!0)return JSON.stringify(PACK_DATA(e));if(CHECK_IS_ARRAY(e)===!0){let t=e=>{let n=[];return EACH(e,e=>{CHECK_IS_DATA(e)===!0?n.push(PACK_DATA(e)):CHECK_IS_ARRAY(e)===!0?n.push(t(e)):n.push(e)}),n};return JSON.stringify(t(e))}return JSON.stringify(e)}}),global.TEST=METHOD(e=>{let t=0;return{run:(e,n)=>{n(n=>{let o,i={};n===!0?console.log(MSG({ko:"["+e+" 테스트] 테스트를 통과하였습니다. 총 "+t+"개의 오류가 있습니다."})):(i.__THROW_ERROR_$$$=(()=>{try{throw Error()}catch(e){return e}}),o=i.__THROW_ERROR_$$$().stack,void 0!==o&&(o=o.substring(o.indexOf("__THROW_ERROR_$$$")),o=o.split("\n")[2],o=o.substring(o.indexOf("at "))),t+=1,console.log(MSG({ko:"["+e+" 테스트] "+o+"에서 오류가 발견되었습니다. 총 "+t+"개의 오류가 있습니다."})))})}}}),global.URI_MATCHER=CLASS({init:(e,t,n)=>{let o=CLASS({init:(e,t,o)=>{let i,r=o.split("/"),a={},u=e=>{let t=e.split("/");return EACH(r,(e,n)=>{let o=t[n];if("**"===o)return i=!0,!1;if(void 0===o)return!1;if(""!==e&&"{"===o.charAt(0)&&"}"===o.charAt(o.length-1))a[o.substring(1,o.length-1)]=e;else if("*"!==o&&o!==e)return!1;return!(n===r.length-1&&n<t.length-1&&""!==t[t.length-1])&&void 0})===!0||i===!0};i=CHECK_IS_ARRAY(n)===!0?EACH(n,e=>{return u(e)!==!0})!==!0:u(n),t.checkIsMatched=(()=>{return i}),t.getURIParams=(()=>{return a})}});t.check=(e=>{return o(e)})}}),global.UUID=METHOD({run:()=>{return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}}),global.VALID=CLASS(e=>{let t=e.notEmpty=(e=>{let t=void 0===e||e===TO_DELETE?"":String(e);return CHECK_IS_ARRAY(e)===!0||""!==t.trim()}),n=(e.regex=(e=>{let t=String(e.value),n=e.pattern,o=t.match(n);return o!==TO_DELETE&&t===o[0]}),e.size=(e=>{let t=e.value;if(CHECK_IS_DATA(t)===!0)return!1;let n=String(t),o=e.min,i=e.max;return void 0===o&&(o=0),o<=n.trim().length&&(void 0===i||n.length<=i)}),e.integer=(e=>{let n=String(e);return t(n)===!0&&n.match(/^(?:-?(?:0|[1-9][0-9]*))$/)!==TO_DELETE}),e.real=(e=>{let n=String(e);return t(n)===!0&&n.match(/^(?:-?(?:0|[1-9][0-9]*))?(?:\.[0-9]*)?$/)!==TO_DELETE})),o=(e.bool=(e=>{let t=String(e);return"true"===t||"false"===t}),e.date=(e=>{let t=String(e),n=Date.parse(t);return isNaN(n)===!1}),e.min=(e=>{let t=e.value,o=e.min;return n(t)===!0&&o<=t}),e.max=(e=>{let t=e.value,o=e.max;return n(t)===!0&&o>=t}),e.email=(e=>{return"string"==typeof e&&t(e)===!0&&e.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)!==TO_DELETE}),e.png=(e=>{return"string"==typeof e&&t(e)===!0&&e.match(/^data:image\/png;base64,/)!==TO_DELETE}),e.url=(e=>{return"string"==typeof e&&t(e)===!0&&e.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-a-z\u0080-\uffff\d{1-3}]+\.)+(?:[a-z\u0080-\uffff]+))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\u0000-\uffff~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\u0000-\uffff~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\u0000-\uffff~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\u0000-\uffff~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\u0000-\uffff~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\u0000-\uffff~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/i)!==TO_DELETE&&e.length<=2083}),e.username=(e=>{return"string"==typeof e&&t(e)===!0&&e.match(/^[_a-zA-Z0-9\-]+$/)!==TO_DELETE}),e.mongoId=(e=>{return"string"==typeof e&&t(e)===!0&&e.match(/[0-9a-f]{24}/)!==TO_DELETE&&24===e.length}),e.one=(e=>{let t=e.value,n=e.array;return EACH(n,e=>{if(t===e)return!1})===!1})),i=(e.array=(e=>{return CHECK_IS_ARRAY(e)===!0}),e.data=(e=>{return CHECK_IS_DATA(e)===!0}),e.element=(e=>{let t=e.array,n=VALID({_:e.validData}),o=e.isToWash;return EACH(t,e=>{if((o===!0?n.checkAndWash:n.check)({_:e}).checkHasError()===!0)return!1})===!0})),r=e.property=(e=>{let t=e.data,n=VALID({_:e.validData}),o=e.isToWash;return EACH(t,e=>{if((o===!0?n.checkAndWash:n.check)({_:e}).checkHasError()===!0)return!1})===!0}),a=e.detail=(e=>{let t=e.data,n=VALID(e.validDataSet),o=e.isToWash,i=e.errors,r=(o===!0?n.checkAndWash:n.check)(t);return EXTEND({origin:i,extend:r.getErrors()}),r.checkHasError()!==!0});return e.equal=(e=>{let t=String(e.value),n=String(e.validValue);return t===n}),{init:(n,u,s)=>{let c=CLASS({init:(n,u,c)=>{let d=c.data,f=c.isToWash,l=c.isForUpdate,h=!1,E={};EACH(s,(n,u)=>{n!==!0&&EACH(n,(n,s)=>{let c=d[u];if(l===!0&&void 0===c)return!1;if(f===!0&&"notEmpty"!==s&&t(c)!==!0)return d[u]=l===!0?TO_DELETE:void 0,!0;if("one"===s){if(o({array:n,value:c})===!1)return h=!0,E[u]={type:s,array:n,value:c},!1}else if("element"===s){if(i({validData:n,array:c,isToWash:f})===!1)return h=!0,E[u]={type:s,validData:n,array:c},!1}else if("property"===s){if(r({validData:n,data:c,isToWash:f})===!1)return h=!0,E[u]={type:s,validData:n,data:c},!1}else if("detail"===s){let e={};if(a({validDataSet:n,data:c,isToWash:f,errors:e})===!1)return h=!0,E[u]={type:s,validDataSet:n,data:c},EACH(e,(e,t)=>{E[u+"."+t]=e}),!1}else if("size"===s){if(e[s](CHECK_IS_DATA(n)===!0?COMBINE([n,{value:c}]):COMBINE([{min:n,max:n},{value:c}]))===!1)return h=!0,E[u]={type:s,validParams:n,value:c},!1}else if("regex"===s){if(e[s]({pattern:n,value:c})===!1)return h=!0,E[u]={type:s,validParam:n,value:c},!1}else if("min"===s){if(e[s]({min:n,value:c})===!1)return h=!0,E[u]={type:s,validParam:n,value:c},!1}else if("max"===s){if(e[s]({max:n,value:c})===!1)return h=!0,E[u]={type:s,validParam:n,value:c},!1}else if("equal"===s){if(e[s]({value:c,validValue:n})===!1)return h=!0,E[u]={type:s,validParam:n,value:c},!1}else if(n===!0&&e["id"===s?"mongoId":s](c)===!1)return h=!0,E[u]={type:s,value:c},!1;"string"==typeof c&&(c=c.trim(),t(c)===!0?"integer"===s?d[u]=INTEGER(c):"real"===s?d[u]=REAL(c):"bool"===s?d[u]="true"===c:"date"===s?d[u]=new Date(c):"username"===s?d[u]=c.toLowerCase():d[u]=c:d[u]=c)})}),f===!0&&EACH(d,(e,t)=>{void 0===s[t]&&delete d[t]}),u.checkHasError=(()=>{return h}),u.getErrors=(()=>{return E})}});u.check=(e=>{return c({data:e})}),u.checkAndWash=(e=>{return c({data:e,isToWash:!0})}),u.checkForUpdate=(e=>{return c({data:e,isToWash:!0,isForUpdate:!0})}),u.getValidDataSet=(()=>{return s})}}}),global.CHECK_ARE_SAME=METHOD({run:e=>{let t=!1,n=(e,t)=>{return e===t||(e instanceof Date==1&&t instanceof Date==1?e.getTime()===t.getTime():e instanceof RegExp==1&&t instanceof RegExp==1?e.toString()===t.toString():CHECK_IS_DATA(e)===!0&&CHECK_IS_DATA(t)===!0?EACH(e,(e,o)=>{return n(e,t[o])}):CHECK_IS_ARRAY(e)===!0&&CHECK_IS_ARRAY(t)===!0&&EACH(e,(e,o)=>{return n(e,t[o])}))};return e.length>1&&(t=REPEAT(e.length,t=>{return t<e.length-1?n(e[t],e[t+1]):n(e[t],e[0])})),t}}),global.CHECK_IS_ARRAY=METHOD({run:e=>{return void 0!==e&&e!==TO_DELETE&&"object"==typeof e&&"[object Array]"===Object.prototype.toString.call(e)}}),global.CHECK_IS_DATA=METHOD({run:e=>{return void 0!==e&&e!==TO_DELETE&&CHECK_IS_ARRAY(e)!==!0&&e instanceof Date!=1&&e instanceof RegExp!=1&&"object"==typeof e}}),global.CHECK_IS_EMPTY_DATA=METHOD({run:e=>{return CHECK_ARE_SAME([e,{}])}}),global.COUNT_PROPERTIES=METHOD({run:e=>{let t=0;return EACH(e,()=>{t+=1}),t}}),global.PACK_DATA=METHOD({run:e=>{let t=COPY(e),n=[],o=[];return EACH(t,(e,i)=>{e instanceof Date==1?(t[i]=INTEGER(e.getTime()),n.push(i)):e instanceof RegExp==1?(t[i]=e.toString(),o.push(i)):CHECK_IS_DATA(e)===!0?t[i]=PACK_DATA(e):CHECK_IS_ARRAY(e)===!0&&EACH(e,(t,n)=>{CHECK_IS_DATA(t)===!0&&(e[n]=PACK_DATA(t))})}),t.__D=n,t.__R=o,t}}),global.UNPACK_DATA=METHOD({run:e=>{let t=COPY(e);return void 0!==t.__D&&(EACH(t.__D,(e,n)=>{t[e]=new Date(t[e])}),delete t.__D),void 0!==t.__R&&(EACH(t.__R,(e,n)=>{let o,i=t[e];for(let r=i.length-1;r>=0;r-=1)if("/"===i[r]){o=i.substring(r+1),i=i.substring(1,r);break}t[e]=new RegExp(i,o)}),delete t.__R),EACH(t,(e,n)=>{CHECK_IS_DATA(e)===!0?t[n]=UNPACK_DATA(e):CHECK_IS_ARRAY(e)===!0&&EACH(e,(t,n)=>{CHECK_IS_DATA(t)===!0&&(e[n]=UNPACK_DATA(t))})}),t}}),global.CHECK_IS_IN=METHOD({run:e=>{let t=e.data,n=e.array,o=e.value;return void 0!==t?EACH(t,(e,t)=>{if(CHECK_ARE_SAME([e,o])===!0)return!1})!==!0:void 0!==n?EACH(n,(e,t)=>{if(CHECK_ARE_SAME([e,o])===!0)return!1})!==!0:void 0}}),global.COMBINE=METHOD({run:e=>{let t;if(e.length>0){let n=e[0];CHECK_IS_DATA(n)===!0?(t={},EACH(e,e=>{EXTEND({origin:t,extend:e})})):CHECK_IS_ARRAY(n)===!0&&(t=[],EACH(e,e=>{EXTEND({origin:t,extend:e})}))}return t}}),global.COPY=METHOD({run:e=>{let t;return CHECK_IS_DATA(e)===!0?(t={},EXTEND({origin:t,extend:e})):CHECK_IS_ARRAY(e)===!0&&(t=[],EXTEND({origin:t,extend:e})),t}}),global.EXTEND=METHOD({run:e=>{let t=e.origin,n=e.extend;return CHECK_IS_DATA(t)===!0?EACH(n,(e,n)=>{if(e instanceof Date==1)t[n]=new Date(e.getTime());else if(e instanceof RegExp==1){let o,i=e.toString();for(let r=i.length-1;r>=0;r-=1)if("/"===i[r]){o=i.substring(r+1),i=i.substring(1,r);break}t[n]=new RegExp(i,o)}else CHECK_IS_DATA(e)===!0||CHECK_IS_ARRAY(e)===!0?t[n]=COPY(e):t[n]=e}):CHECK_IS_ARRAY(t)===!0&&EACH(n,e=>{if(e instanceof Date==1)t.push(new Date(e.getTime()));else if(e instanceof RegExp==1){let n,o=e.toString();for(let i=o.length-1;i>=0;i-=1)if("/"===o[i]){n=o.substring(i+1),o=o.substring(1,i);break}t.push(new RegExp(o,n))}else CHECK_IS_DATA(e)===!0||CHECK_IS_ARRAY(e)===!0?t.push(COPY(e)):t.push(e)}),t}}),global.FIND=METHOD({run:(e,t)=>{let n;if(void 0!==t)CHECK_IS_DATA(e)===!0?EACH(e,(e,o)=>{if(t(e,o)===!0)return n=e,!1}):CHECK_IS_ARRAY(e)===!0&&EACH(e,(e,o)=>{if(t(e,o)===!0)return n=e,!1});else{let t=e.data,o=e.array,i=e.value;void 0!==t&&EACH(t,(e,t)=>{if(e===i)return n=t,!1}),void 0!==o&&EACH(o,(e,t)=>{if(e===i)return n=t,!1})}return n}}),global.REMOVE=METHOD({run:(e,t)=>{if(void 0!==t)CHECK_IS_DATA(e)===!0?EACH(e,(n,o)=>{t(n,o)===!0&&REMOVE({data:e,name:o})}):CHECK_IS_ARRAY(e)===!0&&EACH(e,(n,o)=>{t(n,o)===!0&&REMOVE({array:e,key:o})});else{let t=e.data,n=e.array,o=e.name,i=e.key,r=e.value;void 0!==o&&delete t[o],void 0!==i&&n.splice(i,1),void 0!==r&&(void 0!==t&&EACH(t,(e,n)=>{CHECK_ARE_SAME([e,r])===!0&&REMOVE({data:t,name:n})}),void 0!==n&&EACH(n,(e,t)=>{CHECK_ARE_SAME([e,r])===!0&&REMOVE({array:n,key:t})}))}}}),global.CALENDAR=CLASS({init:(e,t,n)=>{void 0===n&&(n=new Date),t.getYear=(()=>{return n.getFullYear()}),t.getMonth=(e=>{let t=n.getMonth()+1;return e===!0?t<10?"0"+t:""+t:t}),t.getDate=(e=>{let t=n.getDate();return e===!0?t<10?"0"+t:""+t:t}),t.getDay=(()=>{return n.getDay()}),t.getHour=(e=>{let t=n.getHours();return e===!0?t<10?"0"+t:""+t:t}),t.getMinute=(e=>{let t=n.getMinutes();return e===!0?t<10?"0"+t:""+t:t}),t.getSecond=(e=>{let t=n.getSeconds();return e===!0?t<10?"0"+t:""+t:t})}}),global.CREATE_DATE=METHOD({run:e=>{let t=e.year,n=e.month,o=e.date,i=e.hour,r=e.minute,a=e.second,u=CALENDAR(new Date);return void 0===t&&(t=u.getYear()),void 0===n&&(n=void 0===o?0:u.getMonth()),void 0===o&&(o=void 0===i?0:u.getDate()),void 0===i&&(i=void 0===r?0:u.getHour()),void 0===r&&(r=void 0===a?0:u.getMinute()),void 0===a&&(a=0),new Date(t,n-1,o,i,r,a)}}),global.DELAY=CLASS({init:(e,t,n,o)=>{void 0===o&&(o=n,n=0);let i,r,a=Date.now(),u=i=1e3*n,s=(t.resume=RAR(()=>{void 0===r&&(r=setTimeout(()=>{o(),c()},u))}),t.pause=(()=>{u=i-(Date.now()-a),clearTimeout(r),r=void 0})),c=t.remove=(()=>{s()})}}),global.INTERVAL=CLASS({init:(e,t,n,o)=>{void 0===o&&(o=n,n=0);let i,r,a=Date.now(),u=i=0===n?1:1e3*n,s=0,c=(t.resume=RAR(()=>{void 0===r&&(r=setInterval(()=>{s+=1,o(t,s)===!1&&d(),a=Date.now()},u))}),t.pause=(()=>{u=i-(Date.now()-a),clearInterval(r),r=void 0})),d=t.remove=(()=>{c()})}}),global.LOOP=CLASS(e=>{let t,n=[],o=()=>{if(void 0===t){let e=Date.now()/1e3;t=INTERVAL(()=>{let t=Date.now()/1e3,o=t-e;if(o>0){for(let i=0;i<n.length;i+=1){let e=n[i];if(void 0!==e.fps&&e.fps>0){void 0===e.timeSigma&&(e.timeSigma=0),e.timeSigma+=o;let t=1/e.fps;e.timeSigma>=t&&(e.run(t),e.timeSigma-=t)}else e.run(o)}e=t}})}},i=()=>{n.length<=0&&(t.remove(),t=void 0)};return{init:(e,t,r,a)=>{void 0===a&&(a=r,r=void 0);let u,s=(t.resume=RAR(()=>{n.push(u={fps:r,run:a}),o()}),t.pause=(()=>{REMOVE({array:n,value:u}),i()}));t.changeFPS=(e=>{u.fps=e}),t.clearFPS=(()=>{delete u.fps}),t.getFPS=(()=>{return u.fps}),t.remove=(()=>{s()})}}}),global.ENCRYPT=METHOD({run:e=>{let t=String(e.password),n=String(e.key),o="",i=n.length,r=0;for(let a=0;a<t.length;a+=1)o+=String.fromCharCode(t.charCodeAt(a)^n.charCodeAt(r)),r+=1,r===i&&(r=0);return o}}),global.SHA256=METHOD({run:e=>{let t=String(e.password),n=String(e.key),o=__SHA256_LIB.hmac.create(n);return o.update(t),o.hex()}}),global.SHA512=METHOD({run:e=>{let t=String(e.password),n=String(e.key),o=__SHA512_LIB.hmac.create(n);return o.update(t),o.hex()}}),global.RAR=METHOD({run:(e,t)=>{return void 0===t&&(t=e,e=void 0),t(e),t}}),global.RUN=METHOD({run:e=>{let t=()=>{return e(t)};return t()}}),global.INTEGER=METHOD({run:e=>{return void 0===e?void 0:parseInt(e,10)}}),global.RANDOM=METHOD({run:e=>{let t,n,o;return CHECK_IS_DATA(e)!==!0?o=e:(t=e.min,n=e.max,o=e.limit),void 0===t&&(t=0),void 0!==o&&(n=o-1),Math.floor(Math.random()*(n-t+1)+t)}}),global.REAL=METHOD({run:e=>{return void 0===e?void 0:parseFloat(e)}}),global.EACH=METHOD({run:(e,t)=>{if(void 0===e)return!1;if(CHECK_IS_DATA(e)===!0){for(let n in e)if((void 0===e.hasOwnProperty||e.hasOwnProperty(n)===!0)&&t(e[n],n)===!1)return!1;
}else{if(void 0===t)return t=e,e=void 0,e=>{return EACH(e,t)};{let n=e.length;for(let o=0;o<n;o+=1){if(t(e[o],o)===!1)return!1;e.length<n?(o-=n-e.length,n-=n-e.length):e.length>n&&(n+=e.length-n)}}}return!0}}),global.REPEAT=METHOD({run:(e,t)=>{let n,o,i,r,a;if(void 0===t&&(t=e,e=void 0),void 0!==e&&(CHECK_IS_DATA(e)!==!0?n=e:(o=e.start,i=e.end,r=e.limit,a=e.step)),void 0===r&&void 0!==i&&(r=i+1),void 0===a&&(a=1),void 0!==n){for(let u=0;u<parseInt(n,10);u+=1)if(t(u)===!1)return!1}else if(void 0!==i&&o>i){for(let u=o;u>=i;u-=a)if(t(u)===!1)return!1}else{if(void 0===r)return e=>{return REPEAT(e,t)};for(let e=o;e<r;e+=a)if(t(e)===!1)return!1}return!0}}),global.REVERSE_EACH=METHOD({run:(e,t)=>{if(void 0===e)return!1;if(CHECK_IS_DATA(e)===!0){let n=[];for(let o in e)n.push(o);let i=n.length;for(let r=i-1;r>=0;r-=1){let o=n[r];if((void 0===e.hasOwnProperty||e.hasOwnProperty(o)===!0)&&t(e[o],o)===!1)return!1}}else{if(void 0===t)return t=e,e=void 0,e=>{return REVERSE_EACH(e,t)};{let n=e.length;for(let o=n-1;o>=0;o-=1){if(t(e[o],o)===!1)return!1;e.length<n&&(o+=n-e.length)}}}return!0}}),global.ADD_FONT=METHOD({run:e=>{let t=e.name,n=e.style,o=e.weight,i=e.woff2,r=e.woff,a=e.otf,u=e.ttf,s="";void 0!==i&&(s+="url("+i+") format('woff2'),"),void 0!==r&&(s+="url("+r+") format('woff'),"),void 0!==a&&(s+="url("+a+") format('opentype'),"),void 0!==u&&(s+="url("+u+") format('truetype'),");let c="@font-face {";c+="font-family:"+t+";",void 0!==n&&(c+="font-style:"+n+";"),void 0!==o&&(c+="font-weight:"+o+";"),c+="src:"+s.substring(0,s.length-1)+";",c+="}";let d=document.createElement("style");d.type="text/css",d.appendChild(document.createTextNode(c)),document.getElementsByTagName("head")[0].appendChild(d)}}),OVERRIDE(BOX,e=>{global.BOX=METHOD(t=>{return t.getAllBoxes=e.getAllBoxes,{run:t=>{return void 0===BROWSER_CONFIG[t]&&(BROWSER_CONFIG[t]={}),e(t)}}})}),global.BROWSER_CONFIG={isSecure:"https:"===location.protocol,host:location.hostname,port:""===location.port?"https:"===location.protocol?443:80:INTEGER(location.port)},global.CONNECT_TO_WEB_SOCKET_SERVER=METHOD({run:(e,t)=>{let n,o,i,r,a,u,s,c,d,f={},l=0;CHECK_IS_DATA(e)!==!0?i=e:(n=e.isSecure,o=e.host,i=e.port),void 0===n&&(n=BROWSER_CONFIG.isSecure),void 0===o&&(o=BROWSER_CONFIG.host),CHECK_IS_DATA(t)!==!0?r=t:(r=t.success,a=t.error);let h=(e,t,n)=>{let o=f[e];void 0!==o&&EACH(o,e=>{e(t,e=>{void 0!==d&&void 0!==n&&d({methodName:"__CALLBACK_"+n,data:e})})})},E=new WebSocket((n===!0?"wss://":"ws://")+o+":"+i);E.onopen=(()=>{u=!0,r(s=((e,t)=>{let n=f[e];void 0===n&&(n=f[e]=[]),n.push(t)}),c=((e,t)=>{let n=f[e];void 0!==n&&(void 0!==t?REMOVE({array:n,value:t}):delete f[e])}),d=((e,t)=>{let n,o,i;CHECK_IS_DATA(e)!==!0?n=e:(n=e.methodName,o=e.data),void 0!==E&&(E.send(STRINGIFY({methodName:n,data:o,sendKey:l})),void 0!==t&&(i="__CALLBACK_"+l,s(i,e=>{t(e),c(i)})),l+=1)}),()=>{void 0!==E&&(E.close(),E=void 0)})}),E.onmessage=(e=>{let t=PARSE_STR(e.data);void 0!==t&&h(t.methodName,t.data,t.sendKey)}),E.onclose=(()=>{h("__DISCONNECTED")}),E.onerror=(e=>{let t=e.toString();u!==!0?void 0!==a?a(t):SHOW_ERROR("CONNECT_TO_WEB_SOCKET_SERVER",t):h("__ERROR",t)})}}),global.COOKIE_STORE=CLASS({init:(e,t,n)=>{let o,i;CHECK_IS_DATA(n)!==!0?o=n:(o=n.storeName,i=n.domain);let r=e.genFullName=(e=>{return o+"."+e}),a=(t.save=(e=>{let t=e.name,n=e.value,o=e.isToSession,a=e.expireTime;o===!0?a=0:void 0===a&&(a=new Date,a.setDate(a.getDate()+356)),document.cookie=r(t)+"="+encodeURIComponent(JSON.stringify(n))+"; expires="+(0===a?a:a.toGMTString())+"; path=/;"+(void 0===i?"":" domain="+i+";")}),t.get=(e=>{e=r(e)+"=";let t,n=document.cookie,o=n.indexOf(e);if(n&&o>=0){let i=n.substring(o,n.length),r=i.indexOf(";");t=r>0?i.substring(e.length,r):i.substring(e.length)}return void 0===t?void 0:JSON.parse(decodeURIComponent(t))}),t.remove=(e=>{let t=new Date;t.setDate(t.getDate()-1),document.cookie=r(e)+"=; expires="+t.toGMTString()+"; path=/;"+(void 0===i?"":" domain="+i+";")}));t.all=(()=>{let e={};return EACH(document.cookie.split(";"),t=>{let n=t.indexOf("="),i=t.substring(0,n);0===i.indexOf(o+".")&&(e[i.substring(o.length+1)]=t.substring(n+1))}),e}),t.count=(()=>{let e=0;return EACH(document.cookie.split(";"),t=>{let n=t.indexOf("="),i=t.substring(0,n);0===i.indexOf(o+".")&&(e+=1)}),e}),t.clear=(()=>{EACH(document.cookie.split(";"),e=>{let t=e.indexOf("="),n=e.substring(0,t);0===n.indexOf(o+".")&&a(n.substring(o.length+1))})})}}),FOR_BOX(e=>{e.COOKIE_STORE=CLASS({init:(t,n,o)=>{let i,r;CHECK_IS_DATA(o)!==!0?i=o:(i=o.storeName,r=o.domain);let a=COOKIE_STORE({storeName:e.boxName+"."+i,domain:r});n.save=a.save,n.get=a.get,n.remove=a.remove,n.all=a.all,n.count=a.count,n.clear=a.clear}})}),global.INFO=OBJECT({init:(e,t)=>{let n="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,o=(t.getLang=(()=>{let e=STORE("__INFO").get("lang");return void 0===e&&(e=navigator.language),"zh-TW"!==e&&"zh-CN"!==e&&(e=e.substring(0,2)),e}),t.setLang=(e=>{STORE("__INFO").save({name:"lang",value:e})}));t.changeLang=(e=>{o(e),REFRESH()}),t.checkIsTouchDevice=(()=>{return n}),t.getOSName=(()=>{return bowser.osname}),t.getBrowserName=(()=>{return bowser.name}),t.getBrowserVersion=(()=>{return REAL(bowser.version)})}}),OVERRIDE(LOOP,e=>{global.LOOP=CLASS(e=>{let t,n=[],o=()=>{if(void 0===t){let e,o=performance.now()/1e3;t=requestAnimationFrame(e=(i=>{let r=i/1e3,a=r-o;if(a>0){for(let e=0;e<n.length;e+=1){let t=n[e];if(void 0!==t.fps&&t.fps>0){void 0===t.timeSigma&&(t.timeSigma=0),t.timeSigma+=a;let e=1/t.fps;t.timeSigma>=e&&(t.run(e),t.timeSigma-=e)}else t.run(a)}o=r}t=requestAnimationFrame(e)}))}},i=()=>{n.length<=0&&(cancelAnimationFrame(t),t=void 0)};return{init:(e,t,r,a)=>{void 0===a&&(a=r,r=void 0);let u,s=(t.resume=RAR(()=>{n.push(u={fps:r,run:a}),o()}),t.pause=(()=>{REMOVE({array:n,value:u}),i()}));t.changeFPS=(e=>{u.fps=e}),t.clearFPS=(()=>{delete u.fps}),t.getFPS=(()=>{return u.fps}),t.remove=(()=>{s()})}}})}),OVERRIDE(MSG,e=>{global.MSG=METHOD(e=>{let t={},n=e.addData=(e=>{EXTEND({origin:t,extend:e})}),o=e.loadCSV=((e,t)=>{CHECK_IS_ARRAY(e)===!0?NEXT(e,[(e,t)=>{o(e,t)},()=>{return t}]):GET(e,e=>{let o,i={};EACH(__PAPA.parse(e).data,(e,t)=>{if(0===t)o=e;else{let t={};EACH(e,(e,n)=>{n>0&&(t[o[n]]=e.replace(/\\n/,"\n"))}),i[e[0]]=t}}),n(i),t()})});return{run:e=>{let n,o;CHECK_IS_DATA(e)!==!0?n=e:o=e,void 0!==n&&(o=t[n]),void 0===o&&SHOW_ERROR("MSG",n+"에 해당하는 문자열을 찾을 수 없습니다.");let i=o[INFO.getLang()];if(void 0===i){let e,t;2==INFO.getLang().length?e=INFO.getLang().toLowerCase():(e=INFO.getLang().substring(0,2).toLowerCase(),t=INFO.getLang().substring(3).toLowerCase()),i=o[e],void 0!==i&&CHECK_IS_DATA(i)===!0&&(void 0!==i[t]?i=i[t]:EACH(i,e=>{return i=e,!1}))}return void 0===i&&(void 0!==o.en?i=o.en:EACH(o,e=>{return i=e,!1})),void 0!==i&&CHECK_IS_DATA(i)===!0&&EACH(i,e=>{return i=e,!1}),i}}})}),global.SESSION_STORE=CLASS({init:(e,t,n)=>{let o=e=>{return n+"."+e},i=(t.save=(e=>{let t=e.name,n=e.value;sessionStorage.setItem(o(t),STRINGIFY(n))}),t.get=(e=>{let t=PARSE_STR(sessionStorage.getItem(o(e)));return t===TO_DELETE&&(t=void 0),t}),t.remove=(e=>{sessionStorage.removeItem(o(e))}));t.all=(()=>{let e={};return EACH(sessionStorage,(t,o)=>{0===o.indexOf(n+".")&&(e[o.substring(n.length+1)]=PARSE_STR(t))}),e}),t.count=(()=>{let e=0;return EACH(sessionStorage,(t,o)=>{0===o.indexOf(n+".")&&(e+=1)}),e}),t.clear=(()=>{EACH(sessionStorage,(e,t)=>{0===t.indexOf(n+".")&&i(t.substring(n.length+1))})})}}),FOR_BOX(e=>{e.SESSION_STORE=CLASS({init:(t,n,o)=>{let i=SESSION_STORE(e.boxName+"."+o);n.save=i.save,n.get=i.get,n.remove=i.remove,n.all=i.all,n.count=i.count,n.clear=i.clear}})}),global.SOUND=CLASS(e=>{let t,n=""!==(new Audio).canPlayType("audio/ogg"),o={},i=(e,n)=>{if(void 0!==o[e])n(o[e]);else{let i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=(()=>{t.decodeAudioData(i.response,t=>{o[e]=t,n(t)})}),i.send()}};return{init:(e,o,r,a)=>{let u=r.ogg,s=r.mp3,c=r.wav,d=r.isLoop,f=r.volume;void 0===f&&(f=.8);let l,h,E,g,v,p,m=!1,A=0,S=0,_=!1,C={};void 0===t&&(t=new AudioContext);let T;T=void 0!==u&&n===!0?u:void 0!==s?s:c;let O=()=>{i(T,e=>{void 0===l&&(E=t.createGain(),l=e,g=l.duration,E.connect(t.destination),void 0===p?E.gain.setValueAtTime(f,0):(E.gain.setValueAtTime(0,0),E.gain.linearRampToValueAtTime(f,t.currentTime+p),p=void 0),void 0!==v&&v(),I("load"),N("load"),m=!0)})},R=o.play=(e=>{return _!==!0&&(void 0!==e&&(S=e),v=(()=>{_!==!0&&(h=t.createBufferSource(),h.buffer=l,h.connect(E),h.loop=d,A=Date.now()/1e3-S,h.start(0,S%l.duration),v=void 0,d!==!0&&(h.onended=(()=>{y(),void 0!==a&&a()})),_=!0)}),void 0===l?O():v()),o}),y=(o.checkIsPlaying=(()=>{return _}),o.getStartAt=(()=>{return A}),o.pause=(()=>{void 0!==h&&(h.stop(0),h.disconnect(),h=void 0,S=Date.now()/1e3-A),v=void 0,_=!1}),o.stop=(()=>{void 0!==h&&(h.stop(0),h.disconnect(),h=void 0,S=0),void 0!==E&&(E.disconnect(),E=void 0),l=void 0,v=void 0,_=!1})),N=(o.setVolume=(e=>{f=e,void 0!==E&&E.gain.setValueAtTime(f,0)}),o.getVolume=(()=>{return f}),o.setPlaybackRate=(e=>{void 0!==h&&h.playbackRate.setValueAtTime(e,0)}),o.fadeIn=(e=>{void 0!==E?(E.gain.setValueAtTime(0,0),E.gain.linearRampToValueAtTime(f,t.currentTime+e)):p=e,R()}),o.fadeOut=(e=>{void 0!==E&&E.gain.linearRampToValueAtTime(0,t.currentTime+e),DELAY(e,()=>{y()})}),o.getDuration=(()=>{return g}),o.on=((e,t)=>{void 0===C[e]&&(C[e]=[]),C[e].push(t),"load"===e&&m===!0&&(I("load"),N("load"))}),o.checkIsEventExists=(e=>{return void 0!==C[e]}),o.off=((e,t)=>{void 0!==C[e]&&(void 0!==t&&REMOVE({array:C[e],value:t}),void 0!==t&&0!==C[e].length||delete C[e])})),I=o.fireEvent=(e=>{let t,n;CHECK_IS_DATA(e)!==!0?t=e:(t=e.eventName,n=e.e);let i=C[t];if(void 0!==i)for(let r=0;r<i.length;r+=1)i[r](void 0===n?EMPTY_E():n,o)});O()}}}),global.SOUND_ONCE=CLASS({preset:()=>{return SOUND},init:(e,t,n,o)=>{t.play()}}),global.STORE=CLASS({init:(e,t,n)=>{let o=e=>{return n+"."+e},i=(t.save=(e=>{let t=e.name,n=e.value;localStorage.setItem(o(t),STRINGIFY(n))}),t.get=(e=>{let t=PARSE_STR(localStorage.getItem(o(e)));return t===TO_DELETE&&(t=void 0),t}),t.remove=(e=>{localStorage.removeItem(o(e))}));t.all=(()=>{let e={};return EACH(localStorage,(t,o)=>{0===o.indexOf(n+".")&&(e[o.substring(n.length+1)]=PARSE_STR(t))}),e}),t.count=(()=>{let e=0;return EACH(localStorage,(t,o)=>{0===o.indexOf(n+".")&&(e+=1)}),e}),t.clear=(()=>{EACH(localStorage,(e,t)=>{0===t.indexOf(n+".")&&i(t.substring(n.length+1))})})}}),FOR_BOX(e=>{e.STORE=CLASS({init:(t,n,o)=>{let i=STORE(e.boxName+"."+o);n.save=i.save,n.get=i.get,n.remove=i.remove,n.all=i.all,n.count=i.count,n.clear=i.clear}})}),global.WORKER=CLASS({init:(e,t,n)=>{let o={},i=0,r=new Worker(n),a=(e,t,n)=>{let i=o[e];void 0!==i&&EACH(i,e=>{e(t,e=>{void 0!==c&&void 0!==n&&c({methodName:"__CALLBACK_"+n,data:e})})})},u=t.on=((e,t)=>{let n=o[e];void 0===n&&(n=o[e]=[]),n.push(t)});r.onmessage=(e=>{a(e.data.methodName,e.data.data,e.data.sendKey)});let s=t.off=((e,t)=>{let n=o[e];void 0!==n&&(void 0!==t?REMOVE({array:n,value:t}):delete o[e])}),c=t.send=((e,t)=>{let n,o;if(CHECK_IS_DATA(e)!==!0?n=e:(n=e.methodName,o=e.data),r.postMessage({methodName:n,data:o,sendKey:i}),void 0!==t){let e="__CALLBACK_"+i;u(e,n=>{t(n),s(e)})}i+=1});t.remove=(()=>{r.terminate(),r=void 0})}}),FOR_BOX(e=>{e.SHOW_ERROR=METHOD({run:(t,n,o)=>{SHOW_ERROR(e.boxName+"."+t,n,o)}})}),FOR_BOX(e=>{e.SHOW_WARNING=METHOD({run:(t,n,o)=>{SHOW_WARNING(e.boxName+"."+t,n,o)}})}),global.ADD_STYLE=METHOD({run:e=>{let t=e.node,n=e.style,o=t.getWrapperEl();EACH(n,(e,n)=>{if(void 0!==e)if("onDisplayResize"===n){let n=EVENT({name:"resize"},RAR(()=>{ADD_STYLE({node:t,style:e(WIN_WIDTH(),WIN_HEIGHT())}),DELAY(()=>{ADD_STYLE({node:t,style:e(WIN_WIDTH(),WIN_HEIGHT())})})}));t.on("remove",()=>{n.remove()})}else void 0!==o&&("flt"===n?o.style.cssFloat=e:"number"==typeof e&&"zIndex"!==n&&"opacity"!==n?o.style[n]=e+"px":"backgroundImage"===n&&"none"!==e?o.style[n]="url("+e+")":o.style[n]=e)})}}),global.ANIMATE=METHOD(e=>{let t=0;return{run:(e,n)=>{let o,i,r=e.node,a=e.keyframes,u=void 0===e.duration?.5:e.duration,s=void 0===e.timingFunction?"ease":e.timingFunction,c=void 0===e.delay?0:e.delay,d=void 0===e.iterationCount?1:e.iterationCount,f=void 0===e.direction?"normal":e.direction,l="__KEYFRAMES_"+t,h="";t+=1,EACH(a,(e,t)=>{h+=t+"{",EACH(e,(e,t)=>{"number"==typeof e&&"zIndex"!==t&&"opacity"!==t&&(e+="px"),h+=t.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+e+";"}),h+="}","from"===t||"0%"===t?o=e:"to"!==t&&"100%"!==t||(i=e)});let E=document.createElement("style");E.type="text/css",E.appendChild(document.createTextNode("@keyframes "+l+"{"+h+"}")),document.getElementsByTagName("head")[0].appendChild(E),r.addStyle(o),r.addStyle({animation:l+" "+u+"s "+s+" "+c+"s "+d+" "+f}),r.addStyle(i),void 0!==n&&1===d&&DELAY(u,()=>{r.checkIsRemoved()!==!0&&n(r)})}}}),global.CLEAR_BOTH=CLASS({preset:()=>{return DIV},params:()=>{return{style:{clear:"both"}}}}),global.DOM=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o=n.tag,i=n.el,r=n.id,a=n.cls,u=n.__TEXT;void 0!==o?i="body"===o?document.body:"__STRING"===o?document.createTextNode(u):document.createElement(o):i!==document.body&&i.parentNode!==TO_DELETE&&t.setParent(DOM({el:i.parentNode}));let s=(t.getEl=(()=>{return i}),e.setEl=(n=>{i=n,e.setDom(t)}));s(i);let c=e.setAttr=(e=>{let t=e.name,n=e.value;i.setAttribute(t,n)});void 0!==r&&c({name:"id",value:r}),void 0!==a&&c({name:"class",value:a})}}),global.NODE=CLASS({init:(e,t,n)=>{let o,i,r,a,u,s,c,d,f,l=[],h=!1,E=e.setWrapperDom=(e=>{o=e,r=e.getEl(),T("show",()=>{EACH(l,e=>{e.checkIsShowing()===!0&&(EVENT.fireAll({node:e,name:"show"}),EVENT.removeAll({node:e,name:"show"}))})})}),g=e.setContentDom=(e=>{i=e,a=e.getEl()}),v=(e.setDom=(e=>{E(e),g(e)}),t.getWrapperDom=(()=>{return o}),t.getContentDom=(()=>{return i}),t.getWrapperEl=(()=>{return r}),t.getContentEl=(()=>{return a}),(e,n)=>{_(e),void 0===n?c.getChildren().push(t):c.getChildren().splice(n,0,t),O("attach"),I()===!0&&(O("show"),EVENT.removeAll({node:t,name:"show"})),void 0!==u&&EACH(u,e=>{A(e)}),void 0!==s&&EACH(s,e=>{S(e)}),c.fireEvent("append")}),p=t.append=(e=>{if(CHECK_IS_DATA(e)===!0)e.appendTo(t);else if(t.type===TEXTAREA)p(DOM({tag:"__STRING",__TEXT:String(void 0===e?"":e)}));else{let t=String(void 0===e?"":e).split("\n");EACH(t,(e,n)=>{p(DOM({tag:"__STRING",__TEXT:e})),n<t.length-1&&p(BR())})}}),m=(t.appendTo=(e=>{let n=e.getContentEl();return void 0!==n&&(n.appendChild(r),v(e)),t}),t.prepend=(e=>{if(CHECK_IS_DATA(e)===!0)e.prependTo(t);else if(t.type===TEXTAREA)m(DOM({tag:"__STRING",__TEXT:String(void 0===e?"":e)}));else{let t=String(void 0===e?"":e).split("\n");REPEAT({start:t.length-1,end:0},e=>{m(DOM({tag:"__STRING",__TEXT:t[e]})),e<t.length-1&&m(BR())})}})),A=(t.prependTo=(e=>{let n=e.getContentEl();return void 0!==n&&(void 0===n.childNodes[0]?n.appendChild(r):n.insertBefore(r,n.childNodes[0]),v(e,0)),t}),t.after=(e=>{if(void 0!==r)if(r.parentNode===TO_DELETE)void 0===u&&(u=[]),u.push(e);else if(CHECK_IS_DATA(e)===!0)e.insertAfter(t);else{let t=String(void 0===e?"":e).split("\n");REPEAT({start:t.length-1,end:0},e=>{A(DOM({tag:"__STRING",__TEXT:t[e]})),e<t.length-1&&A(BR())})}})),S=(t.insertAfter=(e=>{let n=e.getWrapperEl();if(void 0!==n){n.parentNode.insertBefore(r,n.nextSibling);let o=FIND({array:e.getParent().getChildren(),value:t}),i=FIND({array:e.getParent().getChildren(),value:e})+1;v(e.getParent(),o<i?i-1:i)}return t}),t.before=(e=>{if(void 0!==r)if(r.parentNode===TO_DELETE)void 0===s&&(s=[]),s.push(e);else if(CHECK_IS_DATA(e)===!0)e.insertBefore(t);else{let t=String(void 0===e?"":e).split("\n");EACH(t,(e,n)=>{S(DOM({tag:"__STRING",__TEXT:e})),n<t.length-1&&S(BR())})}})),_=(t.insertBefore=(e=>{let n=e.getWrapperEl();return void 0!==n&&(n.parentNode.insertBefore(r,n),v(e.getParent(),FIND({array:e.getParent().getChildren(),value:e}))),t}),t.getChildren=(()=>{return l}),t.setParent=(e=>{void 0!==c&&REMOVE({array:c.getChildren(),value:t}),c=e})),C=(t.getParent=(()=>{return c}),t.empty=(()=>{EACH(l,e=>{e.remove()})})),T=(t.remove=(()=>{void 0!==r&&r.parentNode!==TO_DELETE&&(O("beforeRemove"),C(),o.empty(),r.parentNode.removeChild(r),_(void 0),O("remove")),void 0!==r&&r.remove(),void 0!==a&&a.remove(),r=void 0,a=void 0,EVENT.removeAll({node:t}),EVENT.removeAll({node:o}),f=void 0,h=!0}),t.checkIsRemoved=(()=>{return h}),t.on=((e,n)=>{EVENT({node:t,name:e},n)})),O=(t.off=((e,n)=>{void 0!==n?EVENT.remove({node:t,name:e},n):EVENT.removeAll({node:t,name:e})}),t.fireEvent=(e=>{let n,o;return CHECK_IS_DATA(e)!==!0?n=e:(n=e.name,o=e.e),EVENT.fireAll({node:t,name:n,e:o})})),R=t.addStyle=(e=>{ADD_STYLE({node:t,style:e})}),y=t.getStyle=(e=>{if(void 0!==r){let t=r.style;if(void 0!==t){let n=t[e];return""===n?void 0:"px"===n.substring(n.length-2)?REAL(n):n}}}),N=t.getWidth=(()=>{return void 0===r?0:r.offsetWidth}),I=(t.getInnerWidth=(()=>{return void 0===r?0:r.clientWidth}),t.getHeight=(()=>{return void 0===r?0:r.offsetHeight}),t.getInnerHeight=(()=>{return void 0===r?0:r.clientHeight}),t.getLeft=(()=>{let e=0,t=r;do e+=t.offsetLeft-(t===document.body?0:t.scrollLeft),t=t.offsetParent;while(t!==TO_DELETE);return e}),t.getTop=(()=>{let e=0,t=r;do e+=t.offsetTop-(t===document.body?0:t.scrollTop),t=t.offsetParent;while(t!==TO_DELETE);return e}),t.hide=(()=>{d=y("display"),"none"===d&&(d=void 0),R({display:"none"})}),t.show=(()=>{R({display:void 0===d?"":d}),I()===!0&&(EVENT.fireAll({node:t,name:"show"}),EVENT.removeAll({node:t,name:"show"}))}),t.checkIsHiding=(()=>{return I()!==!0}),t.checkIsShowing=(()=>{return r===document.body||"none"!==y("display")&&N()>0}));t.scrollTo=(e=>{let t=e.left,n=e.top;void 0!==a&&(void 0!==t&&(a.scrollLeft=t),void 0!==n&&(a.scrollTop=n))}),t.getScrollLeft=(()=>{return void 0!==a?a.scrollLeft:0}),t.getScrollTop=(()=>{return void 0!==a?a.scrollTop:0}),t.getScrollWidth=(()=>{return void 0!==a?a.scrollWidth:0}),t.getScrollHeight=(()=>{return void 0!==a?a.scrollHeight:0}),t.setData=(e=>{f=e}),t.getData=(()=>{return f})},afterInit:(e,t,n)=>{let o,i,r;void 0!==n&&(o=n.style,i=void 0===n.c||CHECK_IS_ARRAY(n.c)===!0?n.c:[n.c],r=n.on),void 0!==o&&t.addStyle(o),void 0!==r&&EACH(r,(e,n)=>{void 0!==e&&t.on(n,e)}),void 0!==i&&EACH(i,(e,n)=>{t.append(e)})}}),global.E=CLASS({init:(e,t,n)=>{let o,i=n.e,r=n.el,a=(e,t)=>{let n=t.parentNode;for(;n!==TO_DELETE;){if(n===e)return!0;n=n.parentNode}return!1},u=t.stopDefault=(()=>{i.preventDefault()}),s=t.stopBubbling=(()=>{i.stopPropagation(),o=!0});t.checkIsBubblingStoped=(()=>{return o}),t.stop=(()=>{u(),s()}),t.getLeft=(()=>{if(INFO.checkIsTouchDevice()===!0&&void 0!==i.changedTouches&&void 0!==i.changedTouches[0]){let e;if(EACH(i.changedTouches,t=>{if(void 0!==t.target&&a(r,t.target)===!0)return e=t.pageX,!1}),void 0===e&&(e=i.changedTouches[0].pageX),void 0!==e)return e}return i.pageX}),t.getTop=(()=>{if(INFO.checkIsTouchDevice()===!0&&void 0!==i.changedTouches&&void 0!==i.changedTouches[0]){let e;if(EACH(i.changedTouches,t=>{if(void 0!==t.target&&a(r,t.target)===!0)return e=t.pageY,!1}),void 0===e&&(e=i.changedTouches[0].pageY),void 0!==e)return e}return i.pageY}),t.getPositions=(()=>{if(INFO.checkIsTouchDevice()===!0&&void 0!==i.changedTouches&&void 0!==i.changedTouches[0]){let e=[];return EACH(i.changedTouches,t=>{e.push({left:t.pageX,top:t.pageY})}),e}return[{left:i.pageX,top:i.pageY}]}),t.getKey=(()=>{return i.key}),t.getWheelDelta=(()=>{return i.deltaY}),t.getGamePadData=(()=>{return i.gamepad}),t.getFiles=(()=>{return i.dataTransfer.files}),t.getClipboardItems=(()=>{return void 0===i.clipboardData||void 0===i.clipboardData.items?[]:i.clipboardData.items})}}),global.EMPTY_E=CLASS({init:(e,t)=>{t.stopDefault=(()=>{}),t.stopBubbling=(()=>{}),t.stop=(()=>{}),t.getLeft=(()=>{return-(1/0)}),t.getTop=(()=>{return-(1/0)}),t.getPositions=(()=>{return[]}),t.getKey=(()=>{return""}),t.getWheelDelta=(()=>{return 0}),t.getClipboardItems=(()=>{return[]})}}),global.EVENT=CLASS(e=>{let t={};return e.fireAll=(e=>{let n,o,i,r,a,u;if(CHECK_IS_DATA(e)!==!0?o=e:(n=e.node,o=e.name,i=e.e),r=void 0===n?"body":n.id,a=t[r],void 0!==a){let e=a[o];void 0!==e&&EACH(e,e=>{e.fire(i)===!1&&(u=!1)})}return u}),e.removeAll=(e=>{let n,o,i,r;if(CHECK_IS_DATA(e)!==!0?o=e:(n=e.node,o=e.name),i=void 0===n?"body":n.id,r=t[i],void 0!==r)if(void 0!==o){let e=r[o];void 0!==e&&EACH(e,e=>{e.remove()})}else EACH(r,e=>{EACH(e,e=>{e.remove()})})}),e.remove=((e,n)=>{let o,i,r,a;if(CHECK_IS_DATA(e)!==!0?i=e:(o=e.node,i=e.name),r=void 0===o?"body":o.id,a=t[r],void 0!==a){let e=a[i];void 0!==e&&EACH(e,e=>{e.getEventHandler()===n&&e.remove()})}}),{init:(e,n,o,i)=>{let r,a,u,s,c,d,f=[];CHECK_IS_DATA(o)!==!0?u=o:(r=o.node,a=o.lowNode,u=o.name,void 0===a&&(a=r)),s=void 0===r?"body":r.id,void 0===t[s]&&(t[s]={}),void 0===t[s][u]&&(t[s][u]=[]),t[s][u].push(n);let l=()=>{let e=t[s][u];void 0!==e&&(REMOVE({array:e,value:n}),e.length<=0&&delete t[s][u]),CHECK_IS_EMPTY_DATA(t[s])===!0&&delete t[s]};if("tap"===u)f.push(EVENT_LOW({node:r,lowNode:a,name:"click"},i));else if("doubletap"===u)INFO.checkIsTouchDevice()===!0?c=EVENT({node:r,name:"tap"},e=>{void 0!==d&&Date.now()-d<600?(i(e,r),getSelection().removeAllRanges(),d=void 0):d=Date.now()}):f.push(EVENT_LOW({node:r,lowNode:a,name:"dblclick"},i));else if("touchstart"===u)f.push(EVENT_LOW({node:r,lowNode:a,name:"touchstart"},(e,t)=>{INFO.checkIsTouchDevice()===!0&&i(e,t)})),f.push(EVENT_LOW({node:r,lowNode:a,name:"mousedown"},(e,t)=>{INFO.checkIsTouchDevice()!==!0&&i(e,t)}));else if("touchmove"===u)f.push(EVENT_LOW({node:r,lowNode:a,name:"touchmove"},(e,t)=>{INFO.checkIsTouchDevice()===!0&&i(e,t)})),f.push(EVENT_LOW({node:r,lowNode:a,name:"mousemove"},(e,t)=>{INFO.checkIsTouchDevice()!==!0&&i(e,t)}));else if("touchend"===u)f.push(EVENT_LOW({node:r,lowNode:a,name:"touchend"},(e,t)=>{INFO.checkIsTouchDevice()===!0&&i(e,t)})),f.push(EVENT_LOW({node:r,lowNode:a,name:"mouseup"},(e,t)=>{INFO.checkIsTouchDevice()!==!0&&i(e,t)}));else if("mouseover"===u)f.push(EVENT_LOW({node:r,lowNode:a,name:"touchstart"},(e,t)=>{INFO.checkIsTouchDevice()===!0&&i(e,t)})),f.push(EVENT_LOW({node:r,lowNode:a,name:"mouseover"},(e,t)=>{INFO.checkIsTouchDevice()!==!0&&i(e,t)}));else if("mouseout"===u)f.push(EVENT_LOW({node:r,lowNode:a,name:"touchend"},(e,t)=>{INFO.checkIsTouchDevice()===!0&&i(e,t)})),f.push(EVENT_LOW({node:r,lowNode:a,name:"mouseout"},(e,t)=>{INFO.checkIsTouchDevice()!==!0&&i(e,t)}));else if("keydown"===u){let e;f.push(EVENT_LOW({node:r,lowNode:a,name:"keydown"},(t,n)=>{e!==t.getKey()&&(i(t,n),e=t.getKey())})),f.push(EVENT_LOW({node:r,lowNode:a,name:"keyup"},(t,n)=>{e=void 0}))}else"attach"!==u&&"show"!==u&&"remove"!==u&&f.push(EVENT_LOW(o,i));n.remove=(()=>{EACH(f,e=>{e.remove()}),void 0!==c&&c.remove(),l()}),n.fire=(e=>{return i(void 0!==e?e:EMPTY_E(),r)}),n.getEventHandler=(()=>{return i})}}}),global.EVENT_LOW=CLASS({init:(e,t,n,o)=>{let i,r,a,u,s;CHECK_IS_DATA(n)!==!0?a=n:(i=n.node,r=n.lowNode,a=n.name,void 0===r&&(r=i)),u=void 0!==r?r.getWrapperEl():void 0===global["on"+a]&&"gamepadconnected"!==a&&"gamepaddisconnected"!==a?document:global,u.addEventListener(a,s=(e=>{let t=o(E({e:e,el:u}),i);return"beforeunload"===a&&void 0!==t&&(e.returnValue=t),t}),!1),t.remove=(()=>{u.removeEventListener(a,s,!1)})}}),global.EVENT_ONCE=CLASS({init:(e,t,n,o)=>{let i=EVENT(n,(e,t)=>{o(e,t),i.remove()});t.remove=(()=>{i.remove()}),t.fire=(()=>{i.fire()})}}),global.A=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"a"}},init:(e,t,n)=>{let o,i,r;void 0!==n&&(o=n.style,i=n.href,r=n.target);let a=t.setHref=(t=>{e.setAttr({name:"href",value:t})});void 0!==i&&a(i),void 0!==r&&e.setAttr({name:"target",value:r}),t.tap=(()=>{EVENT.fireAll({node:t,name:"tap"})}),t.getHref=(()=>{return i})},afterInit:(e,t,n)=>{let o,i,r,a,u=!1;void 0!==n&&(o=n.c,i=n.href),void 0===o&&void 0!==i&&(t.append(i),u=!0,OVERRIDE(t.append,e=>{r=t.append=(n=>{u===!0&&(t.empty(),u=!1),e(n)})}),OVERRIDE(t.prepend,e=>{a=t.prepend=(n=>{u===!0&&(t.empty(),u=!1),e(n)})}))}}),global.AUDIO=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"audio"}},init:(e,t,n)=>{let o=n.mp3,i=n.ogg,r=n.isLoop;void 0!==i&&""!==t.getEl().canPlayType("audio/ogg")?t.getEl().src=i:void 0!==o&&(t.getEl().src=o),e.setAttr({name:"controls",value:"controls"}),r===!0&&e.setAttr({name:"loop",value:"loop"});let a=(t.play=(()=>{t.getEl().play()}),t.pause=(()=>{t.getEl().pause()}));t.stop=(()=>{a(),t.getEl().currentTime=0})}}),global.BODY=OBJECT({preset:()=>{return DOM},params:()=>{return{tag:"body"}}}),global.BR=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"br"}}}),global.CANVAS=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"canvas"}},init:(e,t,n)=>{let o,i;void 0!==n&&(o=n.width,i=n.height);let r=(t.getContext=(e=>{return t.getEl().getContext(e)}),t.setSize=(e=>{let n=t.getEl();void 0!==e.width&&(o=e.width),void 0!==e.height&&(i=e.height),void 0!==o&&(n.width=o),void 0!==i&&(n.height=i)}));r({width:o,height:i}),t.getWidth=(()=>{return o}),t.getHeight=(()=>{return i}),t.getDataURL=(()=>{return t.getEl().toDataURL()})}}),global.DIV=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"div"}}}),global.FOOTER=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"footer"}}}),global.FORM=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"form"}},init:(e,t,n)=>{let o,i,r,a,u,s;void 0!==n&&(o=n.action,i=n.target,r=n.method,a=n.enctype),void 0!==o?e.setAttr({name:"action",value:o}):EVENT({node:t,name:"submit"},e=>{e.stop()}),void 0!==i&&e.setAttr({name:"target",value:i}),void 0!==r&&e.setAttr({name:"method",value:r}),void 0!==a&&e.setAttr({name:"enctype",value:a}),OVERRIDE(t.setData,e=>{u=t.getData=(()=>{let n=e(),o=e=>{EACH(e.getChildren(),e=>{if(void 0!==e.getValue&&void 0!==e.getName&&void 0!==e.getName()){let t=(n,o)=>{if(o.indexOf(".")!==-1){let e=o.substring(o.indexOf(".")+1);o=o.substring(0,o.indexOf(".")),void 0===n[o]&&(n[o]={}),t(n[o],e)}else n[o]=e.getValue()};t(n,e.getName())}o(e)})};return void 0===n&&(n={}),o(t),n})}),OVERRIDE(t.setData,e=>{s=t.setData=(n=>{let o=e=>{EACH(e.getChildren(),e=>{if(void 0!==e.setValue&&void 0!==e.getName&&void 0!==e.getName()){let t=(n,o)=>{if(o.indexOf(".")!==-1){let e=o.substring(o.indexOf(".")+1);o=o.substring(0,o.indexOf(".")),void 0===n[o]&&(n[o]={}),t(n[o],e)}else e.setValue(void 0===n[o]?"":n[o])};t(n,e.getName())}o(e)})};o(t),e(n)})}),t.submit=(()=>{EVENT.fireAll({node:t,name:"submit"}),void 0!==o&&t.getEl().submit()})}}),global.H1=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h1"}}}),global.H2=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h2"}}}),global.H3=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h3"}}}),global.H4=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h4"}}}),global.H5=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h5"}}}),global.H6=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h6"}}}),global.HEADER=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"header"}}}),global.IFRAME=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"iframe",style:{border:"none"}}},init:(e,t,n)=>{let o,i;void 0!==n&&(o=n.name,i=n.src),void 0!==o&&e.setAttr({name:"name",value:o});let r=t.setSrc=(t=>{i=t,e.setAttr({name:"src",value:i})});void 0!==i&&r(i),t.getSrc=(()=>{return i})}}),global.IMG=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"img"}},init:(e,t,n)=>{let o=n.src,i=n.width,r=n.height,a=t.getEl();a.crossOrigin="anonymous";let u=(t.getWidth=(()=>{return a.width}),t.getHeight=(()=>{return a.height}),t.setSize=(e=>{let t=e.width,n=e.height;void 0!==t&&(a.width=t),void 0!==n&&(a.height=n)}));u({width:i,height:r});let s=(t.getSrc=(()=>{return o}),t.setSrc=(t=>{o=t,e.setAttr({name:"src",value:o})}));void 0!==o&&s(o)}}),global.INPUT=CLASS(e=>{let t=[],n=e.getFocusingInputIds=(e=>{return t});return{preset:()=>{return DOM},params:()=>{return{tag:"input"}},init:(e,t,o)=>{let i,r,a,u,s,c,d,f,l,h,E,g,v,p,m,A,S,_,C;void 0!==o&&(i=o.name,r=o.type,a=o.placeholder,u=o.min,s=o.max,c=o.step,d=o.accept,f=o.isMultiple,l=o.isOffAutocomplete,h=o.isOffAutocapitalize),void 0!==r&&e.setAttr({name:"type",value:r}),"submit"!==r&&"reset"!==r&&(void 0!==i&&e.setAttr({name:"name",value:i}),void 0!==a&&e.setAttr({name:"placeholder",value:a}),void 0!==d&&e.setAttr({name:"accept",value:d}),f===!0&&e.setAttr({name:"multiple",value:f}),l===!0&&e.setAttr({name:"autocomplete",value:"off"}),h===!0&&e.setAttr({name:"autocapitalize",value:"off"}),E=t.getName=(()=>{return i}),g=t.getValue=(()=>{return"checkbox"===r||"radio"===r?t.getEl().checked:t.getEl().value}),v=t.getFiles=(()=>{return t.getEl().files}),m=t.select=(()=>{"file"===r?t.getEl().click():t.getEl().select()}),A=t.focus=(()=>{t.getEl().focus()}),S=t.blur=(()=>{t.getEl().blur()}),"checkbox"!==r&&"radio"!==r||(_=t.toggleCheck=(e=>{return t.getEl().checked===!0?t.getEl().checked=!1:t.getEl().checked=!0,EVENT.fireAll({node:t,name:"change"}),t.getEl().checked}),C=t.checkIsChecked=(()=>{return t.getEl().checked}),EVENT({node:t,name:"keyup"},e=>{void 0!==e&&"Enter"===e.getKey()&&DELAY(()=>{EVENT.fireAll({node:t,name:"change"})})}))),"range"===r&&(void 0!==u&&e.setAttr({name:"min",value:u}),void 0!==s&&e.setAttr({name:"max",value:s}),void 0!==c&&e.setAttr({name:"step",value:c})),t.setValue=p=(e=>{"checkbox"===r||"radio"===r?e===!0?t.getEl().checked!==!0?(t.getEl().checked=!0,EVENT.fireAll({node:t,name:"change"})):t.getEl().checked=!0:t.getEl().checked===!0?(t.getEl().checked=!1,EVENT.fireAll({node:t,name:"change"})):t.getEl().checked=!1:t.getEl().value!==e?(t.getEl().value=e,EVENT.fireAll({node:t,name:"change"})):t.getEl().value=e}),EVENT({node:t,name:"focus"},()=>{n().push(t.id)}),EVENT({node:t,name:"blur"},()=>{REMOVE({array:n(),value:t.id})}),t.on("remove",()=>{REMOVE({array:n(),value:t.id})}),"radio"===r&&EVENT({node:t,name:"touchstart"},()=>{C()===!0&&EVENT_ONCE({node:t,name:"touchend"},()=>{DELAY(()=>{p(!1)})})})},afterInit:(e,t,n)=>{let o,i;void 0!==n&&(o=n.type,i=n.value),void 0!==i&&("checkbox"===o||"radio"===o?i===!0?t.getEl().checked!==!0?t.getEl().checked=!0:t.getEl().checked=!0:t.getEl().checked===!0?t.getEl().checked=!1:t.getEl().checked=!1:t.getEl().value!==i?t.getEl().value=i:t.getEl().value=i)}}}),global.LI=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"li"}}}),global.OPTGROUP=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"optgroup"}},init:(e,t,n)=>{let o=n.label;e.setAttr({name:"label",value:o})}}),global.OPTION=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"option"}},init:(e,t,n)=>{t.getValue=(()=>{return t.getEl().value}),t.setValue=(e=>{t.getEl().value=e})},afterInit:(e,t,n)=>{let o,i;void 0!==n&&(o=n.value,i=n.c),void 0===o?t.setValue(""):(t.setValue(o),void 0===i&&t.append(o))}}),global.P=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"p"}}}),global.SELECT=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"select"}},init:(e,t,n)=>{let o,i=!1;void 0!==n&&(o=n.name),void 0!==o&&e.setAttr({name:"name",value:o}),t.getName=(()=>{return o}),t.getValue=(()=>{return t.getEl().value}),t.setValue=(e=>{t.getEl().value!==e?(t.getEl().value=e,EVENT.fireAll({node:t,name:"change"})):t.getEl().value=e}),t.select=(()=>{t.getEl().select()}),t.focus=(()=>{t.getEl().focus()}),t.blur=(()=>{t.getEl().blur()}),EVENT({node:t,name:"keydown"},e=>{"Control"===e.getKey()?i=!0:i!==!0&&e.stopBubbling()}),EVENT({node:t,name:"keyup"},e=>{"Control"===e.getKey()&&(i=!1)}),EVENT({node:t,name:"focus"},()=>{INPUT.getFocusingInputIds().push(t.id)}),EVENT({node:t,name:"blur"},()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:t.id})}),t.on("remove",()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:t.id})})},afterInit:(e,t,n)=>{let o;void 0!==n&&(o=n.value),void 0!==o&&(t.getEl().value!==o?t.getEl().value=o:t.getEl().value=o)}}),global.SPAN=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"span"}}}),global.TABLE=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"table"}}}),global.TD=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"td"}},init:(e,t,n)=>{let o,i;void 0!==n&&(o=n.rowspan,i=n.colspan),void 0!==o&&e.setAttr({name:"rowspan",value:o}),void 0!==i&&e.setAttr({name:"colspan",value:i})}}),global.TEXTAREA=CLASS({
preset:()=>{return DOM},params:()=>{return{tag:"textarea"}},init:(e,t,n)=>{let o,i,r=!1;void 0!==n&&(o=n.name,i=n.placeholder),void 0!==o&&e.setAttr({name:"name",value:o}),void 0!==i&&e.setAttr({name:"placeholder",value:i}),t.getName=(()=>{return o}),t.getValue=(()=>{return t.getEl().value}),t.setValue=(e=>{t.getEl().value!==e?(t.getEl().value=e,EVENT.fireAll({node:t,name:"change"})):t.getEl().value=e}),t.select=(()=>{t.getEl().select()}),t.focus=(()=>{t.getEl().focus()}),t.blur=(()=>{t.getEl().blur()}),EVENT({node:t,name:"keydown"},e=>{"Control"===e.getKey()?r=!0:r!==!0&&e.stopBubbling()}),EVENT({node:t,name:"keyup"},e=>{"Control"===e.getKey()&&(r=!1)}),EVENT({node:t,name:"focus"},()=>{INPUT.getFocusingInputIds().push(t.id)}),EVENT({node:t,name:"blur"},()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:t.id})}),t.on("remove",()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:t.id})})},afterInit:(e,t,n)=>{let o;void 0!==n&&(o=n.value),void 0!==o&&t.setValue(o)}}),global.TH=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"th"}},init:(e,t,n)=>{let o,i;void 0!==n&&(o=n.rowspan,i=n.colspan),void 0!==o&&e.setAttr({name:"rowspan",value:o}),void 0!==i&&e.setAttr({name:"colspan",value:i})}}),global.TR=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"tr"}}}),global.UL=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"ul"}}}),global.VIDEO=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"video"}},init:(e,t,n)=>{let o=n.webm,i=n.ogg,r=n.mp4,a=(n.poster,n.isNoControls),u=n.isLoop,s=n.isMuted;void 0!==o&&""!==t.getEl().canPlayType("video/webm")?t.getEl().src=o:void 0!==i&&""!==t.getEl().canPlayType("video/ogg")?t.getEl().src=i:void 0!==r&&(t.getEl().src=r),a!==!0&&e.setAttr({name:"controls",value:"controls"}),u===!0&&e.setAttr({name:"loop",value:"loop"}),s===!0&&e.setAttr({name:"muted",value:"muted"}),t.play=(()=>{t.getEl().play()}),t.pause=(()=>{t.getEl().pause()}),t.stop=(()=>{t.getEl().pause(),t.getEl().currentTime=0})}}),global.ENCRYPTION_DELETE=METHOD({run:(e,t)=>{ENCRYPTION_REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{url:e},{method:"DELETE"}]),t)}}),global.ENCRYPTION_GET=METHOD({run:(e,t)=>{ENCRYPTION_REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{url:e},{method:"GET"}]),t)}}),global.ENCRYPTION_POST=METHOD({run:(e,t)=>{ENCRYPTION_REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{url:e},{method:"POST"}]),t)}}),global.ENCRYPTION_PUT=METHOD({run:(e,t)=>{ENCRYPTION_REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{url:e},{method:"PUT"}]),t)}}),global.ENCRYPTION_REQUEST=METHOD({run:(e,t)=>{let n,o,i=e.method,r=void 0===e.isSecure?BROWSER_CONFIG.isSecure:e.isSecure,a=void 0===e.host?BROWSER_CONFIG.host:e.host,u=void 0===e.port?void 0===e.host?BROWSER_CONFIG.port:r!==!0?80:443:e.port,s=e.uri,c=e.url,d=e.paramStr,f=e.params,l=e.data,h=e.headers;i=i.toUpperCase(),void 0!==c?(c.indexOf("?")!==-1&&(d=c.substring(c.indexOf("?")+1)+(void 0===d?"":"&"+d),c=c.substring(0,c.indexOf("?"))),r=void 0,a=void 0,u=void 0):void 0!==s&&s.indexOf("?")!==-1&&(d=s.substring(s.indexOf("?")+1)+(void 0===d?"":"&"+d),s=s.substring(0,s.indexOf("?"))),void 0!==f&&EACH(f,(e,t)=>{void 0===d?d="":d+="&",d+=encodeURIComponent(t)+"="+encodeURIComponent(e)}),void 0!==l&&(d=(void 0===d?"":d+"&")+"__DATA="+encodeURIComponent(STRINGIFY(l))),d=(void 0===d?"":d+"&")+Date.now(),d+="&__SEED="+UUID(),d="__ENCRYPT="+encodeURIComponent(ENCRYPT({password:d,key:CONFIG.requestEncryptionKey})),void 0===c&&(c=(r===!0?"https://":"http://")+a+":"+u+"/"+(void 0===s?"":"/"===s[0]?s.substring(1):s)),CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,o=t.error),("GET"===i||"DELETE"===i?fetch(c+"?"+d,{method:i,credentials:"file:"!==location.protocol&&a===BROWSER_CONFIG.host&&u===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)}):fetch(c,{method:i,body:d,credentials:"file:"!==location.protocol&&a===BROWSER_CONFIG.host&&u===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)})).then(t=>{if(200===t.status)return t.text();{let n="HTTP RESPONSE STATUS CODE: "+t.status;void 0!==o?o(n):SHOW_ERROR("ENCRYPTION_REQUEST",n,e)}},t=>{let i=t.toString();void 0!==o?o(i):SHOW_ERROR("ENCRYPTION_REQUEST",i,e),n=void 0}).then(e=>{void 0!==e&&void 0!==n&&n(e)})}}),!function(e,t,n){e[t]=n()}(global,"bowser",function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}function o(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var i,r=t(/(ipod|iphone|ipad)/i).toLowerCase(),u=/like android/i.test(e),s=!u&&/android/i.test(e),c=/nexus\s*[0-6]\s*/i.test(e),d=!c&&/nexus\s*[0-9]+/i.test(e),f=/CrOS/.test(e),l=/silk/i.test(e),h=/sailfish/i.test(e),E=/tizen/i.test(e),g=/(web|hpw)os/i.test(e),v=/windows phone/i.test(e),p=(/SamsungBrowser/i.test(e),!v&&/windows/i.test(e)),m=!r&&!l&&/macintosh/i.test(e),A=!s&&!h&&!E&&!g&&/linux/i.test(e),S=t(/edge\/(\d+(\.\d+)?)/i),_=t(/version\/(\d+(\.\d+)?)/i),C=/tablet/i.test(e)&&!/tablet pc/i.test(e),T=!C&&/[^-]mobi/i.test(e),O=/xbox/i.test(e);/opera/i.test(e)?i={name:"Opera",opera:a,version:_||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?i={name:"Opera",opera:a,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(e)?i={name:"Samsung Internet for Android",samsungBrowser:a,version:_||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?i={name:"Opera Coast",coast:a,version:_||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?i={name:"Yandex Browser",yandexbrowser:a,version:_||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:"UC Browser",ucbrowser:a,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?i={name:"Maxthon",maxthon:a,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?i={name:"Epiphany",epiphany:a,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?i={name:"Puffin",puffin:a,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?i={name:"Sleipnir",sleipnir:a,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?i={name:"K-Meleon",kMeleon:a,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:a},S?(i.msedge=a,i.version=S):(i.msie=a,i.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:a,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?i={name:"Chrome",osname:"Chrome OS",chromeos:a,chromeBook:a,chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?i={name:"Microsoft Edge",msedge:a,version:S}:/vivaldi/i.test(e)?i={name:"Vivaldi",vivaldi:a,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||_}:h?i={name:"Sailfish",osname:"Sailfish OS",sailfish:a,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:a,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:"Firefox",firefox:a,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=a,i.osname="Firefox OS")):l?i={name:"Amazon Silk",silk:a,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:a,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?i={name:"SlimerJS",slimer:a,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:a,version:_||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:g?(i={name:"WebOS",osname:"WebOS",webos:a,version:_||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=a)):/bada/i.test(e)?i={name:"Bada",osname:"Bada",bada:a,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:E?i={name:"Tizen",osname:"Tizen",tizen:a,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(e)?i={name:"QupZilla",qupzilla:a,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(e)?i={name:"Chromium",chromium:a,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?i={name:"Android",version:_}:/safari|applewebkit/i.test(e)?(i={name:"Safari",safari:a},_&&(i.version=_)):r?(i={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},_&&(i.version=_)):i=/googlebot/i.test(e)?{name:"Googlebot",googlebot:a,version:t(/googlebot\/(\d+(\.\d+))/i)||_}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(i.name=i.name||"Blink",i.blink=a):(i.name=i.name||"Webkit",i.webkit=a),!i.version&&_&&(i.version=_)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=a,i.version=i.version||t(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||i.msedge||!s&&!i.silk?i.windowsphone||i.msedge||!r?m?(i.mac=a,i.osname="macOS"):O?(i.xbox=a,i.osname="Xbox"):p?(i.windows=a,i.osname="Windows"):A&&(i.linux=a,i.osname="Linux"):(i[r]=a,i.ios=a,i.osname="iOS"):(i.android=a,i.osname="Android");var R="";i.windows?R=o(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?R=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?(R=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),R=R.replace(/[_\s]/g,".")):r?(R=t(/os (\d+([_\s]\d+)*) like mac os x/i),R=R.replace(/[_\s]/g,".")):s?R=t(/android[ \/-](\d+(\.\d+)*)/i):i.webos?R=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?R=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?R=t(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(R=t(/tizen[\/\s](\d+(\.\d+)*)/i)),R&&(i.osversion=R);var y=!i.windows&&R.split(".")[0];return C||d||"ipad"==r||s&&(3==y||y>=4&&!T)||i.silk?i.tablet=a:(T||"iphone"==r||"ipod"==r||s||c||i.blackberry||i.webos||i.bada)&&(i.mobile=a),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=a:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=a:i.x=a,i}function t(e){return e.split(".").length}function n(e,t){var n,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)o.push(t(e[n]));return o}function o(e){for(var o=Math.max(t(e[0]),t(e[1])),i=n(e,function(e){var i=o-t(e);return e+=new Array(i+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--o>=0;){if(i[0][o]>i[1][o])return 1;if(i[0][o]!==i[1][o])return-1;if(0===o)return 0}}function i(t,n,i){var r=u;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(r=e(i));var a=""+r.version;for(var s in t)if(t.hasOwnProperty(s)&&r[s]){if("string"!=typeof t[s])throw new Error("Browser version in the minVersion map should be a string: "+s+": "+String(t));return o([a,t[s]])<0}return n}function r(e,t,n){return!i(e,t,n)}var a=!0,u=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return u.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in u)return!0}return!1},u.isUnsupportedBrowser=i,u.compareVersions=o,u.check=r,u._detect=e,u}),window.AudioContext=window.AudioContext||window.webkitAudioContext,void 0!==window.AudioContext){window.OfflineAudioContext=window.OfflineAudioContext||window.webkitOfflineAudioContext;let e=AudioContext.prototype,t=new AudioContext,n=(e,t)=>{return void 0===e&&void 0!==t},o=t.createBufferSource().constructor.prototype;if(n(o.start,o.noteOn)||n(o.stop,o.noteOff)){let t=e.createBufferSource;e.createBufferSource=function(){let e=t.call(this);return e.start=e.start||e.noteOn,e.stop=e.stop||e.noteOff,e}}if("function"==typeof t.createOscillator){let o=t.createOscillator().constructor.prototype;if(n(o.start,o.noteOn)||n(o.stop,o.noteOff)){let t=e.createOscillator;e.createOscillator=function(){let e=t.call(this);return e.start=e.start||e.noteOn,e.stop=e.stop||e.noteOff,e}}}if(void 0===e.createGain&&void 0!==e.createGainNode&&(e.createGain=e.createGainNode),void 0===e.createDelay&&void 0!==e.createDelayNode&&(e.createDelay=e.createGainNode),void 0===e.createScriptProcessor&&void 0!==e.createJavaScriptNode&&(e.createScriptProcessor=e.createJavaScriptNode),navigator.userAgent.indexOf("like Mac OS X")!==-1){let e=AudioContext;window.AudioContext=function(){let t=new e,n=document.body,o=t.createBufferSource(),i=t.createScriptProcessor(256,1,1),r=()=>{o.start(0),o.connect(i),i.connect(t.destination)};return n.addEventListener("touchstart",r,!1),i.onaudioprocess=(()=>{o.disconnect(),i.disconnect(),n.removeEventListener("touchstart",r,!1),i.onaudioprocess=null}),t}}}global.DELETE=METHOD({run:(e,t)=>{REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{url:e},{method:"DELETE"}]),t)}}),global.GET=METHOD({run:(e,t)=>{REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{url:e},{method:"GET"}]),t)}}),global.POST=METHOD({run:(e,t)=>{REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{url:e},{method:"POST"}]),t)}}),global.PUT=METHOD({run:(e,t)=>{REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{url:e},{method:"PUT"}]),t)}}),global.REQUEST=METHOD({run:(e,t)=>{let n,o,i=e.method,r=void 0===e.isSecure?BROWSER_CONFIG.isSecure:e.isSecure,a=void 0===e.host?BROWSER_CONFIG.host:e.host,u=void 0===e.port?void 0===e.host?BROWSER_CONFIG.port:r!==!0?80:443:e.port,s=e.uri,c=e.url,d=e.paramStr,f=e.params,l=e.data,h=e.headers;i=i.toUpperCase(),void 0!==c?(c.indexOf("?")!==-1&&(d=c.substring(c.indexOf("?")+1)+(void 0===d?"":"&"+d),c=c.substring(0,c.indexOf("?"))),r=void 0,a=void 0,u=void 0):void 0!==s&&s.indexOf("?")!==-1&&(d=s.substring(s.indexOf("?")+1)+(void 0===d?"":"&"+d),s=s.substring(0,s.indexOf("?"))),void 0!==f&&EACH(f,(e,t)=>{void 0===d?d="":d+="&",d+=encodeURIComponent(t)+"="+encodeURIComponent(e)}),void 0!==l&&(d=(void 0===d?"":d+"&")+"__DATA="+encodeURIComponent(STRINGIFY(l))),d=(void 0===d?"":d+"&")+Date.now(),void 0===c&&(c=(r===!0?"https://":"http://")+a+":"+u+"/"+(void 0===s?"":"/"===s[0]?s.substring(1):s)),CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,o=t.error),("GET"===i||"DELETE"===i?fetch("data:"===c.substring(0,5)?c:c+"?"+d,{method:i,credentials:"file:"!==location.protocol&&a===BROWSER_CONFIG.host&&u===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)}):fetch(c,{method:i,body:d,credentials:"file:"!==location.protocol&&a===BROWSER_CONFIG.host&&u===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)})).then(t=>{if(200===t.status)return t.text();{let n="HTTP RESPONSE STATUS CODE: "+t.status;void 0!==o?o(n):SHOW_ERROR("REQUEST",n,e)}},t=>{let i=t.toString();void 0!==o?o(i):SHOW_ERROR("REQUEST",i,e),n=void 0}).then(e=>{void 0!==e&&void 0!==n&&n(e)})}}),global.GO=METHOD(e=>{let t;return{run:e=>{let n,o;CHECK_IS_DATA(e)!==!0?n=e:(n=e.uri,o=e.data),void 0===t&&(t=!1,EVENT("keydown",e=>{"Control"===e.getKey()&&(t=!0)}),EVENT("keyup",e=>{"Control"===e.getKey()&&(t=!1)})),t===!0?(GO_NEW_WIN(n),t=!1):(MATCH_VIEW.setURIData(o),"file:"===location.protocol?location.href=HREF(n):history.pushState(void 0,void 0,HREF(n)),MATCH_VIEW.checkAll())}}}),FOR_BOX(e=>{e.GO=METHOD({run:t=>{let n,o;CHECK_IS_DATA(t)!==!0?n=t:(n=t.uri,o=t.data),GO({uri:(e.boxName===CONFIG.defaultBoxName?"":e.boxName+"/")+n,data:o})}})}),global.GO_NEW_WIN=METHOD({run:e=>{global.open(HREF(e))}}),FOR_BOX(e=>{e.GO_NEW_WIN=METHOD({run:t=>{GO_NEW_WIN((e.boxName===CONFIG.defaultBoxName?"":e.boxName+"/")+t)}})}),global.HREF=METHOD({run:e=>{return"file:"===location.protocol?"#!/"+e:"/"+e}}),FOR_BOX(e=>{e.HREF=METHOD({run:t=>{return HREF((e.boxName===CONFIG.defaultBoxName?"":e.boxName+"/")+(void 0===t?"":t))}})}),global.MATCH_VIEW=METHOD(e=>{let t,n=[];return e.checkAll=(()=>{EACH(n,e=>{e()})}),e.setURIData=(e=>{t=e}),{run:e=>{let o,i,r=e.uri,a=e.excludeURI,u=e.target,s=URI_MATCHER(r),c=void 0===a?void 0:URI_MATCHER(a),d=()=>{let e,n=URI();if(n===REFRESH.getRefreshingURI()||(e=s.check(n)).checkIsMatched()!==!0||void 0!==a&&c.check(n).checkIsMatched()===!0)void 0!==o&&(o.close(),o=void 0,u.lastView=void 0);else{let r=e.getURIParams();void 0===o?(o=u(t),o.changeParams(r),u.lastView=o,i=r):CHECK_ARE_SAME([i,r])!==!0&&(o.changeParams(r),i=r),o.runURIChangeHandlers(n),DELAY(()=>{t=void 0})}};n.push(d),"file:"===location.protocol?EVENT("hashchange",()=>{d()}):EVENT("popstate",()=>{d()}),d()}}}),FOR_BOX(e=>{e.MATCH_VIEW=METHOD({run:t=>{let n=t.uri,o=t.excludeURI,i=t.target,r=[],a=[],u=t=>{e.boxName===CONFIG.defaultBoxName&&r.push(t),r.push(e.boxName+"/"+t),r.push(e.boxName.toLowerCase()+"/"+t)},s=t=>{e.boxName===CONFIG.defaultBoxName&&a.push(t),a.push(e.boxName+"/"+t),a.push(e.boxName.toLowerCase()+"/"+t)};CHECK_IS_ARRAY(n)===!0?EACH(n,u):u(n),void 0!==o&&(CHECK_IS_ARRAY(o)===!0?EACH(o,s):s(o)),MATCH_VIEW({uri:r,excludeURI:a,target:i})}})}),global.REFRESH=METHOD(e=>{const t="__REFRESHING";let n=e.getRefreshingURI=(()=>{return t});return{run:e=>{if("file:"===location.protocol){let t=void 0!==e?"#!/"+e:location.hash;EVENT_ONCE({name:"hashchange"},()=>{location.replace(""===t?"#!/":t),history.back()}),location.href="#!/"+n()}else{let t=void 0!==e?e:location.pathname.substring(1);history.pushState(void 0,void 0,"/__REFRESHING"),MATCH_VIEW.checkAll(),history.replaceState(void 0,void 0,"/"+t),MATCH_VIEW.checkAll(),history.back()}}}}),FOR_BOX(e=>{e.REFRESH=METHOD({run:t=>{REFRESH((e.boxName===CONFIG.defaultBoxName?"":e.boxName+"/")+(void 0===t?"":t))}})}),global.URI=METHOD({run:()=>{return"file:"===location.protocol?location.hash.substring(3):decodeURIComponent(location.pathname.substring(1))}}),global.VIEW=CLASS({init:(e,t)=>{let n,o,i=!1,r=[],a=[],u=[];e.on=((e,t)=>{"paramsChange"===e&&(r.push(t),void 0!==n&&t(n)),"uriChange"===e?(a.push(t),void 0!==o&&t(o)):"close"===e&&u.push(t)}),t.changeParams=(e=>{n=e,EACH(r,t=>{t(e)})}),t.runURIChangeHandlers=(e=>{o=e,EACH(a,t=>{t(e)})}),t.close=(()=>{EACH(u,e=>{e()}),i=!0}),e.checkIsClosed=(()=>{return i}),scrollTo(0,0)}}),global.SCROLL_LEFT=METHOD({run:()=>{return global.pageXOffset}}),global.SCROLL_TOP=METHOD({run:()=>{return global.pageYOffset}}),global.TITLE=METHOD({run:e=>{return void 0===e?document.title:void(document.title=e)}}),global.WIN_HEIGHT=METHOD({run:()=>{return window.innerHeight}}),global.WIN_WIDTH=METHOD({run:()=>{return document.documentElement.clientWidth}}),global.CONNECT_TO_ROOM_SERVER=METHOD(e=>{const t="__";let n={},o={},i={},r={},a={},u={},s={};return e.checkIsConnected=(e=>{return void 0===e&&(e=t),void 0===r[e]&&(r[e]=!1),r[e]}),e.enterRoom=(e=>{let o=e.roomServerName,i=e.roomName;void 0===o&&(o=t);let r=n[o];void 0===r&&(r=n[o]=[]),r.push(i),void 0!==s[o]&&s[o]({methodName:"__ENTER_ROOM",data:i})}),e.on=((e,n)=>{let i=e.roomServerName,r=e.methodName;void 0===i&&(i=t);let u=o[i];void 0===u&&(u=o[i]=[]),u.push({methodName:r,method:n}),void 0!==a[i]&&a[i](r,n)}),e.off=((e,n)=>{let i=e.roomServerName,r=e.methodName;void 0===i&&(i=t);let a=o[i];void 0!==u[i]&&u[i](r,n),void 0!==a&&(void 0!==n?REMOVE(a,e=>{return e.methodName===r&&e.method===n}):REMOVE(a,e=>{return e.methodName===r}),0===a.length&&delete o[i])}),e.send=((e,n)=>{let o=e.roomServerName,r=e.methodName,a=e.data;if(void 0===o&&(o=t),void 0===s[o]){let e=i[o];void 0===e&&(e=i[o]=[]),e.push({params:{methodName:r,data:a},callback:n})}else s[o]({methodName:r,data:a},n)}),e.exitRoom=(e=>{let o=e.roomServerName,i=e.roomName;void 0===o&&(o=t);let r=n[o];void 0===r&&(r=n[o]=[]),void 0!==s[o]&&s[o]({methodName:"__EXIT_ROOM",data:i}),EACH(r,(e,t)=>{if(e===i)return REMOVE({array:r,key:t}),!1})}),{run:(e,c)=>{let d,f,l=e.roomServerName;void 0===l&&(l=t),void 0!==c&&(CHECK_IS_DATA(c)!==!0?d=c:(d=c.success,f=c.error)),CONNECT_TO_WEB_SOCKET_SERVER({isSecure:e.isSecure,host:e.host,port:e.port},{error:f,success:(e,t,c)=>{let f=n[l],h=o[l],E=i[l];a[l]=e,u[l]=t,s[l]=c,void 0!==f&&EACH(f,e=>{c({methodName:"__ENTER_ROOM",data:e})}),void 0!==h&&EACH(h,t=>{e(t.methodName,t.method)}),void 0!==E&&EACH(E,e=>{c(e.params,e.callback)}),delete i[l],void 0!==d&&d(e,t,c),r[l]=!0,e("__DISCONNECTED",()=>{delete a[l],delete u[l],delete s[l],r[l]=!1})}})}}}),FOR_BOX(e=>{e.ROOM=CLASS({init:(t,n,o)=>{let i,r,a,u={};CHECK_IS_DATA(o)!==!0?r=e.boxName+"/"+o:(i=o.roomServerName,r=e.boxName+"/"+o.name),CONNECT_TO_ROOM_SERVER.enterRoom({roomServerName:i,roomName:r});let s=(t.getRoomName=(()=>{return r}),t.checkIsExited=(()=>{return a}),n.on=((e,t)=>{let n=u[e];CONNECT_TO_ROOM_SERVER.on({roomServerName:i,methodName:r+"/"+e},t),void 0===n&&(n=u[e]=[]),n.push(t)}),n.off=((e,t)=>{let n=u[e];void 0!==n&&(void 0!==t?(CONNECT_TO_ROOM_SERVER.off({roomServerName:i,methodName:r+"/"+e},t),REMOVE({array:n,value:t}),0===n.length&&delete u[e]):(EACH(n,t=>{CONNECT_TO_ROOM_SERVER.off({roomServerName:i,methodName:r+"/"+e},t)}),delete u[e]))}));n.send=((t,n)=>{let o,u;CHECK_IS_DATA(t)!==!0?o=t:(o=t.methodName,u=t.data),a!==!0?CONNECT_TO_ROOM_SERVER.send({roomServerName:i,methodName:r+"/"+o,data:u},n):SHOW_ERROR(e.boxName+"."+r+"Room.send","이미 룸에서 나갔습니다.")}),n.exit=(()=>{a!==!0&&(CONNECT_TO_ROOM_SERVER.exitRoom({roomServerName:i,roomName:r}),EACH(u,(e,t)=>{s(t)}),u=void 0,a=!0)})}})}),FOR_BOX(e=>{e.MODEL=CLASS({init:(t,n,o)=>{n.getBoxName=(()=>{return e.boxName})}})}),FOR_BOX(e=>{OVERRIDE(e.MODEL,t=>{e.MODEL=CLASS(n=>{let o={},i=0;return n.getOnNewInfos=(()=>{return o}),{preset:()=>{return t},init:(t,n,r)=>{let a,u,s,c,d,f,l,h,E,g,v,p,m,A,S,_,C,T,O,R,y=r.roomServerName,N=r.name,I=r.initData,D=r.methodConfig,H=(r.isNotUsingObjectId,e.ROOM({roomServerName:y,name:N}));void 0!==D&&(a=D.create,u=D.get,s=D.update,c=D.remove,d=D.find,f=D.count,l=D.checkExists,void 0!==a&&(h=a.valid),void 0!==s&&(E=s.valid)),n.getName=(()=>{return N}),n.getInitData=(()=>{return I}),n.getCreateValid=(()=>{return h}),n.getUpdateValid=(()=>{return E}),n.getRoom=(()=>{return H}),a!==!1&&(g=n.create=((t,n)=>{let o,i,r,a,u;void 0!==n&&(CHECK_IS_DATA(n)!==!0?a=n:(o=n.error,i=n.notValid,r=n.notAuthed,a=n.success)),void 0!==I&&EACH(I,(e,n)=>{t[n]=e}),void 0!==h&&(u=h.checkAndWash(t)),void 0!==u&&u.checkHasError()===!0?void 0!==i?i(u.getErrors()):SHOW_WARNING(e.boxName+"."+N+"Model.create",MSG({ko:"데이터가 유효하지 않습니다."}),{data:t,validErrors:u.getErrors()}):H.send({methodName:"create",data:t},n=>{let u,s,c,d;void 0!==n?(u=n.errorMsg,s=n.validErrors,c=n.isNotAuthed,d=n.savedData,void 0!==u?void 0!==o?o(u):SHOW_ERROR(e.boxName+"."+N+"Model.create",u):void 0!==s?void 0!==i?i(s):SHOW_WARNING(e.boxName+"."+N+"Model.create",MSG({ko:"데이터가 유효하지 않습니다."}),{data:t,validErrors:s}):c===!0?void 0!==r?r():SHOW_WARNING(e.boxName+"."+N+"Model.create",MSG({ko:"인증되지 않았습니다."})):void 0!==a&&a(d)):void 0!==a&&a()})})),u!==!1&&(v=n.get=((t,n)=>{let o,i,r,a;void 0===n&&(n=t,t={}),CHECK_IS_DATA(n)!==!0?a=n:(o=n.error,i=n.notAuthed,r=n.notExists,a=n.success),H.send({methodName:"get",data:t},n=>{let u,s,c;void 0!==n&&(u=n.errorMsg,s=n.isNotAuthed,c=n.savedData),void 0!==u?void 0!==o?o(u):SHOW_ERROR(e.boxName+"."+N+"Model.get",u):s===!0?void 0!==i?i():SHOW_WARNING(e.boxName+"."+N+"Model.get",MSG({ko:"인증되지 않았습니다."})):void 0===c?void 0!==r?r():SHOW_WARNING(e.boxName+"."+N+"Model.get",MSG({ko:"데이터가 존재하지 않습니다."}),t):void 0!==a&&a(c)})}),p=n.getWatching=((t,o)=>{let i,r,a,u,s,c;return void 0===o&&(o=t,t={}),CHECK_IS_DATA(o)!==!0?u=o:(i=o.error,r=o.notAuthed,a=o.notExists,u=o.success),n.get(t,{error:i,notAuthed:r,notExists:a,success:t=>{let n;s!==!0&&(c=e.ROOM({roomServerName:y,name:N+"/"+t.id}),u(t,e=>{c.on("update",e)},e=>{c.on("remove",t=>{e(t),n()})},n=(()=>{void 0!==c&&(c.exit(),c=void 0)})))}}),OBJECT({init:(e,t)=>{t.exit=(()=>{void 0!==c&&c.exit(),s=!0})}})})),s!==!1&&(m=n.update=((t,n)=>{let o,i,r,a,u,s,c,d,f,l,h=t.id,g=t.$inc,v=t.$push,p=t.$pull;void 0!==n&&(CHECK_IS_DATA(n)!==!0?u=n:(o=n.error,i=n.notValid,r=n.notAuthed,a=n.notExists,u=n.success)),void 0!==E&&(s=E.checkForUpdate(t),void 0!==g&&(c=E.checkForUpdate(g)),void 0!==v&&(d=E.checkForUpdate(RUN(()=>{let e={};return EACH(v,(t,n)=>{e[n]=[t]}),e}))),void 0!==p&&(f=E.checkForUpdate(RUN(()=>{let e={};return EACH(p,(t,n)=>{e[n]=[t]}),e})))),t.id=h,t.$inc=g,t.$push=v,t.$pull=p,void 0!==E&&(s.checkHasError()===!0||void 0!==c&&c.checkHasError()===!0||void 0!==d&&d.checkHasError()===!0||void 0!==f&&f.checkHasError()===!0)?(l=COMBINE([s.getErrors(),void 0===c?{}:c.getErrors(),void 0===d?{}:d.getErrors(),void 0===f?{}:f.getErrors()]),void 0!==i?i(l):SHOW_WARNING(e.boxName+"."+N+"Model.update",MSG({ko:"데이터가 유효하지 않습니다."}),{data:t,validErrors:l})):H.send({methodName:"update",data:t},n=>{let s,c,d,f,l;void 0!==n&&(s=n.errorMsg,c=n.validErrors,d=n.isNotAuthed,f=n.savedData,l=n.originData),void 0!==s?void 0!==o?o(s):SHOW_ERROR(e.boxName+"."+N+"Model.update",s):void 0!==c?void 0!==i?i(c):SHOW_WARNING(e.boxName+"."+N+"Model.update",MSG({ko:"데이터가 유효하지 않습니다."}),{data:t,validErrors:c}):d===!0?void 0!==r?r():SHOW_WARNING(e.boxName+"."+N+"Model.update",MSG({ko:"인증되지 않았습니다."})):void 0===f?void 0!==a?a():SHOW_WARNING(e.boxName+"."+N+"Model.update",MSG({ko:"수정할 데이터가 존재하지 않습니다."}),t):void 0!==u&&u(f,l)})})),c!==!1&&(A=n.remove=((t,n)=>{let o,i,r,a;void 0!==n&&(CHECK_IS_DATA(n)!==!0?a=n:(o=n.error,i=n.notAuthed,r=n.notExists,a=n.success)),H.send({methodName:"remove",data:t},n=>{let u,s,c;void 0!==n&&(u=n.errorMsg,s=n.isNotAuthed,c=n.originData),void 0!==u?void 0!==o?o(u):SHOW_ERROR(e.boxName+"."+N+"Model.remove",u):s===!0?void 0!==i?i():SHOW_WARNING(e.boxName+"."+N+"Model.remove",MSG({ko:"인증되지 않았습니다."})):void 0===c?void 0!==r?r():SHOW_WARNING(e.boxName+"."+N+"Model.remove",MSG({ko:"삭제할 데이터가 존재하지 않습니다."}),t):void 0!==a&&a(c)})})),d!==!1&&(S=n.find=((t,n)=>{let o,i,r;void 0===n&&(n=t,t=void 0),CHECK_IS_DATA(n)!==!0?r=n:(o=n.error,i=n.notAuthed,r=n.success),H.send({methodName:"find",data:t},t=>{let n=t.errorMsg,a=t.isNotAuthed,u=t.savedDataSet;void 0!==n?void 0!==o?o(n):SHOW_ERROR(e.boxName+"."+N+"Model.find",n):a===!0?void 0!==i?i():SHOW_WARNING(e.boxName+"."+N+"Model.find",MSG({ko:"인증되지 않았습니다."})):r(u)})}),_=n.findWatching=((t,o)=>{let i,r,a,u,s={};return void 0===o&&(o=t,t=void 0),CHECK_IS_DATA(o)!==!0?a=o:(i=o.error,r=o.notAuthed,a=o.success),n.find(t,{success:t=>{let n;u!==!0&&(EACH(t,(t,n)=>{let o=t.id;s[o]=e.ROOM({roomServerName:y,name:N+"/"+o})}),a(t,(e,t)=>{s[e].on("update",t)},(e,t)=>{s[e].on("remove",o=>{t(o),n(e)})},n=(e=>{void 0!==s[e]&&(s[e].exit(),delete s[e])})))},notAuthed:r,error:i}),OBJECT({init:(e,t)=>{t.exit=(()=>{EACH(s,e=>{e.exit()}),u=!0})}})})),f!==!1&&(C=n.count=((t,n)=>{let o,i,r;void 0===n&&(n=t,t=void 0),CHECK_IS_DATA(n)!==!0?r=n:(o=n.error,i=n.notAuthed,r=n.success),H.send({methodName:"count",data:t},t=>{let n=t.errorMsg,a=t.isNotAuthed,u=t.count;void 0!==n?void 0!==o?o(n):SHOW_ERROR(e.boxName+"."+N+"Model.count",n):a===!0?void 0!==i?i():SHOW_WARNING(e.boxName+"."+N+"Model.count",MSG({ko:"인증되지 않았습니다."})):r(u)})})),l!==!1&&(T=n.checkExists=((t,n)=>{let o,i,r;void 0===n&&(n=t,t=void 0),CHECK_IS_DATA(n)!==!0?r=n:(o=n.error,i=n.notAuthed,r=n.success),H.send({methodName:"checkExists",data:t},t=>{let n=t.errorMsg,a=t.isNotAuthed,u=t.exists;void 0!==n?void 0!==o?o(n):SHOW_ERROR(e.boxName+"."+N+"Model.checkExists",n):a===!0?void 0!==i?i():SHOW_WARNING(e.boxName+"."+N+"Model.checkExists",MSG({ko:"인증되지 않았습니다."})):r(u)})}));let b=n.onNew=((t,n)=>{let r,a=i;if(i+=1,void 0===n)n=t,t=void 0,(r=e.ROOM({roomServerName:y,name:N+"/create"})).on("create",e=>{o[a].lastCreateTime=e.createTime,n(e)});else if(void 0===t)(r=e.ROOM({roomServerName:y,name:N+"/create"})).on("create",e=>{o[a].lastCreateTime=e.createTime,n(e)});else if(EACH(t,(i,u)=>{if(void 0!==i)return(r=e.ROOM({roomServerName:y,name:i===TO_DELETE?N+"/create":N+"/"+u+"/"+i+"/create"})).on("create",e=>{EACH(t,(t,n)=>{if(void 0!==t)if(t===TO_DELETE){if(void 0!==e[n])return!1}else if(e[n]!==t)return!1})===!0&&(o[a].lastCreateTime=e.createTime,n(e))}),!1}),void 0===r)return void b(void 0,n);return o[a]={findMissingDataSet:()=>{void 0!==o[a].lastCreateTime&&void 0!==S&&S({filter:void 0!==t?COMBINE([t,{createTime:{$gt:o[a].lastCreateTime}}]):{createTime:{$gt:o[a].lastCreateTime}}},REVERSE_EACH(n))}},OBJECT({init:(e,t)=>{t.exit=(()=>{delete o[a],void 0!==r&&r.exit()})}})}),w=n.onNewWatching=((t,n)=>{let r,a=i,u=[],s=t=>{let o,i,r=t.id;u.push(o=e.ROOM({roomServerName:y,name:N+"/"+r})),n(t,e=>{o.on("update",e)},e=>{o.on("remove",t=>{e(t),i()})},i=(()=>{o.exit(),REMOVE({array:u,value:o})}))};if(i+=1,void 0===n)n=t,t=void 0,(r=e.ROOM({roomServerName:y,name:N+"/create"})).on("create",e=>{o[a].lastCreateTime=e.createTime,s(e)});else if(void 0===t)(r=e.ROOM({roomServerName:y,name:N+"/create"})).on("create",e=>{o[a].lastCreateTime=e.createTime,s(e)});else if(EACH(t,(n,i)=>{if(void 0!==n)return(r=e.ROOM({roomServerName:y,name:n===TO_DELETE?N+"/create":N+"/"+i+"/"+n+"/create"})).on("create",e=>{EACH(t,(t,n)=>{if(void 0!==t)if(t===TO_DELETE){if(void 0!==e[n])return!1}else if(e[n]!==t)return!1})===!0&&(o[a].lastCreateTime=e.createTime,s(e))}),!1}),void 0===r)return void w(void 0,n);return o[a]={findMissingDataSet:()=>{void 0!==o[a].lastCreateTime&&void 0!==S&&S({filter:void 0!==t?COMBINE([t,{createTime:{$gt:o[a].lastCreateTime}}]):{createTime:{$gt:o[a].lastCreateTime}}},REVERSE_EACH(s))}},OBJECT({init:(e,t)=>{t.exit=(()=>{delete o[a],void 0!==r&&r.exit(),EACH(u,e=>{e.exit()})})}})});d!==!1&&(O=n.onNewAndFind=((e,t)=>{let n,o,i,r,a,u,s,c,d,f,l;return void 0===t&&(t=e,e=void 0),void 0!==e&&(n=e.properties,o=e.filter,i=e.sort,r=e.start,a=e.count,u=e.isNotOnNew),CHECK_IS_DATA(t)!==!0?l=t:(c=t.error,d=t.notAuthed,f=t.success,l=t.handler),u!==!0&&(s=b(n,e=>{l(e,!0)})),S({filter:COMBINE([n,o]),sort:i,start:r,count:a},{success:e=>{void 0!==f&&f(e),REVERSE_EACH(e,e=>{l(e,!1)})},notAuthed:d,error:c}),OBJECT({init:(e,t)=>{t.exit=(()=>{void 0!==s&&s.exit()})}})}),R=n.onNewAndFindWatching=((e,t)=>{let n,o,i,r,a,u,s,c,d,f,l,h;return void 0===t&&(t=e,e=void 0),void 0!==e&&(n=e.properties,o=e.filter,i=e.sort,r=e.start,a=e.count,u=e.isNotOnNew),CHECK_IS_DATA(t)!==!0?f=t:(s=t.error,c=t.notAuthed,d=t.success,f=t.handler),u!==!0&&(l=w(n,(e,t,n,o)=>{f(e,t,n,o,!0)})),h=_({filter:COMBINE([n,o]),sort:i,start:r,count:a},{success:(e,t,n,o)=>{void 0!==d&&d(e,t,n,o),REVERSE_EACH(e,e=>{f(e,n=>{t(e.id,n)},t=>{n(e.id,t)},()=>{o(e.id)},!1)})},notAuthed:c,error:s}),OBJECT({init:(e,t)=>{t.exit=(()=>{void 0!==l&&l.exit(),h.exit()})}})})),n.onRemove=((t,n)=>{let o;return void 0===n?(n=t,(o=e.ROOM({roomServerName:y,name:N+"/remove"})).on("remove",n)):EACH(t,(i,r)=>{if(void 0!==i)return(o=e.ROOM({roomServerName:y,name:N+"/"+r+"/"+i+"/remove"})).on("remove",e=>{EACH(t,(t,n)=>{if(void 0!==t)if(t===TO_DELETE){if(void 0!==e[n])return!1}else if(e[n]!==t)return!1})===!0&&n(e)}),!1}),OBJECT({init:(e,t)=>{t.exit=(()=>{void 0!==o&&o.exit()})}})})}}})})}),OVERRIDE(CONFIG,e=>{global.CONFIG=COMBINE([{defaultBoxName:"UPPERCASE",title:"UPPERCASE PROJECT"},e])}),OVERRIDE(BROWSER_CONFIG,e=>{global.BROWSER_CONFIG=COMBINE([{},e])}),global.CONNECT_TO_UPPERCASE_SERVER=METHOD({run:(e,t)=>{let n,o,i,r,a,u;void 0===t?void 0!==e&&(CHECK_IS_DATA(e)!==!0?a=e:(n=e.roomServerName,o=e.webServerHost,i=e.webServerPort,r=e.isSecure,a=e.success,u=e.error)):(void 0!==e&&(n=e.roomServerName,o=e.webServerHost,i=e.webServerPort,r=e.isSecure),CHECK_IS_DATA(t)!==!0?a=t:(a=t.success,u=t.error)),void 0===o&&(o=BROWSER_CONFIG.host),void 0===i&&(i=BROWSER_CONFIG.port),void 0===r&&(r=BROWSER_CONFIG.isSecure),GET({isSecure:r,host:o,port:i,uri:"__WEB_SOCKET_SERVER_HOST",paramStr:"defaultHost="+o},{error:u,success:e=>{CONNECT_TO_ROOM_SERVER({roomServerName:n,isSecure:r,host:e,port:i},(e,t,n)=>{FOR_BOX(e=>{EACH(e.MODEL.getOnNewInfos(),e=>{e.findMissingDataSet()})}),e("__DISCONNECTED",()=>{FOR_BOX(e=>{EACH(e.MODEL.getOnNewInfos(),e=>{e.lastCreateTime=SERVER_TIME(new Date)})})}),void 0!==a&&a(e,t,n)})}})}}),FOR_BOX(e=>{e.R=METHOD(t=>{let n;return t.setBasePath=(e=>{n=e}),{run:(t,o)=>{let i=e.boxName+"/R/"+t;return void 0!==CONFIG.version&&(i+="?version="+CONFIG.version),
void 0!==n&&(i=n+"/"+i),"file:"===location.protocol?e.boxName!==CONFIG.defaultBoxName&&(i="BOX/"+i):i="/"+i,void 0!==o&&GET(i,o),i}}})}),FOR_BOX(e=>{e.RF=METHOD({run:t=>{return"file:"===location.protocol?(BROWSER_CONFIG.isSecure===!0?"https://":"http://")+BROWSER_CONFIG.host+":"+BROWSER_CONFIG.port+"/__RF/"+e.boxName+"/"+t:"/__RF/"+e.boxName+"/"+t}})}),global.SERVER_TIME=METHOD(e=>{let t=0;return e.setDiff=(e=>{t=e}),{run:e=>{return new Date(e.getTime()-t)}}}),global.SYNC_TIME=METHOD({run:()=>{let e=UPPERCASE.ROOM("timeSyncRoom");e.send({methodName:"sync",data:new Date},t=>{TIME.setDiff(t),SERVER_TIME.setDiff(t),e.exit()})}}),global.TIME=METHOD(e=>{let t=0;return e.setDiff=(e=>{t=e}),{run:e=>{return new Date(e.getTime()+t)}}}),EXTEND({origin:CONFIG,extend:{defaultBoxName:"DPlayInventory",title:"DPlay Inventory",isDevMode:!1,webServerPort:8620}}),CONFIG.version="V1561025697912",EXTEND({origin:BROWSER_CONFIG,extend:{isNotConnectToServer:!0}}),BOX("UPPERCASE"),BOX("DPlayInventory"),BOX("UANI"),BOX("UUI"),DPlayInventory.Home=CLASS({preset:()=>{return VIEW},init:(e,t)=>{let n=DIV({c:["test"]});DPlayInventory.Layout.setContent(n),e.on("close",()=>{n.remove()})}}),DPlayInventory.Layout=OBJECT({init:(e,t)=>{let n;DIV({style:{margin:"auto",width:376,height:568,backgroundImage:"/DPlayInventory/R/background.png",backgroundSize:"cover"},c:[DIV({style:{padding:10},c:[IMG({style:{flt:"left",color:"#707474",fontWeight:"bold"},src:"/DPlayInventory/R/dplaylogo.png"}),SPAN({style:{marginLeft:5,marginTop:6,flt:"left",color:"#707474",fontWeight:"bold"},c:"보관함"}),CLEAR_BOTH()]}),n=DIV({style:{width:364,height:454,backgroundImage:"/DPlayInventory/R/wallet.png",backgroundSize:"cover"}})]}).appendTo(BODY);t.setContent=(e=>{n.append(e)}),t.removeContent=(()=>{n.empty()})}}),DPlayInventory.MAIN=METHOD({run:()=>{ADD_FONT({name:"Nanum Myeongjo",style:"normal",weight:400,woff2:"/DPlayInventory/R/font/NanumMyeongjo-Regular.woff2",woff:"/DPlayInventory/R/font/NanumMyeongjo-Regular.woff",ttf:"/DPlayInventory/R/font/NanumMyeongjo-Regular.ttf"});let e=document.createElement("style");e.type="text/css",e.innerHTML="input[type=\"range\"]::-webkit-slider-thumb { width:30px; height:30px; } * { font-family:'Nanum Myeongjo', serif; user-select:none; -webkit-user-select:none; -webkit-tap-highlight-color:transparent; user-drag:none; -webkit-user-drag:none; } input, textarea { user-select:auto; -webkit-user-select:auto; }",document.getElementsByTagName("head")[0].appendChild(e),DPlayInventory.MATCH_VIEW({uri:"",target:DPlayInventory.Home})}}),UANI.FADE_IN=METHOD({run:(e,t)=>{e=COPY(e),e.keyframes={from:{opacity:0},to:{opacity:1}},ANIMATE(e,t)}}),UANI.FADE_OUT=METHOD({run:(e,t)=>{e=COPY(e),e.keyframes={from:{opacity:1},to:{opacity:0}},ANIMATE(e,t)}}),UANI.HIDE_SLIDE_DOWN=METHOD(e=>{let t={};return e.getSavedHeights=(()=>{return t}),{run:(e,n)=>{let o=e.node,i=o.getInnerHeight();e=COPY(e),t[o.id]=i,e.keyframes={from:{marginTop:0,height:i,overflow:o.getStyle("overflow")},to:{marginTop:i,height:0,overflow:"hidden"}},ANIMATE(e,n)}}}),UANI.HIDE_SLIDE_LEFT=METHOD(e=>{let t={};return e.getSavedWidths=(()=>{return t}),{run:(e,n)=>{let o,i=e.node,r=e.width,a=i.getInnerWidth(),u=i.getStyle("marginLeft");e=COPY(e),o=UANI.SHOW_SLIDE_LEFT.getSavedMarginLefts()[i.id],void 0===o&&(o=0),t[i.id]=a,e.keyframes={from:{width:a,marginLeft:void 0===u?0:u,overflow:"hidden"},to:{marginLeft:-(void 0===r?a:r)-o,overflow:"hidden"}},ANIMATE(e,n)}}}),UANI.HIDE_SLIDE_RIGHT=METHOD(e=>{let t={};return e.getSavedWidths=(()=>{return t}),{run:(e,n)=>{let o=e.node,i=e.width,r=o.getInnerWidth(),a=o.getStyle("marginLeft");e=COPY(e),t[o.id]=r,e.keyframes={from:{width:r,marginLeft:void 0===a?0:a,overflow:o.getStyle("overflow")},to:{marginLeft:void 0===i?r:i,overflow:"hidden"}},ANIMATE(e,n)}}}),UANI.HIDE_SLIDE_UP=METHOD(e=>{let t={};return e.getSavedHeights=(()=>{return t}),{run:(e,n)=>{let o=e.node,i=o.getInnerHeight();e=COPY(e),t[o.id]=i,e.keyframes={from:{height:i,overflow:o.getStyle("overflow")},to:{height:0,overflow:"hidden"}},ANIMATE(e,n)}}}),UANI.SHOW_SLIDE_DOWN=METHOD({run:(e,t)=>{let n=e.node,o=n.getInnerHeight();e=COPY(e),0===o&&(o=UANI.HIDE_SLIDE_DOWN.getSavedHeights()[n.id]),e.keyframes={from:{height:0,overflow:"hidden"},to:{height:o,overflow:n.getStyle("overflow")}},ANIMATE(e,()=>{n.addStyle({height:"auto"}),void 0!==t&&t()})}}),UANI.SHOW_SLIDE_LEFT=METHOD(e=>{let t={};return e.getSavedMarginLefts=(()=>{return t}),{run:(e,n)=>{let o=e.node,i=o.getInnerWidth(),r=o.getStyle("marginLeft");e=COPY(e),0===i&&(i=UANI.HIDE_SLIDE_LEFT.getSavedWidths()[o.id]),t[o.id]=r,e.keyframes={from:{width:i,marginLeft:void 0===r?-i:r,overflow:"hidden"},to:{marginLeft:0,overflow:o.getStyle("overflow")}},ANIMATE(e,n)}}}),UANI.SHOW_SLIDE_RIGHT=METHOD({run:(e,t)=>{let n=e.node,o=n.getInnerWidth(),i=n.getStyle("marginLeft");e=COPY(e),0===o&&(o=UANI.HIDE_SLIDE_RIGHT.getSavedWidths()[n.id]),e.keyframes={from:{width:o,marginLeft:void 0===i?o:i,overflow:"hidden"},to:{marginLeft:0,overflow:n.getStyle("overflow")}},ANIMATE(e,t)}}),UANI.SHOW_SLIDE_UP=METHOD({run:(e,t)=>{let n=e.node,o=n.getInnerHeight();e=COPY(e),0===o&&(o=UANI.HIDE_SLIDE_UP.getSavedHeights()[n.id]),e.keyframes={from:{marginTop:o,height:0,overflow:"hidden"},to:{marginTop:0,height:o,overflow:n.getStyle("overflow")}},ANIMATE(e,()=>{n.addStyle({height:"auto"}),void 0!==t&&t()})}}),UUI.ALERT=CLASS(e=>{let t=0;return e.getCount=(()=>{return t}),{init:(e,n,o)=>{let i,r,a=o.style,u=o.contentStyle,s=o.buttonStyle,c=o.on,d=o.msg,f=UUI.MODAL({style:COMBINE([{textAlign:"center"},a]),on:c,c:[i=P({style:u,c:d}),r=UUI.BUTTON({style:s,title:MSG({en:"Close",ko:"닫기"}),on:{tap:()=>{h()}}})]}),l=EVENT("keydown",e=>{("Enter"===e.getKey()||"TEXTAREA"!==document.activeElement.tagName&&"INPUT"!==document.activeElement.tagName&&" "===e.getKey())&&(r.fireEvent("tap"),e.stop())});t+=1,f.on("remove",()=>{l.remove(),t-=1});let h=(n.getNode=(()=>{return f.getNode()}),n.append=(e=>{i.append(e)}),n.prepend=(e=>{i.prepend(e)}),n.after=(e=>{f.after(e)}),n.before=(e=>{f.before(e)}),n.remove=(()=>{f.remove()}));n.empty=(()=>{i.empty()}),n.getChildren=(()=>{return i.getChildren()}),n.getButton=(()=>{return r}),n.addContentStyle=(e=>{i.addContentStyle(e)}),n.addButtonStyle=(e=>{r.addStyle(e)})}}}),UUI.BUTTON=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i=n.icon,r=n.title,a=void 0===n.spacing?0:n.spacing,u=n.href,s=n.target,c=A({style:{display:"block",textAlign:"center",cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none",color:"inherit"},href:u,target:s});void 0!==r&&c.prepend(o=DIV({c:void 0===r?"":r}));let d=t.setIcon=(e=>{i!==e&&void 0!==i&&i.remove(),i=e,c.prepend(DIV({style:{marginBottom:void 0!==r?a:0},c:i}))});void 0!==i&&d(i),e.setDom(c),t.setTitle=(e=>{o.empty(),o.append(e)}),t.getTitle=(()=>{return r}),t.getIcon=(()=>{return i}),t.tap=(()=>{EVENT.fireAll({node:t,name:"tap"})}),t.hideTitle=(()=>{i.addStyle({marginBottom:0}),o.hide()}),t.showTitle=(()=>{i.addStyle({marginBottom:a}),o.show()})}}),UUI.BUTTON_H=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i=n.icon,r=n.title,a=void 0===n.spacing?0:n.spacing,u=n.href,s=n.target,c=n.isIconRight,d=n.isToFixWrapperSize,f=n.style,l=n.contentStyle;void 0!==f&&(o=f.width);let h,E,g,v=A({style:{display:"block",cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none",color:"inherit"},href:u,target:s,c:g=TABLE({style:EXTEND({origin:{width:"100%"},extend:l}),c:TR({style:{margin:0,padding:0},c:c===!0?[TD({style:{margin:0,padding:0,whiteSpace:"nowrap"},c:[E=DIV({style:{flt:"left"}}),CLEAR_BOTH()]}),TD({style:{margin:0,padding:0},c:[h=DIV({style:{flt:"left",lineHeight:0}}),CLEAR_BOTH()]})]:[TD({style:{margin:0,padding:0},c:[h=DIV({style:{flt:"left",lineHeight:0}}),CLEAR_BOTH()]}),TD({style:{margin:0,padding:0,whiteSpace:"nowrap"},c:[E=DIV({style:{flt:"left"}}),CLEAR_BOTH()]})]})})}),p=()=>{if(void 0===o){let e=h.getWidth()+E.getWidth();g.addStyle({width:e}),d===!0&&v.addStyle({width:e})}};t.on("show",()=>{p()});let m=t.setIcon=(e=>{i=e,h.empty(),h.append(i),E.addStyle(c===!0?{paddingRight:a}:{paddingLeft:a}),EVENT_ONCE({node:i,name:"load"},e=>{p()})});void 0!==i&&m(i),e.setDom(v);let S=t.setTitle=(e=>{E.empty(),E.append(e),p()});void 0!==r&&S(r),t.getTitle=(()=>{return r}),t.getIcon=(()=>{return i}),t.tap=(()=>{EVENT.fireAll({node:t,name:"tap"})}),t.hideTitle=(()=>{E.hide()}),t.showTitle=(()=>{E.show()})}}),UUI.CALENDAR=CLASS({preset:()=>{return UUI.TABLE},init:(e,t,n,o)=>{let i=n.year,r=n.month,a=n.date,u=void 0===n.headerStyle?{}:n.headerStyle,s=n.dayStyle,c=n.dateStyle,d=n.todayDateStyle,f=n.otherMonthDateStyle,l=n.selectedDateStyle,h=n.leftArrowIcon,E=n.rightArrowIcon,g=CALENDAR();void 0!==i&&void 0!==r||(void 0===i&&(i=g.getYear()),void 0===r&&(r=g.getMonth()));let v,p;CHECK_IS_DATA(o)!==!0?v=o:(v=o.selectDate,p=o.each);let m,A;t.append(TR({c:TD({colspan:7,style:COMBINE([u,{textAlign:"center"}]),c:[A=SPAN(),DIV({style:{flt:"left",cursor:"pointer",userSelect:"none"},c:void 0===h?"<":h,on:{tap:()=>{r-=1,S()}}}),DIV({style:{flt:"right",cursor:"pointer",userSelect:"none"},c:void 0===E?">":E,on:{tap:()=>{r+=1,S()}}}),CLEAR_BOTH()]})})),t.append(TR({c:[TD({style:s,c:"일"}),TD({style:s,c:"월"}),TD({style:s,c:"화"}),TD({style:s,c:"수"}),TD({style:s,c:"목"}),TD({style:s,c:"금"}),TD({style:s,c:"토"})]}));let S=(t.getYear=(()=>{return m.getYear()}),t.getMonth=(()=>{return m.getMonth()}),RAR(()=>{let e,n,o,u=CALENDAR(CREATE_DATE({year:i,month:r+1,date:0})),s=0;m=CALENDAR(CREATE_DATE({year:i,month:r,date:1}));let h=CALENDAR(CREATE_DATE({year:i,month:r,date:-(m.getDay()-1)}));A.empty(),A.append(m.getYear()+"년 "+m.getMonth()+"월"),REPEAT(7,e=>{t.removeTR(e)}),REPEAT(m.getDay(),a=>{s%7===0&&t.addTR({key:s/7,tr:e=TR()});let u;e.append(u=TD({style:void 0===f?c:f,c:h.getDate()+a,on:{tap:(e,u)=>{void 0!==o&&n.addStyle(o),n=u,o=void 0===f?c:f,void 0!==l&&u.addStyle(l),void 0!==v&&v(CALENDAR(CREATE_DATE({year:i,month:r-1,date:h.getDate()+a})),t)}}})),void 0!==p&&p(u,CALENDAR(CREATE_DATE({year:i,month:r-1,date:h.getDate()+a})),t),s+=1}),REPEAT({start:m.getDate(),end:u.getDate()},(u,f)=>{s%7===0&&t.addTR({key:s/7,tr:e=TR()});let h;e.append(h=TD({style:COMBINE([c,void 0!==d&&m.getYear()===g.getYear()&&m.getMonth()===g.getMonth()&&u===g.getDate()?d:{}]),c:u,on:{tap:(e,a)=>{void 0!==o&&n.addStyle(o),n=a,o=COMBINE([c,void 0!==d&&m.getYear()===g.getYear()&&m.getMonth()===g.getMonth()&&u===g.getDate()?d:{}]),void 0!==l&&a.addStyle(l),void 0!==v&&v(CALENDAR(CREATE_DATE({year:i,month:r,date:u})),t)}}})),m.getYear()===g.getYear()&&m.getMonth()===g.getMonth()&&u===a&&(void 0!==o&&n.addStyle(o),n=h,o=COMBINE([c,void 0!==d&&m.getYear()===g.getYear()&&m.getMonth()===g.getMonth()&&u===g.getDate()?d:{}]),void 0!==l&&h.addStyle(l)),void 0!==p&&p(h,CALENDAR(CREATE_DATE({year:i,month:r,date:u})),t),s+=1}),REPEAT(42-s,a=>{s%7===0&&t.addTR({key:s/7,tr:e=TR()});let u;e.append(u=TD({style:void 0===f?c:f,c:a+1,on:{tap:(e,u)=>{void 0!==o&&n.addStyle(o),n=u,o=void 0===f?c:f,void 0!==l&&u.addStyle(l),void 0!==v&&v(CALENDAR(CREATE_DATE({year:i,month:r+1,date:a+1})),t)}}})),void 0!==p&&p(u,CALENDAR(CREATE_DATE({year:i,month:r+1,date:a+1})),t),s+=1})}))}}),UUI.CONFIRM=CLASS(e=>{let t=0;return e.getCount=(()=>{return t}),{init:(e,n,o,i)=>{let r,a,u=o.style,s=o.contentStyle,c=o.okButtonStyle,d=o.okButtonTitle,f=o.cancelButtonStyle,l=o.on,h=o.msg,E=o.target,g=o.href;CHECK_IS_DATA(i)!==!0?r=i:(r=i.ok,a=i.cancel);let v,p,m,A=UUI.MODAL({style:COMBINE([{textAlign:"center"},u]),on:l,c:[v=P({style:s,c:h}),p=UUI.BUTTON({style:c,target:E,href:g,title:void 0!==d?d:MSG({en:"Ok",ko:"확인"}),on:{tap:e=>{void 0!==r&&r(e.getLeft(),e.getTop())!==!1&&(e.stop(),_())}}}),m=UUI.BUTTON({style:f,title:MSG({en:"Close",ko:"닫기"}),on:{tap:()=>{void 0!==a&&a(),_()}}}),CLEAR_BOTH()]}),S=EVENT("keydown",e=>{("Enter"===e.getKey()||"TEXTAREA"!==document.activeElement.tagName&&"INPUT"!==document.activeElement.tagName&&" "===e.getKey())&&(p.fireEvent("tap"),e.stop())});t+=1,A.on("remove",()=>{S.remove(),t-=1});let _=(n.getNode=(()=>{return A.getNode()}),n.append=(e=>{v.append(e)}),n.prepend=(e=>{v.prepend(e)}),n.after=(e=>{A.after(e)}),n.before=(e=>{A.before(e)}),n.remove=(()=>{A.remove()}));n.empty=(()=>{v.empty()}),n.getChildren=(()=>{return v.getChildren()}),n.getOkButton=(()=>{return p}),n.getCancelButton=(()=>{return m}),n.addContentStyle=(e=>{v.addContentStyle(e)}),n.addOkButtonStyle=(e=>{p.addStyle(e)}),n.addCancelButtonStyle=(e=>{m.addStyle(e)})}}}),UUI.FULL_CHECKBOX=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i=n.name,r=n.label,a=void 0===n.spacing?0:n.spacing,u=n.value,s=n.inputStyle,c=DIV({style:{position:"relative"},c:[o=INPUT({style:{flt:"left",marginTop:5,marginRight:5},name:i,type:"checkbox",value:u}),SPAN({style:{marginLeft:a,flt:"left",cursor:"pointer"},c:r,on:{tap:e=>{o.toggleCheck(),EVENT.fireAll({node:t,name:"change"})}}}),CLEAR_BOTH()]});e.setWrapperDom(c);let d=(t.getName=(()=>{return i}),t.getValue=(()=>{return o.getValue()}),t.setValue=(e=>{let n=o.checkIsChecked();o.setValue(e),e===!0?n!==!0&&EVENT.fireAll({node:t,name:"change"}):n===!0&&EVENT.fireAll({node:t,name:"change"})}),t.select=(()=>{o.select(),EVENT.fireAll({node:t,name:"select"}),EVENT.fireAll({node:t,name:"focus"})}),t.blur=(()=>{o.blur(),EVENT.fireAll({node:t,name:"blur"})}),t.addInputStyle=(e=>{o.addStyle(e)}));void 0!==s&&d(s),t.on=((e,n)=>{"focus"===e||"blur"===e||"change"===e||"keydown"===e||"keypress"===e||"keyup"===e?EVENT({node:t,lowNode:o,name:e},n):EVENT({node:t,lowNode:c,name:e},n)}),t.toggleCheck=(e=>{let n=o.toggleCheck();return EVENT.fireAll({node:t,name:"change"}),n}),t.checkIsChecked=(()=>{return o.checkIsChecked()}),EVENT({node:t,lowNode:o,name:"keyup"},e=>{void 0!==e&&" "===e.getKey()&&DELAY(()=>{EVENT.fireAll({node:t,name:"change"})})})}}),UUI.FULL_INPUT=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i=n.name,r=n.type,a=n.placeholder,u=n.capture,s=n.accept,c=n.value,d=n.inputStyle,f=n.isOffAutocomplete,l=n.isOffAutocapitalize,h=DIV({style:{padding:5,backgroundColor:"#fff"},c:DIV({style:{position:"relative"},c:[SPAN({style:{visibility:"hidden"},c:"."}),o=INPUT({style:{position:"absolute",left:0,top:0,width:"100%",border:"none",background:"date"===r||"datetime"===r||"datetime-local"===r||"month"===r||"time"===r||"week"===r?void 0:"transparent"},name:i,type:r,value:c,capture:u,accept:s,placeholder:a,isOffAutocomplete:f,isOffAutocapitalize:l})]}),on:{tap:()=>{o.focus(),EVENT.fireAll({node:t,name:"focus"})}}});e.setWrapperDom(h);let E=(t.getName=(()=>{return i}),t.getValue=(()=>{return o.getValue()}),t.setValue=(e=>{let n=o.getValue();o.setValue(e),n!==e&&EVENT.fireAll({node:t,name:"change"})}),t.select=(()=>{o.select(),EVENT.fireAll({node:t,name:"select"}),EVENT.fireAll({node:t,name:"focus"})}),t.focus=(()=>{o.focus(),EVENT.fireAll({node:t,name:"focus"})}),t.blur=(()=>{o.blur(),EVENT.fireAll({node:t,name:"blur"})}),t.addInputStyle=(e=>{o.addStyle(e)}));void 0!==d&&E(d),t.on=((e,n)=>{"focus"===e||"blur"===e||"change"===e||"keydown"===e||"keypress"===e||"keyup"===e?EVENT({node:t,lowNode:o,name:e},n):EVENT({node:t,lowNode:h,name:e},n)})}}),UUI.FULL_SELECT=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i=n.name,r=n.value,a=n.options,u=n.selectStyle,s=DIV({style:{padding:5,backgroundColor:"#fff",position:"relative"},c:o=SELECT({style:{width:"100%",border:"none",background:"transparent"},name:i,value:r,c:a})});e.setWrapperDom(s);let c=(t.getName=(()=>{return i}),t.getValue=(()=>{return o.getValue()}),t.setValue=(e=>{let n=o.getValue();o.setValue(e),n!==e&&EVENT.fireAll({node:t,name:"change"})}),t.select=(()=>{o.select()}),t.blur=(()=>{o.blur()}),t.addSelectStyle=(e=>{o.addStyle(e)}));void 0!==u&&c(u),t.addOption=(e=>{o.append(e)}),t.removeAllOptions=(()=>{o.empty()}),t.on=((e,n)=>{"focus"===e||"blur"===e||"change"===e||"select"===e||"keydown"===e||"keypress"===e||"keyup"===e?EVENT({node:t,lowNode:o,name:e},n):EVENT({node:t,lowNode:s,name:e},n)})}}),UUI.FULL_SUBMIT=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o=void 0===n?void 0:n.value,i=INPUT({type:"submit",style:{display:"block",border:"none",width:"100%",padding:"10px 0",cursor:"pointer"}});void 0!==o&&i.setValue(o),e.setDom(i),t.getValue=(()=>{return i.getValue()}),t.setValue=(e=>{i.setValue(e)})}}),UUI.FULL_TEXTAREA=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i,r,a;void 0!==n&&(o=n.name,i=n.placeholder,r=n.value,a=n.textareaStyle);let u,s=DIV({style:{padding:5,backgroundColor:"#fff",position:"relative",height:100},c:u=TEXTAREA({style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"none"},name:o,placeholder:i,value:r})});e.setWrapperDom(s),e.setContentDom(u);let c=(t.getName=(()=>{return o}),t.getValue=(()=>{return u.getValue()}),t.setValue=(e=>{let n=u.getValue();u.setValue(e),n!==e&&EVENT.fireAll({node:t,name:"change"})}),t.select=(()=>{u.select()}),t.focus=(()=>{u.focus()}),t.blur=(()=>{u.blur()}),t.addTextareaStyle=(e=>{u.addStyle(e)}));void 0!==a&&c(a),t.on=((e,n)=>{"focus"===e||"blur"===e||"change"===e||"keydown"===e||"keypress"===e||"keyup"===e?EVENT({node:t,lowNode:u,name:e},n):EVENT({node:t,lowNode:s,name:e},n)})}}),UUI.FULL_UPLOAD_FORM=CLASS({preset:()=>{return NODE},init:(e,t,n,o)=>{let i,r,a=n.box,u=n.accept,s=n.isMultiple,c=void 0!==n.callbackURL?n.callbackURL:(BROWSER_CONFIG.isSecure===!0?"https://":"http://")+BROWSER_CONFIG.host+":"+BROWSER_CONFIG.port+"/__CORS_CALLBACK",d=n.formStyle,f=n.inputStyle,l=n.uploadingStyle;void 0!==o&&(i=o.success,r=o.overSizeFile);let h,E,g,v,p,m,A=DIV({style:{padding:5,background:"#FFF",position:"relative"},c:[v=IFRAME({style:{display:"none"},name:"__UPLOAD_FORM_"+t.id}),p=UUI.V_CENTER({style:{display:"none",position:"absolute",top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",color:"#fff",textAlign:"center"},c:["Uploading...",m=SPAN({style:{marginLeft:10}})]})]});GET({isSecure:BROWSER_CONFIG.isSecure,port:BROWSER_CONFIG.port,uri:"__UPLOAD_SERVER_HOST?defaultHost="+BROWSER_CONFIG.host},e=>{let n=RANDOM_STR(20);v.after(E=FORM({action:(BROWSER_CONFIG.isSecure===!0?"https://":"http://")+e+":"+BROWSER_CONFIG.port+"/__UPLOAD?boxName="+a.boxName+"&callbackURL="+c+"&uploadKey="+n,target:"__UPLOAD_FORM_"+t.id,method:"POST",enctype:"multipart/form-data",style:d,c:[g=INPUT({type:"file",name:"file",accept:u,isMultiple:s,style:COMBINE([{width:"100%",height:"100%",color:"#000",border:"none"},f])}),INPUT({type:"submit",style:{visibility:"hidden",position:"absolute"}})]})),EVENT({node:g,name:"change"},e=>{""!==g.getValue()&&(p.addStyle({width:A.getWidth(),height:A.getHeight()}),p.show(),void 0!==h&&h.exit(),h=a.ROOM("uploadProgressRoom/"+n),h.on("progress",e=>{m.empty(),m.append("("+e.bytesRecieved+"/"+e.bytesExpected+")")}),void 0!==E&&E.submit())})}),EVENT({node:v,name:"load"},e=>{let n,o=global["__UPLOAD_FORM_"+t.id],a=void 0!==o?o.fileDataSetStr:void 0,u=void 0!==o?o.maxUploadFileMB:void 0;if(void 0!==u)void 0!==r&&r(u),n=g.getValue(),g.setValue(""),""!==n&&EVENT.fireAll({node:t,name:"change"});else if(void 0!==a){let e=PARSE_STR(decodeURIComponent(a));EACH(e,(t,n)=>{e[n]=UNPACK_DATA(t)}),void 0!==i&&i(s!==!0?e[0]:e,t),n=g.getValue(),g.setValue(""),""!==n&&EVENT.fireAll({node:t,name:"change"})}p.hide(),void 0!==h&&(h.exit(),h=void 0)}),e.setWrapperDom(A);let S=(t.select=(()=>{void 0!==g&&(g.select(),EVENT.fireAll({node:t,name:"select"}),EVENT.fireAll({node:t,name:"focus"}))}),t.addFormStyle=(e=>{void 0!==E?E.addStyle(e):EXTEND({origin:d,extend:e})}));void 0!==d&&S(d);let _=t.addInputStyle=(e=>{void 0!==g?g.addStyle(e):EXTEND({origin:f,extend:e})});void 0!==f&&_(f);let C=t.addUploadingStyle=(e=>{p.addStyle(e)});void 0!==l&&C(l),t.on=((e,n)=>{"focus"===e||"blur"===e||"change"===e||"keydown"===e||"keypress"===e||"keyup"===e?EVENT({node:t,lowNode:g,name:e},n):EVENT({node:t,lowNode:A,name:e},n)})}}),UUI.ICON_BUTTON=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o=n.icon,i=n.href,r=n.target,a=A({style:{cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},href:i,target:r}),u=t.setIcon=(e=>{o!==e&&void 0!==o&&o.remove(),o=e,a.append(o)});void 0!==o&&u(o),e.setDom(a),t.getIcon=(()=>{return o}),t.tap=(()=>{EVENT.fireAll({node:t,name:"tap"})})}}),UUI.LIST=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i,r,a=void 0===n?void 0:n.isRequiringClearBoth,u=[],s={};void 0===i&&(i={}),e.setDom(o=UL());let c=t.addItem=(e=>{let n=e.key,c=e.item,d=e.isFirst;void 0!==i[n]?(c.insertBefore(i[n]),u[FIND({array:u,value:i[n]})]=c,i[n].remove()):d===!0&&u.length>0?(c.insertBefore(u[0]),u.unshift(c)):(t.append(c),u.push(c)),i[n]=c,a===!0&&(void 0!==r&&r.remove(),r=CLEAR_BOTH().appendTo(o)),c.on("remove",()=>{let e=s[n];void 0!==e&&EACH(e,e=>{e()}),REMOVE({array:u,value:c}),REMOVE({data:i,name:n}),REMOVE({data:s,name:n})})});void 0!==n&&void 0!==n.items&&EACH(n.items,(e,t)=>{c({key:t,item:e})}),t.getItems=(()=>{return i}),t.sortItems=(e=>{u.sort(e),EACH(u,e=>{t.append(e)})}),t.getItem=(e=>{return i[e]}),t.removeItem=(e=>{let t=i[e];void 0!==t&&t.remove()}),t.addRemoveItemHandler=((e,t)=>{void 0===s[e]&&(s[e]=[]),s[e].push(t)}),t.removeAllItems=(()=>{EACH(i,(e,t)=>{let n=s[t];e.remove(),void 0!==n&&EACH(n,e=>{e()})}),i={},u=[],s={}})}}),UUI.LOADING=CLASS({init:(e,t,n)=>{let o=n.style,i=n.contentStyle,r=n.indicator,a=n.msg,u=n.on,s=UUI.MODAL({style:COMBINE([{textAlign:"center"},o]),contentStyle:i,isCannotClose:!0,c:UUI.V_CENTER({style:{height:"100%"},c:[void 0===r?"":r,P({style:void 0===r?{}:{marginTop:10},c:a})]}),on:u});t.getNode=(()=>{return s.getNode()}),t.append=(e=>{s.append(e)}),t.prepend=(e=>{s.prepend(e)}),t.after=(e=>{s.after(e)}),t.before=(e=>{s.before(e)}),t.remove=(()=>{s.remove()}),t.empty=(()=>{s.empty()}),t.getChildren=(()=>{return s.getChildren()}),t.addStyle=(e=>{s.addStyle(e)}),t.addContentStyle=(e=>{s.addContentStyle(e)})}}),UUI.MODAL=CLASS({init:(e,t,n)=>{let o,i=void 0===n?void 0:n.c,r=void 0===n?void 0:n.style,a=void 0===n?void 0:n.contentStyle,u=void 0===n?void 0:n.xStyle,s=void 0===n?void 0:n.xIcon,c=void 0===n?void 0:n.isCannotClose,d=DIV({style:{position:"fixed",zIndex:9999999},c:[o=DIV(),void 0===s?"":UUI.ICON_BUTTON({style:COMBINE([{lineHeight:0,position:"absolute"},void 0===u?{top:-10,right:-10}:u]),icon:s,on:{tap:e=>{m()},mouseover:()=>{v({opacity:.8})},mouseout:()=>{v({opacity:1})}}})]}).appendTo(BODY),f=RAR(()=>{let e=(WIN_WIDTH()-d.getWidth())/2,t=(WIN_HEIGHT()-d.getHeight())/2;d.addStyle({left:e<0?0:e,top:t<0?0:t});let n=e=>{EACH(e,e=>{e.type===IMG&&EVENT({node:e,name:"load"},()=>{f()}),void 0!==e.getChildren&&n(e.getChildren())})};n(d.getChildren())});DELAY(()=>{f()}),d.on("show",f),d.on("append",f);let l=EVENT({name:"resize"},f),h=EVENT({name:"keydown"},e=>{"Escape"===e.getKey()&&c!==!0&&m()});d.on("remove",()=>{l.remove(),h.remove()});let E=(t.getNode=(()=>{return d}),t.append=(e=>{o.append(e),f()}));void 0!==i&&(CHECK_IS_ARRAY(i)===!0?EACH(i,(e,t)=>{E(e)}):E(i));let g=(t.prepend=(e=>{o.prepend(e),f()}),t.after=(e=>{d.after(e),f()}),t.before=(e=>{d.before(e),f()}),t.remove=(()=>{d.remove()})),v=(t.empty=(()=>{o.empty()}),t.getChildren=(()=>{return o.getChildren()}),t.addStyle=(e=>{d.addStyle(e),f()}));void 0!==r&&v(r);let p=t.addContentStyle=(e=>{o.addStyle(e),f()});void 0!==a&&p(a);let m=(t.on=((e,t)=>{d.on(e,t)}),t.close=(()=>{EVENT.fireAll({node:d,name:"close"})!==!1&&g()}));t.getLeft=(()=>{return d.getLeft()}),t.getTop=(()=>{return d.getTop()})},afterInit:(e,t,n)=>{let o;void 0!==n&&CHECK_IS_DATA(n)===!0&&(o=n.on),void 0!==o&&EACH(o,(e,n)=>{t.on(n,e)})}}),UUI.NOTICE=CLASS({init:(e,t,n)=>{let o=n.style,i=n.contentStyle,r=n.isCannotClose,a=n.on,u=n.msg,s=UUI.MODAL({style:COMBINE([{textAlign:"center"},o]),contentStyle:i,isCannotClose:!0,on:a,c:u});t.getNode=(()=>{return s.getNode()}),t.append=(e=>{s.append(e)}),t.prepend=(e=>{s.prepend(e)}),t.after=(e=>{s.after(e)}),t.before=(e=>{s.before(e)}),t.remove=(()=>{s.remove()}),t.empty=(()=>{s.empty()}),t.getChildren=(()=>{return s.getChildren()}),t.addContentStyle=(e=>{s.addContentStyle(e)}),r!==!0&&DELAY(2,()=>{s.close()})}}),UUI.PANEL=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i,r=void 0===n?void 0:n.contentStyle;o=DIV({c:i=DIV()}),e.setWrapperDom(o),e.setContentDom(i);let a=t.addContentStyle=(e=>{i.addStyle(e)});void 0!==r&&a(r)}}),UUI.PROMPT=CLASS(e=>{let t=0;return e.getCount=(()=>{return t}),{init:(e,n,o,i)=>{let r,a,u=o.style,s=o.contentStyle,c=o.formStyle,d=o.inputStyle,f=o.okButtonStyle,l=o.cancelButtonStyle,h=o.on,E=o.msg,g=o.value;CHECK_IS_DATA(i)!==!0?r=i:(r=i.ok,a=i.cancel);let v,p,m,A,S,_=UUI.MODAL({style:COMBINE([{textAlign:"center"},u]),on:h,c:[v=P({style:s,c:E}),p=FORM({style:c,c:m=UUI.FULL_INPUT({style:d,value:g,on:{keydown:e=>{"Escape"!==e.getKey()&&e.stopBubbling()}}}),on:{submit:e=>{r(m.getValue())!==!1&&C()}}}),A=UUI.BUTTON({style:f,title:MSG({en:"Ok",ko:"확인"}),on:{tap:()=>{p.submit()}}}),S=UUI.BUTTON({style:l,title:MSG({en:"Close",ko:"닫기"}),on:{tap:()=>{void 0!==a&&a(),C()}}}),CLEAR_BOTH()]});m.select(),t+=1,_.on("remove",()=>{t-=1});let C=(n.getNode=(()=>{return _.getNode()}),n.append=(e=>{v.append(e)}),n.prepend=(e=>{v.prepend(e)}),n.after=(e=>{_.after(e)}),n.before=(e=>{_.before(e)}),n.remove=(()=>{_.remove()}));n.empty=(()=>{v.empty()}),n.getChildren=(()=>{return v.getChildren()}),n.getOkButton=(()=>{return A}),n.getCancelButton=(()=>{return S}),n.addContentStyle=(e=>{v.addContentStyle(e)}),n.addInputStyle=(e=>{m.addStyle(e)}),n.addOkButtonStyle=(e=>{A.addStyle(e)}),n.addCancelButtonStyle=(e=>{S.addStyle(e)})}}}),UUI.RANGE=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o=n.name,i=n.min,r=n.max,a=n.step,u=n.value,s=n.thumbStyle,c=n.trackStyle,d=n.scale;void 0===i&&(i=0),void 0===r&&(r=100),void 0===a&&(a=1),void 0===u&&(u=i),void 0===d&&(d=1),u>r&&(u=r),u<i&&(u=i);let f,l,h=u,E=DIV({style:{padding:"10px 5px"},c:f=DIV({style:EXTEND({origin:{position:"relative"},extend:c}),c:l=DIV({style:EXTEND({origin:{position:"absolute",cursor:"pointer"},extend:s})})})});t.on("show",()=>{l.addStyle({left:(u-i)/(r-i)*f.getWidth(),marginLeft:-l.getWidth()/2,top:(f.getHeight()-l.getHeight())/2}),DELAY(()=>{l.addStyle({left:(u-i)/(r-i)*f.getWidth(),marginLeft:-l.getWidth()/2,top:(f.getHeight()-l.getHeight())/2})}),l.on("touchstart",e=>{let n=e.getLeft(),o=l.getLeft()+l.getWidth()/2-f.getLeft(),s=EVENT("touchmove",e=>{let s=f.getWidth(),c=o+(e.getLeft()-n)/d;c<0&&(c=0),c>s&&(c=s),u=c/s*(r-i)+i,u=Math.round(u/a)*a,c=(u-i)/(r-i)*s,l.addStyle({left:c}),h!==u&&(t.fireEvent("change"),h=u),e.stopDefault()}),c=EVENT("touchend",e=>{s.remove(),c.remove(),t.fireEvent("touchend"),e.stop()});e.stopDefault()})}),e.setWrapperDom(E),t.getName=(()=>{return o}),t.getValue=(()=>{return u}),t.setValue=(e=>{u=e,u>r&&(u=r),u<i&&(u=i),h!==u&&(t.fireEvent("change"),h=u)}),t.on=((e,n)=>{EVENT({node:t,lowNode:E,name:e},n)})}}),UUI.TABLE=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o=void 0===n?void 0:n.trs,i=[],r={};void 0===o&&(o={});let a;e.setDom(a=TABLE()),t.addTR=(e=>{let n=e.key,a=e.tr,u=e.isFirst;void 0!==o[n]?(a.insertBefore(o[n]),i[FIND({array:i,value:o[n]})]=a,o[n].remove()):u===!0&&i.length>0?(a.insertBefore(i[0]),i.unshift(a)):(t.append(a),i.push(a)),o[n]=a,a.on("remove",()=>{let e=r[n];void 0!==e&&EACH(e,e=>{e()}),REMOVE({array:i,value:a}),REMOVE({data:o,name:n}),REMOVE({data:r,name:n})})}),EACH(o,(e,n)=>{i.push(e),t.append(e)}),t.removeTR=(e=>{let t=o[e];void 0!==t&&t.remove()}),t.addRemoveTRHandler=((e,t)=>{void 0===r[e]&&(r[e]=[]),r[e].push(t)}),t.removeAllTRs=(()=>{EACH(o,(e,t)=>{let n=r[t];e.remove(),void 0!==n&&EACH(n,e=>{e()})}),o={},i=[],r={}})}}),UUI.TEXT_BUTTON=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i=n.title,r=n.href,a=n.target,u=A({style:{cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},href:r,target:a,c:o=SPAN({c:void 0===i?void 0===r?"":r:i})});e.setDom(u),t.setTitle=(e=>{o.empty(),o.append(e)}),t.tap=(()=>{EVENT.fireAll({node:t,name:"tap"})})}}),UUI.VALID_FORM=CLASS({preset:()=>{return FORM},init:(e,t,n)=>{let o=void 0===n?void 0:n.errorMsgs,i=void 0===n?void 0:n.errorMsgStyle,r=[];t.on("remove",()=>{EACH(r,e=>{e.remove()})}),t.showErrors=(e=>{let n=COPY(e),a=e=>{EACH(e.getChildren(),e=>{if(void 0!==e.getValue&&void 0!==e.getName){let t=e.getName(),a=n[t];if(void 0!==a&&void 0!==o){let u=o[t][a.type];"function"==typeof u&&(u=u(void 0!==a.validParam?a.validParam:a.validParams));let s;e.after(s=P({style:i,c:u})),REMOVE({data:n,name:t}),r.push(DELAY(3,e=>{s.remove(),REMOVE({array:r,value:e})}))}}a(e)})};a(t)}),t.getErrorMsgs=(e=>{let t={};return EACH(e,(e,n)=>{if(void 0!==o){let i=o[n][e.type];"function"==typeof i&&(i=i(void 0!==e.validParam?e.validParam:e.validParams)),t[n]=i}}),t}),t.getErrorMsgStyle=(()=>{return i})}}),UUI.V_CENTER=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o,i=void 0===n?void 0:n.contentStyle,r=TABLE({style:{width:"100%",margin:0,padding:0},c:TR({style:{margin:0,padding:0},c:o=TD({style:{width:"100%",height:"100%",margin:0,padding:0}})})});e.setWrapperDom(r),e.setContentDom(o);let a=t.addContentStyle=(e=>{o.addStyle(e)});void 0!==i&&a(i)}}),FOR_BOX(e=>{e.R=METHOD(t=>{let n;return t.setBasePath=(e=>{n=e}),{run:(t,o)=>{let i=e.boxName+"/R/"+t,r=__R[i];return void 0!==r?i=r:(void 0!==CONFIG.version&&(i+="?version="+CONFIG.version),void 0!==n&&(i=n+"/"+i),"file:"===location.protocol?e.boxName!==CONFIG.defaultBoxName&&(i="BOX/"+i):i="/"+i),void 0!==o&&GET(i,o),i}}})});